<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>AWS Hands-on - AWS Hands-on</title>


        <!-- Custom HTML head -->
        <!-- PWA -->
        <link rel="icon" type="image/x-icon" href="https://devnamdev2003.github.io/devdocs/static/icons/favicon.ico">
        <link rel="manifest" href="https://devnamdev2003.github.io/devdocs/static/manifest.webmanifest">
        <meta name="theme-color" content="#0d1117">
        
        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://devnamdev2003.github.io/devdocs">
        <meta property="og:image" content="https://devnamdev2003.github.io/devdocs/static/img/share.png">
        
        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:url" content="https://devnamdev2003.github.io/devdocs">
        <meta property="twitter:image" content="https://devnamdev2003.github.io/devdocs/static/img/share.png">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-c7116dad.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-6c8a5e48.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>â†</kbd> or <kbd>â†’</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">AWS Hands-on</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/devnamdev2003/devdocs" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>
                        <a href="https://github.com/devnamdev2003/devdocs/edit/main/md-code/aws-hands-on/src/aws-hands-on.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <span class=fa-svg id="git-edit-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h2 id=""><a class="header" href="#"><a href="../src">ğŸ‘ˆ</a></a></h2>
<h1 id="-complete-aws-ec2-hands-on-roadmap"><a class="header" href="#-complete-aws-ec2-hands-on-roadmap">ğŸ§­ COMPLETE AWS EC2 HANDS-ON ROADMAP</a></h1>
<h2 id="-ec2-hands-on--lab-1"><a class="header" href="#-ec2-hands-on--lab-1">ğŸ§ª EC2 HANDS-ON â€“ LAB 1</a></h2>
<h3 id="-launch-your-first-ec2-instance-free-tier--safe"><a class="header" href="#-launch-your-first-ec2-instance-free-tier--safe">ğŸ‘‰ Launch Your First EC2 Instance (Free Tier â€“ SAFE)</a></h3>
<h3 id="-objective"><a class="header" href="#-objective">ğŸ¯ Objective</a></h3>
<p>You will:</p>
<ul>
<li>Launch a <strong>Free Tier EC2 instance</strong></li>
<li>Understand <strong>AMI, instance type, key pair, security group</strong></li>
<li>Get a <strong>public IP</strong></li>
</ul>
<hr>
<h3 id="-before-you-start-very-important"><a class="header" href="#-before-you-start-very-important">ğŸ§  Before You Start (Very Important)</a></h3>
<ul>
<li>Login to <strong>Amazon Web Services Management Console</strong></li>
<li>Make sure you are in <strong>ONE region</strong> (example: <code>ap-south-1 (Mumbai)</code>)</li>
</ul>
<p>ğŸ‘‰ <strong>Region matters</strong> because:</p>
<ul>
<li>EC2 runs inside a region</li>
<li>Free tier limits are per region</li>
</ul>
<hr>
<h3 id="-step-1-go-to-ec2-dashboard"><a class="header" href="#-step-1-go-to-ec2-dashboard">ğŸ”¹ STEP 1: Go to EC2 Dashboard</a></h3>
<ol>
<li>Login to AWS Console</li>
<li>In the <strong>search bar</strong>, type: <code>EC2</code></li>
<li>Click <strong>EC2</strong></li>
</ol>
<p>ğŸ“Œ You are now inside the EC2 service</p>
<hr>
<h3 id="-step-2-click-launch-instance"><a class="header" href="#-step-2-click-launch-instance">ğŸ”¹ STEP 2: Click â€œLaunch Instanceâ€</a></h3>
<ol>
<li>Click <strong>Launch Instance</strong></li>
<li>You will see a <strong>Launch Instance</strong> page</li>
</ol>
<hr>
<h3 id="-step-3-name-your-instance"><a class="header" href="#-step-3-name-your-instance">ğŸ”¹ STEP 3: Name Your Instance</a></h3>
<ul>
<li>
<p>Instance name:</p>
<pre><code>ec2-hands-on-1
</code></pre>
</li>
</ul>
<p>ğŸ“Œ This is just a <strong>label</strong> to identify your server</p>
<hr>
<h3 id="-step-4-choose-ami-operating-system"><a class="header" href="#-step-4-choose-ami-operating-system">ğŸ”¹ STEP 4: Choose AMI (Operating System)</a></h3>
<p>Select:</p>
<ul>
<li><strong>Amazon Linux 2023 AMI</strong></li>
</ul>
<p>ğŸ“Œ Why?</p>
<ul>
<li>Free tier eligible</li>
<li>Optimized for AWS</li>
<li>Secure and lightweight</li>
</ul>
<p>âœ… Do <strong>NOT</strong> choose Ubuntu for now</p>
<hr>
<h3 id="-step-5-choose-instance-type"><a class="header" href="#-step-5-choose-instance-type">ğŸ”¹ STEP 5: Choose Instance Type</a></h3>
<p>Select:</p>
<ul>
<li><strong>t2.micro</strong></li>
</ul>
<p>ğŸ“Œ Why?</p>
<ul>
<li>1 vCPU</li>
<li>1 GB RAM</li>
<li><strong>FREE TIER ELIGIBLE</strong></li>
</ul>
<p>âš ï¸ Anything else = billing risk</p>
<hr>
<h3 id="-step-6-create-key-pair-very-important"><a class="header" href="#-step-6-create-key-pair-very-important">ğŸ”¹ STEP 6: Create Key Pair (VERY IMPORTANT)</a></h3>
<p>Key pair = <strong>login password for your server</strong></p>
<ol>
<li>
<p>Click <strong>Create new key pair</strong></p>
</li>
<li>
<p>Key pair name:</p>
<pre><code>ec2-key-hands-on
</code></pre>
</li>
<li>
<p>Key pair type: <strong>RSA</strong></p>
</li>
<li>
<p>Private key format: <strong>.pem</strong></p>
</li>
<li>
<p>Click <strong>Create key pair</strong></p>
</li>
</ol>
<p>ğŸ“Œ A <code>.pem</code> file will download
âš ï¸ <strong>DO NOT DELETE IT</strong>
Without this, you <strong>cannot login</strong></p>
<hr>
<h3 id="-step-7-configure-network-settings-security-group"><a class="header" href="#-step-7-configure-network-settings-security-group">ğŸ”¹ STEP 7: Configure Network Settings (Security Group)</a></h3>
<p>Click <strong>Edit</strong> under Network settings</p>
<h3 id="inbound-rules-allow-access"><a class="header" href="#inbound-rules-allow-access">Inbound rules (ALLOW ACCESS):</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Type</th><th>Port</th><th>Source</th></tr>
</thead>
<tbody>
<tr><td>SSH</td><td>22</td><td>My IP</td></tr>
<tr><td>HTTP</td><td>80</td><td>Anywhere</td></tr>
</tbody>
</table>
</div>
<p>ğŸ“Œ Explanation:</p>
<ul>
<li><strong>SSH (22)</strong> â†’ Login to EC2</li>
<li><strong>HTTP (80)</strong> â†’ Web server access</li>
<li><strong>My IP</strong> â†’ Secure (only your system)</li>
<li><strong>Anywhere</strong> â†’ Public website access</li>
</ul>
<hr>
<h3 id="-step-8-storage-leave-default"><a class="header" href="#-step-8-storage-leave-default">ğŸ”¹ STEP 8: Storage (Leave Default)</a></h3>
<ul>
<li>8 GiB (gp3) â†’ Leave as it is</li>
</ul>
<p>ğŸ“Œ Free tier allows up to <strong>30 GB</strong></p>
<hr>
<h3 id="-step-9-launch-instance"><a class="header" href="#-step-9-launch-instance">ğŸ”¹ STEP 9: Launch Instance</a></h3>
<ol>
<li>Review everything</li>
<li>Click <strong>Launch Instance</strong></li>
<li>Click <strong>View all instances</strong></li>
</ol>
<hr>
<h3 id="-step-10-verify-instance-status"><a class="header" href="#-step-10-verify-instance-status">ğŸ”¹ STEP 10: Verify Instance Status</a></h3>
<p>Your instance state should be:</p>
<ul>
<li>ğŸŸ¡ Initializing</li>
<li>ğŸŸ¢ <strong>Running</strong></li>
</ul>
<p>Click your instance and check:</p>
<ul>
<li><strong>Instance State</strong> â†’ Running</li>
<li><strong>Public IPv4 address</strong> â†’ COPY IT</li>
</ul>
<p>ğŸ“Œ This IP is your <strong>server on the internet</strong></p>
<hr>
<h3 id="-task-for-you-do-this-now"><a class="header" href="#-task-for-you-do-this-now">âœ… TASK FOR YOU (DO THIS NOW)</a></h3>
<p>âœ” Launch EC2 instance
âœ” Instance state = <strong>Running</strong>
âœ” You can see <strong>Public IPv4 address</strong></p>
<hr>
<p>Excellent ğŸ‘
<strong>LAB 1 completed successfully</strong> âœ…
Now we move to the <strong>next hands-on</strong>, exactly as promised.</p>
<hr>
<h2 id="-ec2-hands-on--lab-2"><a class="header" href="#-ec2-hands-on--lab-2">ğŸ§ª EC2 HANDS-ON â€“ LAB 2</a></h2>
<h3 id="-connect-to-ec2-using-ssh"><a class="header" href="#-connect-to-ec2-using-ssh">ğŸ‘‰ Connect to EC2 using SSH</a></h3>
<p><img src="https://miro.medium.com/1%2AB6_U18PU0UYWOgbsDQbzxg.png" alt="Image"></p>
<p><img src="https://cloudonaut.io/images/2022/02/ec2-ssh-ic-ssm.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-this-lab"><a class="header" href="#-objective-of-this-lab">ğŸ¯ Objective of This Lab</a></h3>
<p>You will:</p>
<ul>
<li>Connect to your EC2 instance <strong>from your Windows laptop</strong></li>
<li>Understand <strong>SSH</strong>, <strong>key pair</strong>, <strong>user</strong>, <strong>IP</strong></li>
<li>Login <strong>successfully</strong> without fear or confusion</li>
</ul>
<hr>
<h3 id="-important-concepts"><a class="header" href="#-important-concepts">ğŸ§  Important Concepts</a></h3>
<p>Before doing steps, understand this:</p>
<h3 id="-what-is-ssh"><a class="header" href="#-what-is-ssh">ğŸ”¹ What is SSH?</a></h3>
<p><strong>SSH (Secure Shell)</strong> is a secure way to:</p>
<ul>
<li>Connect your laptop â†’ EC2 server</li>
<li>Run commands on the server</li>
</ul>
<p>Think like this:</p>
<blockquote>
<p>SSH = Remote control of your EC2 using text commands</p>
</blockquote>
<hr>
<h3 id="-what-do-we-need-for-ssh"><a class="header" href="#-what-do-we-need-for-ssh">ğŸ”¹ What do we need for SSH?</a></h3>
<p>We need <strong>4 things</strong>:</p>
<ol>
<li><strong>Public IP</strong> â†’ Address of your EC2</li>
<li><strong>Key pair (.pem file)</strong> â†’ Password (but more secure)</li>
<li><strong>Username</strong> â†’ Depends on OS</li>
<li><strong>SSH command</strong></li>
</ol>
<hr>
<h3 id="-step-1-open-powershell-windows"><a class="header" href="#-step-1-open-powershell-windows">ğŸ”¹ STEP 1: Open PowerShell (Windows)</a></h3>
<ol>
<li>Press <strong>Windows key</strong></li>
<li>Type: <code>PowerShell</code></li>
<li>Open <strong>Windows PowerShell</strong></li>
</ol>
<p>ğŸ“Œ Do <strong>NOT</strong> open CMD
PowerShell supports SSH by default</p>
<hr>
<h3 id="-step-2-go-to-folder-where-pem-file-exists"><a class="header" href="#-step-2-go-to-folder-where-pem-file-exists">ğŸ”¹ STEP 2: Go to Folder Where <code>.pem</code> File Exists</a></h3>
<p>Your key file name:</p>
<pre><code>ec2-key-hands-on.pem
</code></pre>
<p>Usually it is in <strong>Downloads</strong> folder.</p>
<h3 id="run-this-command"><a class="header" href="#run-this-command">Run this command:</a></h3>
<pre><code class="language-powershell">cd Downloads
</code></pre>
<p>ğŸ“Œ Explanation:</p>
<ul>
<li><code>cd</code> = change directory</li>
<li><code>Downloads</code> = folder name</li>
</ul>
<p>To confirm file exists, run:</p>
<pre><code class="language-powershell">ls
</code></pre>
<p>ğŸ“Œ <code>ls</code> shows list of files
You should see:</p>
<pre><code>ec2-key-hands-on.pem
</code></pre>
<hr>
<h3 id="-step-3-copy-your-ec2-public-ip"><a class="header" href="#-step-3-copy-your-ec2-public-ip">ğŸ”¹ STEP 3: Copy Your EC2 Public IP</a></h3>
<ol>
<li>Go to EC2 Console</li>
<li>Click your instance</li>
<li>Copy <strong>Public IPv4 address</strong></li>
</ol>
<p>Example:</p>
<pre><code>13.235.xxx.xxx
</code></pre>
<hr>
<h3 id="-step-4-understand-the-ssh-command-important"><a class="header" href="#-step-4-understand-the-ssh-command-important">ğŸ”¹ STEP 4: Understand the SSH Command (IMPORTANT)</a></h3>
<h3 id="ssh-command-format"><a class="header" href="#ssh-command-format">SSH command format:</a></h3>
<pre><code class="language-powershell">ssh -i keyfile.pem username@public-ip
</code></pre>
<p>Now replace values ğŸ‘‡</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Part</th><th>Value</th></tr>
</thead>
<tbody>
<tr><td>keyfile</td><td><code>ec2-key-hands-on.pem</code></td></tr>
<tr><td>username</td><td><code>ec2-user</code></td></tr>
<tr><td>public-ip</td><td>your EC2 IP</td></tr>
</tbody>
</table>
</div>
<p>ğŸ“Œ <strong>Why <code>ec2-user</code>?</strong>
Because you selected <strong>Amazon Linux AMI</strong></p>
<hr>
<h3 id="-step-5-connect-to-ec2-run-this"><a class="header" href="#-step-5-connect-to-ec2-run-this">ğŸ”¹ STEP 5: Connect to EC2 (RUN THIS)</a></h3>
<pre><code class="language-powershell">ssh -i ec2-key-hands-on.pem ec2-user@YOUR_PUBLIC_IP
</code></pre>
<p>Example:</p>
<pre><code class="language-powershell">ssh -i ec2-key-hands-on.pem ec2-user@13.235.xxx.xxx
</code></pre>
<hr>
<h3 id="-step-6-type-yes-first-time-only"><a class="header" href="#-step-6-type-yes-first-time-only">ğŸ”¹ STEP 6: Type â€œyesâ€ (First Time Only)</a></h3>
<p>You will see:</p>
<pre><code>Are you sure you want to continue connecting (yes/no)?
</code></pre>
<p>Type:</p>
<pre><code>yes
</code></pre>
<p>Press <strong>Enter</strong></p>
<p>ğŸ“Œ This happens only once
It means: â€œI trust this serverâ€</p>
<hr>
<h3 id="-success-check-very-important"><a class="header" href="#-success-check-very-important">ğŸ‰ SUCCESS CHECK (VERY IMPORTANT)</a></h3>
<p>If you see something like:</p>
<pre><code>[ec2-user@ip-172-31-xx-xx ~]$
</code></pre>
<p>âœ… <strong>YOU ARE INSIDE EC2 SERVER</strong></p>
<p>This means:</p>
<ul>
<li>Your laptop â†’ connected to AWS server</li>
<li>SSH is working</li>
<li>Key pair is correct</li>
</ul>
<hr>
<h3 id="-verify-you-are-really-inside-ec2"><a class="header" href="#-verify-you-are-really-inside-ec2">ğŸ” Verify You Are Really Inside EC2</a></h3>
<p>Run:</p>
<pre><code class="language-bash">whoami
</code></pre>
<p>Output should be:</p>
<pre><code>ec2-user
</code></pre>
<p>Run:</p>
<pre><code class="language-bash">pwd
</code></pre>
<p>Output:</p>
<pre><code>/home/ec2-user
</code></pre>
<hr>
<h3 id="-task-for-you-lab-2"><a class="header" href="#-task-for-you-lab-2">âœ… TASK FOR YOU (LAB 2)</a></h3>
<p>âœ” Open PowerShell</p>
<p>âœ” SSH into EC2</p>
<p>âœ” See <code>[ec2-user@...]$</code> prompt</p>
<p>âœ” Run <code>whoami</code></p>
<hr>
<h2 id="-what-is-a-key-pair-in-ec2"><a class="header" href="#-what-is-a-key-pair-in-ec2">ğŸ”‘ What is a Key Pair in EC2?</a></h2>
<p>A <strong>Key Pair</strong> is like a <strong>lock and key</strong> ğŸ”</p>
<ul>
<li><strong>Public key</strong> â†’ Stored inside the EC2 instance (AWS keeps it)</li>
<li><strong>Private key</strong> â†’ Downloaded by <strong>you</strong> (file like <code>.pem</code> or <code>.ppk</code>)</li>
</ul>
<p>This key pair is used to <strong>log in securely</strong> to your EC2 instance.</p>
<p>ğŸ‘‰ <strong>Without a key pair, you CANNOT login to EC2</strong></p>
<hr>
<h3 id="-when-you-create-a-key-pair--what-options-you-see"><a class="header" href="#-when-you-create-a-key-pair--what-options-you-see">ğŸ§­ When You Create a Key Pair â€“ What Options You See</a></h3>
<p>When you click <strong>Create new key pair</strong>, AWS shows <strong>2 main options</strong>:</p>
<p><img src="https://media.geeksforgeeks.org/wp-content/uploads/20230309161715/IMG_20230309_161526-768.png" alt="Image"></p>
<hr>
<h3 id="1-key-pair-type"><a class="header" href="#1-key-pair-type">1ï¸âƒ£ Key Pair Type</a></h3>
<p>You will see <strong>two options</strong>:</p>
<h3 id="-rsa-most-common-"><a class="header" href="#-rsa-most-common-">ğŸ”¹ RSA (Most common âœ…)</a></h3>
<ul>
<li>Old but very stable</li>
<li>Supported everywhere</li>
<li>Default choice</li>
</ul>
<p>ğŸ‘‰ <strong>Use this if you are a beginner</strong></p>
<h3 id="-ed25519"><a class="header" href="#-ed25519">ğŸ”¹ ED25519</a></h3>
<ul>
<li>Newer &amp; more secure</li>
<li>Faster</li>
<li>Not supported by some old systems</li>
</ul>
<p>ğŸ‘‰ Use this <strong>only if you clearly know you need it</strong></p>
<p>âœ… <strong>Recommended for you:</strong> <code>RSA</code></p>
<hr>
<h3 id="2-private-key-file-format-most-important"><a class="header" href="#2-private-key-file-format-most-important">2ï¸âƒ£ Private Key File Format (MOST IMPORTANT)</a></h3>
<p>This is where people get confused ğŸ‘‡</p>
<p>You will see <strong>two options</strong>:</p>
<hr>
<h3 id="-pem-file-linux--mac--git-bash"><a class="header" href="#-pem-file-linux--mac--git-bash">ğŸ”¹ <code>.pem</code> file (Linux / Mac / Git Bash)</a></h3>
<p><strong>Use this when:</strong></p>
<ul>
<li>
<p>EC2 OS is <strong>Amazon Linux / Ubuntu</strong></p>
</li>
<li>
<p>You connect using:</p>
<ul>
<li>Git Bash</li>
<li>MobaXterm</li>
<li>Mac Terminal</li>
<li>Linux Terminal</li>
</ul>
</li>
</ul>
<hr>
<h3 id="-ppk-file-windows--putty"><a class="header" href="#-ppk-file-windows--putty">ğŸ”¹ <code>.ppk</code> file (Windows â€“ PuTTY)</a></h3>
<p><strong>Use this when:</strong></p>
<ul>
<li>You use <strong>PuTTY</strong> on Windows</li>
<li>You donâ€™t want to convert <code>.pem</code> to <code>.ppk</code></li>
</ul>
<p>Used directly in <strong>PuTTY â†’ Auth â†’ Private key file</strong></p>
<hr>
<h3 id="-very-important-rule-remember-this"><a class="header" href="#-very-important-rule-remember-this">ğŸ§  Very Important Rule (Remember This)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Your Tool</th><th>Choose This</th></tr>
</thead>
<tbody>
<tr><td>Git Bash / MobaXterm</td><td><code>.pem</code></td></tr>
<tr><td>Mac / Linux Terminal</td><td><code>.pem</code></td></tr>
<tr><td>PuTTY (Windows)</td><td><code>.ppk</code></td></tr>
</tbody>
</table>
</div>
<p>ğŸ‘‰ If confused â†’ <strong>Always choose <code>.pem</code></strong>
You can later convert <code>.pem â†’ .ppk</code>, but not easily the other way.</p>
<hr>
<h3 id="-important-warnings-real-life-mistakes"><a class="header" href="#-important-warnings-real-life-mistakes">â— IMPORTANT WARNINGS (Real-life mistakes)</a></h3>
<p>âš ï¸ <strong>Download key only ONCE</strong></p>
<ul>
<li>AWS will <strong>never show it again</strong></li>
<li>If you lose it â†’ You lose access</li>
</ul>
<p>âš ï¸ <strong>Do NOT share your private key</strong></p>
<ul>
<li>Anyone with this file can access your server</li>
</ul>
<p>âš ï¸ <strong>Do NOT upload key to GitHub</strong></p>
<ul>
<li>This is a serious security risk</li>
</ul>
<hr>
<h3 id="-short-memory-trick"><a class="header" href="#-short-memory-trick">ğŸ§  Short Memory Trick</a></h3>
<blockquote>
<p><strong>Linux server = <code>.pem</code></strong>
<strong>PuTTY user = <code>.ppk</code></strong></p>
</blockquote>
<hr>
<h2 id="-what-key-pair-means-internally-big-picture"><a class="header" href="#-what-key-pair-means-internally-big-picture">ğŸ” What â€œKey Pairâ€ Means Internally (Big Picture)</a></h2>
<p>An EC2 key pair uses <strong>asymmetric encryption</strong>.</p>
<p>That means:</p>
<ul>
<li>ğŸ”‘ <strong>Public Key</strong> â†’ stored on the EC2 server</li>
<li>ğŸ—ï¸ <strong>Private Key</strong> â†’ stored ONLY with you</li>
<li>They work <strong>together</strong>, not separately</li>
</ul>
<p>Think of it like:</p>
<blockquote>
<p><strong>Public key = Lock</strong>
<strong>Private key = Only key that can open that lock</strong></p>
</blockquote>
<hr>
<h3 id="-step-by-step-what-happens-internally"><a class="header" href="#-step-by-step-what-happens-internally">ğŸ§  Step-by-Step: What Happens Internally</a></h3>
<p><img src="https://comodosslstore.com/blog/wp-content/uploads/2018/04/public-key-vs-private-key.png" alt="Image"></p>
<h3 id="when-ec2-instance-is-launched"><a class="header" href="#when-ec2-instance-is-launched">When EC2 instance is launched:</a></h3>
<ul>
<li>The <strong>public key</strong> is copied into the server file:</li>
</ul>
<pre><code class="language-text">~/.ssh/authorized_keys
</code></pre>
<p>This file lives <strong>inside the EC2 instance</strong>.</p>
<p>ğŸ‘‰ This file decides <strong>who is allowed to log in</strong>.</p>
<hr>
<h3 id="-you-try-to-connect-ssh"><a class="header" href="#-you-try-to-connect-ssh">ğŸŸ¢ You try to connect (SSH)</a></h3>
<p>You run:</p>
<pre><code class="language-bash">ssh -i mykey.pem ec2-user@&lt;public-ip&gt;
</code></pre>
<p>What happens internally:</p>
<ol>
<li>You say: <em>â€œHey server, I want to loginâ€</em></li>
<li>Server says: <em>â€œProve you are authorizedâ€</em></li>
</ol>
<hr>
<h3 id="-server-sends-a-challenge-"><a class="header" href="#-server-sends-a-challenge-">ğŸŸ¢ Server sends a challenge ğŸ”’</a></h3>
<p>The EC2 server:</p>
<ul>
<li>Creates a <strong>random encrypted message</strong></li>
<li>Encrypts it using the <strong>public key</strong></li>
<li>Sends it to your system</li>
</ul>
<p>âš ï¸ Important:</p>
<ul>
<li><strong>Only the matching private key can decrypt it</strong></li>
</ul>
<hr>
<h3 id="-step-5-your-private-key-responds-"><a class="header" href="#-step-5-your-private-key-responds-">ğŸŸ¢ Step 5: Your private key responds ğŸ”“</a></h3>
<p>Your computer:</p>
<ul>
<li>Uses your <strong>private key</strong></li>
<li>Decrypts the message</li>
<li>Sends the correct response back</li>
</ul>
<hr>
<h3 id="-step-6-server-verifies-and-allows-login-"><a class="header" href="#-step-6-server-verifies-and-allows-login-">ğŸŸ¢ Step 6: Server verifies and allows login âœ…</a></h3>
<p>Server checks:</p>
<ul>
<li>â€œDoes this response match what I expected?â€</li>
</ul>
<p>If <strong>YES</strong>:</p>
<ul>
<li>Login allowed ğŸ‰</li>
</ul>
<p>If <strong>NO</strong>:</p>
<ul>
<li>âŒ Permission denied</li>
</ul>
<hr>
<h3 id="-internal-flow-very-simple"><a class="header" href="#-internal-flow-very-simple">ğŸ”„ Internal Flow (Very Simple)</a></h3>
<pre><code>You (Private Key)
        â†“
Decrypt challenge
        â†“
Send proof
        â†“
EC2 checks using Public Key
        â†“
Login allowed
</code></pre>
<hr>
<h3 id="-why-password-is-not-used"><a class="header" href="#-why-password-is-not-used">ğŸ” Why Password Is NOT Used</a></h3>
<p>EC2 does <strong>NOT</strong> use passwords by default because:</p>
<p>âŒ Passwords can be:</p>
<ul>
<li>Brute-forced</li>
<li>Stolen</li>
<li>Guessed</li>
</ul>
<p>âœ… Keys are:</p>
<ul>
<li>Very long</li>
<li>Mathematically linked</li>
<li>Impossible to guess</li>
</ul>
<hr>
<h3 id="-what-if-someone-gets-public-key"><a class="header" href="#-what-if-someone-gets-public-key">ğŸ”¥ What If Someone Gets Public Key?</a></h3>
<p>Nothing happens.</p>
<p>âœ”ï¸ Public key:</p>
<ul>
<li>Can be shared</li>
<li>Is useless without private key</li>
</ul>
<p>âŒ Private key:</p>
<ul>
<li>MUST be protected</li>
<li>Gives full access</li>
</ul>
<hr>
<h3 id="-what-if-you-lose-the-private-key"><a class="header" href="#-what-if-you-lose-the-private-key">ğŸ§¨ What If You Lose the Private Key?</a></h3>
<p>Internally:</p>
<ul>
<li>Server has the public key</li>
<li>You donâ€™t have the private key</li>
<li>Authentication fails forever âŒ</li>
</ul>
<p>Result:</p>
<ul>
<li>
<p>You cannot login</p>
</li>
<li>
<p>You must:</p>
<ul>
<li>Detach root volume</li>
<li>Attach to another EC2</li>
<li>Add a new public key manually</li>
</ul>
</li>
</ul>
<hr>
<h3 id="-one-line-summary-interview-ready"><a class="header" href="#-one-line-summary-interview-ready">ğŸ§  One-Line Summary (Interview Ready)</a></h3>
<blockquote>
<p><strong>EC2 uses SSH key-based authentication where the public key is stored on the server and the private key proves the clientâ€™s identity without ever being sent over the network.</strong></p>
</blockquote>
<hr>
<h3 id="-real-world-analogy"><a class="header" href="#-real-world-analogy">ğŸ§ª Real-World Analogy</a></h3>
<ul>
<li>Public key â†’ Lock on your house</li>
<li>Private key â†’ Actual key in your pocket</li>
<li>SSH login â†’ Trying to open the door</li>
</ul>
<hr>
<h2 id="-ec2-hands-on--lab-3"><a class="header" href="#-ec2-hands-on--lab-3">ğŸ§ª EC2 HANDS-ON â€“ LAB 3</a></h2>
<h3 id="-install-apache-web-server--host-your-first-website"><a class="header" href="#-install-apache-web-server--host-your-first-website">ğŸ‘‰ Install Apache Web Server &amp; Host Your First Website</a></h3>
<p><img src="https://miro.medium.com/1%2AUdXC594q9XxYneb4yqze_A.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-this-lab-1"><a class="header" href="#-objective-of-this-lab-1">ğŸ¯ Objective of This Lab</a></h3>
<p>You will:</p>
<ul>
<li>Install <strong>Apache (httpd)</strong> on EC2</li>
<li>Start the web server</li>
<li>Host a simple web page</li>
<li>Access it using <strong>browser + public IP</strong></li>
</ul>
<hr>
<h3 id="-important-concept-simple-words"><a class="header" href="#-important-concept-simple-words">ğŸ§  Important Concept (Simple Words)</a></h3>
<h3 id="-what-is-apache"><a class="header" href="#-what-is-apache">ğŸ”¹ What is Apache?</a></h3>
<p><strong>Apache (httpd)</strong> is a <strong>web server</strong>.</p>
<p>Meaning:</p>
<ul>
<li>It listens on <strong>port 80</strong></li>
<li>When someone opens your IP in browser</li>
<li>Apache sends a <strong>web page</strong></li>
</ul>
<hr>
<h3 id="-step-1-update-your-ec2-server"><a class="header" href="#-step-1-update-your-ec2-server">ğŸ”¹ STEP 1: Update Your EC2 Server</a></h3>
<p>Run this command:</p>
<pre><code class="language-bash">sudo dnf update -y
</code></pre>
<p>ğŸ“Œ Explanation:</p>
<ul>
<li><code>sudo</code> â†’ run command as admin (root)</li>
<li><code>dnf</code> â†’ package manager (like Play Store)</li>
<li><code>update</code> â†’ update system packages</li>
<li><code>-y</code> â†’ auto-approve (no questions)</li>
</ul>
<hr>
<h3 id="-step-2-install-apache-httpd"><a class="header" href="#-step-2-install-apache-httpd">ğŸ”¹ STEP 2: Install Apache (httpd)</a></h3>
<p>Run:</p>
<pre><code class="language-bash">sudo dnf install httpd -y
</code></pre>
<p>ğŸ“Œ Explanation:</p>
<ul>
<li><code>install</code> â†’ install software</li>
<li><code>httpd</code> â†’ Apache web server package</li>
</ul>
<hr>
<h3 id="-step-3-start-apache-server"><a class="header" href="#-step-3-start-apache-server">ğŸ”¹ STEP 3: Start Apache Server</a></h3>
<pre><code class="language-bash">sudo systemctl start httpd
</code></pre>
<p>ğŸ“Œ Explanation:</p>
<ul>
<li><code>systemctl</code> â†’ service manager</li>
<li><code>start</code> â†’ start service</li>
<li><code>httpd</code> â†’ Apache service</li>
</ul>
<hr>
<h3 id="-step-4-enable-apache-on-boot-very-important"><a class="header" href="#-step-4-enable-apache-on-boot-very-important">ğŸ”¹ STEP 4: Enable Apache on Boot (VERY IMPORTANT)</a></h3>
<pre><code class="language-bash">sudo systemctl enable httpd
</code></pre>
<p>ğŸ“Œ Why?</p>
<ul>
<li>If EC2 restarts</li>
<li>Apache starts automatically</li>
</ul>
<hr>
<h3 id="-step-5-check-apache-status"><a class="header" href="#-step-5-check-apache-status">ğŸ”¹ STEP 5: Check Apache Status</a></h3>
<pre><code class="language-bash">sudo systemctl status httpd
</code></pre>
<p>You should see:</p>
<pre><code>Active: active (running)
</code></pre>
<p>Press:</p>
<pre><code>q
</code></pre>
<p>to exit status screen</p>
<hr>
<h3 id="-step-6-test-in-browser-big-moment-"><a class="header" href="#-step-6-test-in-browser-big-moment-">ğŸ”¹ STEP 6: Test in Browser (BIG MOMENT ğŸ‰)</a></h3>
<ol>
<li>Copy your <strong>EC2 Public IP</strong></li>
<li>Open browser</li>
<li>Paste:</li>
</ol>
<pre><code>http://YOUR_PUBLIC_IP
</code></pre>
<h3 id="expected-result"><a class="header" href="#expected-result">Expected Result:</a></h3>
<p>ğŸŸ¢ <strong>Apache Test Page</strong></p>
<p>âœ… This means:</p>
<ul>
<li>EC2 is running</li>
<li>Apache is working</li>
<li>Security group allows HTTP (port 80)</li>
</ul>
<hr>
<h3 id="-step-7-create-your-own-web-page"><a class="header" href="#-step-7-create-your-own-web-page">ğŸ”¹ STEP 7: Create Your Own Web Page</a></h3>
<p>Apache default folder:</p>
<pre><code>/var/www/html
</code></pre>
<h3 id="go-to-folder"><a class="header" href="#go-to-folder">Go to folder:</a></h3>
<pre><code class="language-bash">cd /var/www/html
</code></pre>
<hr>
<h3 id="-step-8-create-html-file"><a class="header" href="#-step-8-create-html-file">ğŸ”¹ STEP 8: Create HTML File</a></h3>
<pre><code class="language-bash">sudo nano index.html
</code></pre>
<p>ğŸ“Œ <code>nano</code> = simple text editor</p>
<p>Paste this:</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;My First EC2 Website&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Hello from EC2 ğŸš€&lt;/h1&gt;
  &lt;p&gt;Apache Web Server is working!&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="save--exit"><a class="header" href="#save--exit">Save &amp; Exit:</a></h3>
<ul>
<li>Press <strong>CTRL + X</strong></li>
<li>Press <strong>Y</strong></li>
<li>Press <strong>Enter</strong></li>
</ul>
<hr>
<h3 id="-step-9-refresh-browser"><a class="header" href="#-step-9-refresh-browser">ğŸ”¹ STEP 9: Refresh Browser</a></h3>
<p>Open again:</p>
<pre><code>http://YOUR_PUBLIC_IP
</code></pre>
<p>ğŸ‰ You should see <strong>your own website</strong></p>
<hr>
<h3 id="-common-issue-check"><a class="header" href="#-common-issue-check">ğŸ›‘ COMMON ISSUE CHECK</a></h3>
<p>If page does not open:</p>
<ul>
<li>Check <strong>Security Group â†’ HTTP (80) allowed</strong></li>
<li>Instance state = <strong>Running</strong></li>
<li>Apache status = <strong>active</strong></li>
</ul>
<hr>
<h3 id="-task-for-you-lab-3"><a class="header" href="#-task-for-you-lab-3">âœ… TASK FOR YOU (LAB 3)</a></h3>
<p>âœ” Apache installed
âœ” Apache running
âœ” Custom HTML page created
âœ” Website opens using public IP</p>
<hr>
<h2 id="-ec2-hands-on--lab-4"><a class="header" href="#-ec2-hands-on--lab-4">ğŸ§ª EC2 HANDS-ON â€“ LAB 4</a></h2>
<h3 id="-elastic-ip-static-public-ip--no-more-ip-changes"><a class="header" href="#-elastic-ip-static-public-ip--no-more-ip-changes">ğŸ‘‰ Elastic IP (Static Public IP) â€“ No More IP Changes</a></h3>
<p><img src="https://www.turnkeylinux.org/files/images/01_Elastic_IP_addresses_EC2_Console.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-this-lab-2"><a class="header" href="#-objective-of-this-lab-2">ğŸ¯ Objective of This Lab</a></h3>
<p>You will:</p>
<ul>
<li>Understand <strong>why public IP changes</strong></li>
<li>Create an <strong>Elastic IP (EIP)</strong></li>
<li>Attach it to your EC2 instance</li>
<li>Access your website using a <strong>fixed IP</strong></li>
</ul>
<hr>
<h3 id="-why-public-ip-changes-simple-explanation"><a class="header" href="#-why-public-ip-changes-simple-explanation">ğŸ§  Why Public IP Changes? (Simple Explanation)</a></h3>
<blockquote>
<p>Because the public IP is temporary unless you reserve it.</p>
</blockquote>
<ul>
<li>
<p>AWS gives you a temporary public IP by default.</p>
</li>
<li>
<p>When the instance stops and restarts, that IP is taken back by AWS.</p>
</li>
</ul>
<p>âŒ Bad for:</p>
<ul>
<li>Websites</li>
<li>APIs</li>
<li>Domain mapping</li>
</ul>
<h3 id="-important-rule-remember-this"><a class="header" href="#-important-rule-remember-this">ğŸš¨ IMPORTANT RULE (Remember This)</a></h3>
<p>|Action	| Public IP|
|â€”	|â€”|
|Reboot EC2 |	âŒ Does NOT change|
|Stop EC2 |	âœ… Changes|
|Terminate EC2 |	âŒ Instance gone|
|Start EC2 |	âœ… New IP|</p>
<hr>
<p>ğŸ’° Cost:
ğŸ‘‰ ~$0.005 per hour per Elastic IP</p>
<h3 id="-what-is-elastic-ip"><a class="header" href="#-what-is-elastic-ip">ğŸ§  What is Elastic IP?</a></h3>
<p><strong>Elastic IP (EIP)</strong> is:</p>
<ul>
<li>A <strong>static public IPv4 address</strong></li>
<li>Belongs to <strong>your AWS account</strong></li>
<li>You can attach/detach to EC2</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>Elastic IP = Permanent phone number ğŸ“±
Public IP = Temporary number</p>
</blockquote>
<hr>
<h3 id="-cost-warning-important"><a class="header" href="#-cost-warning-important">âš ï¸ Cost Warning (IMPORTANT)</a></h3>
<ul>
<li>
<p><strong>Free</strong> when attached to <strong>running EC2</strong></p>
</li>
<li>
<p><strong>Charged</strong> if:</p>
<ul>
<li>Not attached</li>
<li>Instance stopped</li>
</ul>
</li>
</ul>
<p>ğŸ‘‰ We will keep it <strong>attached</strong></p>
<hr>
<h3 id="-step-1-go-to-elastic-ips"><a class="header" href="#-step-1-go-to-elastic-ips">ğŸ”¹ STEP 1: Go to Elastic IPs</a></h3>
<ol>
<li>Open <strong>EC2 Console</strong></li>
<li>Left menu â†’ <strong>Elastic IPs</strong></li>
<li>Click <strong>Allocate Elastic IP address</strong></li>
</ol>
<hr>
<h3 id="-step-2-allocate-elastic-ip"><a class="header" href="#-step-2-allocate-elastic-ip">ğŸ”¹ STEP 2: Allocate Elastic IP</a></h3>
<ul>
<li>Network border group â†’ <strong>Leave default</strong></li>
<li>Click <strong>Allocate</strong></li>
</ul>
<p>You will now see a new <strong>Elastic IP</strong></p>
<hr>
<h3 id="-step-3-associate-elastic-ip-to-ec2"><a class="header" href="#-step-3-associate-elastic-ip-to-ec2">ğŸ”¹ STEP 3: Associate Elastic IP to EC2</a></h3>
<ol>
<li>Select Elastic IP</li>
<li>Click <strong>Actions â†’ Associate Elastic IP</strong></li>
<li>Resource type â†’ <strong>Instance</strong></li>
<li>Instance â†’ select <code>ec2-hands-on-1</code></li>
<li>Click <strong>Associate</strong></li>
</ol>
<hr>
<h3 id="-step-4-verify-association"><a class="header" href="#-step-4-verify-association">ğŸ”¹ STEP 4: Verify Association</a></h3>
<ul>
<li>
<p>Elastic IP shows:</p>
<ul>
<li>Instance ID</li>
<li>Private IP</li>
</ul>
</li>
</ul>
<p>Your EC2 now has:</p>
<ul>
<li><strong>Static public IP</strong></li>
</ul>
<hr>
<h3 id="-step-5-test-website-using-elastic-ip"><a class="header" href="#-step-5-test-website-using-elastic-ip">ğŸ”¹ STEP 5: Test Website Using Elastic IP</a></h3>
<p>Open browser:</p>
<pre><code>http://ELASTIC_IP
</code></pre>
<p>ğŸŸ¢ Your website should load</p>
<hr>
<h3 id="-step-6-confirm-ip-stability-understanding"><a class="header" href="#-step-6-confirm-ip-stability-understanding">ğŸ”¹ STEP 6: Confirm IP Stability (Understanding)</a></h3>
<p>If you:</p>
<ul>
<li>Restart EC2 âŒ (DONâ€™T DO NOW)</li>
<li>Elastic IP <strong>will NOT change</strong></li>
</ul>
<hr>
<h3 id="-important-rule"><a class="header" href="#-important-rule">ğŸ›‘ IMPORTANT RULE</a></h3>
<p>If you ever:</p>
<ul>
<li><strong>Terminate EC2</strong>
ğŸ‘‰ First <strong>release Elastic IP</strong>
Otherwise AWS will charge</li>
</ul>
<hr>
<h3 id="-task-for-you-lab-4"><a class="header" href="#-task-for-you-lab-4">âœ… TASK FOR YOU (LAB 4)</a></h3>
<p>âœ” Elastic IP allocated
âœ” Elastic IP associated to EC2
âœ” Website opens using Elastic IP</p>
<hr>
<h2 id="-ec2-hands-on--lab-5"><a class="header" href="#-ec2-hands-on--lab-5">ğŸ§ª EC2 HANDS-ON â€“ LAB 5</a></h2>
<h3 id="-attach-a-domain-to-ec2-using-route-53-real-world-hosting"><a class="header" href="#-attach-a-domain-to-ec2-using-route-53-real-world-hosting">ğŸ‘‰ Attach a Domain to EC2 using Route 53 (Real-World Hosting)</a></h3>
<p><img src="https://miro.medium.com/v2/resize%3Afit%3A1200/1%2ArusHUrFBnPFcD6esjWZB1Q.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-this-lab-3"><a class="header" href="#-objective-of-this-lab-3">ğŸ¯ Objective of This Lab</a></h3>
<p>You will:</p>
<ul>
<li>Understand <strong>DNS &amp; Domain flow</strong></li>
<li>Create a <strong>Hosted Zone</strong> in Route 53</li>
<li>Map your <strong>Elastic IP â†’ Domain</strong></li>
<li>Open your website using a <strong>domain name</strong> ğŸ‰</li>
</ul>
<hr>
<h3 id="-first-understand-the-flow-very-important"><a class="header" href="#-first-understand-the-flow-very-important">ğŸ§  First: Understand the Flow (VERY IMPORTANT)</a></h3>
<p>When someone types:</p>
<pre><code>www.example.com
</code></pre>
<p>What happens?</p>
<ol>
<li>Browser asks <strong>DNS</strong></li>
<li>DNS replies â†’ <strong>Elastic IP</strong></li>
<li>Elastic IP points â†’ <strong>EC2</strong></li>
<li>Apache sends the website</li>
</ol>
<p>ğŸ‘‰ <strong>Route 53 = DNS service</strong></p>
<hr>
<h3 id="-what-is-route-53"><a class="header" href="#-what-is-route-53">ğŸ§  What is Route 53?</a></h3>
<p><strong>Amazon Route 53</strong> is:</p>
<ul>
<li>AWS DNS service</li>
<li>Converts <strong>domain â†’ IP address</strong></li>
<li>Highly available &amp; fast</li>
</ul>
<hr>
<h3 id="-important-note-read-carefully"><a class="header" href="#-important-note-read-carefully">âš ï¸ IMPORTANT NOTE (READ CAREFULLY)</a></h3>
<p>There are <strong>TWO CASES</strong>:</p>
<h4 id="-case-1-you-already-bought-a-domain"><a class="header" href="#-case-1-you-already-bought-a-domain">âœ… Case 1: You already bought a domain</a></h4>
<p>(from GoDaddy / Namecheap / Route 53)</p>
<p>â†’ Continue with this lab</p>
<h4 id="-case-2-you-dont-have-a-domain-yet"><a class="header" href="#-case-2-you-dont-have-a-domain-yet">âŒ Case 2: You donâ€™t have a domain yet</a></h4>
<p>â†’ You can still <strong>practice</strong> using a fake domain name
(no website will open publicly, but concept is same)</p>
<p>Iâ€™ll explain <strong>both safely</strong>.</p>
<hr>
<h3 id="-step-1-open-route-53"><a class="header" href="#-step-1-open-route-53">ğŸ”¹ STEP 1: Open Route 53</a></h3>
<ol>
<li>AWS Console â†’ search <strong>Route 53</strong></li>
<li>Open <strong>Route 53</strong></li>
<li>Click <strong>Hosted zones</strong></li>
<li>Click <strong>Create hosted zone</strong></li>
</ol>
<hr>
<h3 id="-step-2-create-hosted-zone"><a class="header" href="#-step-2-create-hosted-zone">ğŸ”¹ STEP 2: Create Hosted Zone</a></h3>
<h4 id="fill-details"><a class="header" href="#fill-details">Fill details:</a></h4>
<ul>
<li>
<p><strong>Domain name</strong>
Example:</p>
<pre><code>devcloudpractice.com
</code></pre>
</li>
<li>
<p><strong>Type</strong>
â†’ <strong>Public Hosted Zone</strong></p>
</li>
</ul>
<p>Click <strong>Create hosted zone</strong></p>
<p>ğŸ“Œ Hosted Zone = DNS control panel for your domain</p>
<hr>
<h3 id="-step-3-understand-name-servers-critical"><a class="header" href="#-step-3-understand-name-servers-critical">ğŸ”¹ STEP 3: Understand Name Servers (CRITICAL)</a></h3>
<p>After creation, youâ€™ll see <strong>4 NS records</strong>, like:</p>
<pre><code>ns-123.awsdns-45.com
ns-678.awsdns-90.net
...
</code></pre>
<p>ğŸ“Œ These are <strong>AWS DNS servers</strong></p>
<hr>
<h3 id="-step-4-update-name-servers-only-if-domain-bought-outside-aws"><a class="header" href="#-step-4-update-name-servers-only-if-domain-bought-outside-aws">ğŸ”¹ STEP 4: Update Name Servers (Only if Domain Bought Outside AWS)</a></h3>
<p>If your domain is from:</p>
<ul>
<li>GoDaddy</li>
<li>Namecheap</li>
<li>Hostinger</li>
</ul>
<h4 id="go-to-domain-provider"><a class="header" href="#go-to-domain-provider">Go to domain provider:</a></h4>
<ol>
<li>Open DNS / Nameserver settings</li>
<li>Replace existing name servers</li>
<li>Paste <strong>Route 53 name servers</strong></li>
<li>Save</li>
</ol>
<p>â³ DNS propagation: <strong>5â€“30 minutes (sometimes 24 hrs)</strong></p>
<p>âš ï¸ If domain bought from Route 53 â†’ <strong>skip this step</strong></p>
<hr>
<h3 id="-step-5-create-a-record-domain--ec2"><a class="header" href="#-step-5-create-a-record-domain--ec2">ğŸ”¹ STEP 5: Create A Record (Domain â†’ EC2)</a></h3>
<p>Inside Hosted Zone:</p>
<ol>
<li>
<p>Click <strong>Create record</strong></p>
</li>
<li>
<p>Record type â†’ <strong>A</strong></p>
</li>
<li>
<p>Record name:</p>
<ul>
<li>Leave empty â†’ root domain
(<code>example.com</code>)</li>
</ul>
</li>
<li>
<p>Value:</p>
<ul>
<li>Paste <strong>Elastic IP</strong></li>
</ul>
</li>
<li>
<p>TTL â†’ default</p>
</li>
<li>
<p>Click <strong>Create records</strong></p>
</li>
</ol>
<p>ğŸ“Œ A record = maps domain â†’ IP</p>
<hr>
<h3 id="-step-6-optional-create-www-record"><a class="header" href="#-step-6-optional-create-www-record">ğŸ”¹ STEP 6: (Optional) Create www Record</a></h3>
<p>Create another record:</p>
<ul>
<li>
<p>Record name:</p>
<pre><code>www
</code></pre>
</li>
<li>
<p>Type â†’ A</p>
</li>
<li>
<p>Value â†’ Elastic IP</p>
</li>
</ul>
<p>This enables:</p>
<pre><code>www.example.com
</code></pre>
<hr>
<h3 id="-step-7-test-your-domain-"><a class="header" href="#-step-7-test-your-domain-">ğŸ”¹ STEP 7: Test Your Domain ğŸ‰</a></h3>
<p>Open browser:</p>
<pre><code>http://yourdomain.com
</code></pre>
<p>or</p>
<pre><code>http://www.yourdomain.com
</code></pre>
<p>ğŸŸ¢ Your EC2 website should load</p>
<hr>
<h3 id="-real-world-knowledge-interview-ready"><a class="header" href="#-real-world-knowledge-interview-ready">ğŸ§  Real-World Knowledge (Interview Ready)</a></h3>
<p>âœ” Route 53 does <strong>not host websites</strong>
âœ” It only does <strong>DNS resolution</strong>
âœ” EC2 + Apache hosts the website
âœ” Elastic IP ensures static mapping</p>
<hr>
<h3 id="-common-issues-checklist"><a class="header" href="#-common-issues-checklist">ğŸ›‘ Common Issues Checklist</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Issue</th><th>Fix</th></tr>
</thead>
<tbody>
<tr><td>Site not opening</td><td>Wait DNS propagation</td></tr>
<tr><td>IP wrong</td><td>Check Elastic IP</td></tr>
<tr><td>Apache down</td><td><code>systemctl status httpd</code></td></tr>
<tr><td>HTTP blocked</td><td>Security Group port 80</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-task-for-you-lab-5"><a class="header" href="#-task-for-you-lab-5">âœ… TASK FOR YOU (LAB 5)</a></h3>
<p>âœ” Hosted Zone created
âœ” A record added
âœ” Domain mapped to Elastic IP</p>
<hr>
<h2 id="-ec2-security-group--ssh-ports-and-ip-access"><a class="header" href="#-ec2-security-group--ssh-ports-and-ip-access">ğŸ” EC2 Security Group â€“ SSH, Ports, and IP Access</a></h2>
<hr>
<h3 id="1-what-is-a-security-group-in-ec2"><a class="header" href="#1-what-is-a-security-group-in-ec2">1ï¸âƒ£ What is a Security Group in EC2?</a></h3>
<ul>
<li>
<p>A <strong>Security Group</strong> is a <strong>virtual firewall</strong></p>
</li>
<li>
<p>It controls:</p>
<ul>
<li><strong>Who can reach your EC2 instance</strong></li>
<li><strong>On which port</strong></li>
</ul>
</li>
<li>
<p>It works at <strong>network level (before login)</strong></p>
</li>
</ul>
<p>ğŸ‘‰ If traffic is <strong>not allowed</strong> by Security Group â†’ EC2 never receives it.</p>
<hr>
<h3 id="2-what-does-00000-mean"><a class="header" href="#2-what-does-00000-mean">2ï¸âƒ£ What does <code>0.0.0.0/0</code> mean?</a></h3>
<pre><code>0.0.0.0/0 = ANY IP address on the internet
</code></pre>
<p>âš ï¸ This means <strong>publicly open to the world</strong>.</p>
<hr>
<h3 id="3-what-does-my-ip-mean"><a class="header" href="#3-what-does-my-ip-mean">3ï¸âƒ£ What does â€œMy IPâ€ mean?</a></h3>
<p>When you select <strong>My IP</strong>, AWS:</p>
<ul>
<li>Detects your <strong>current public internet IP</strong></li>
<li>Sets the rule as:</li>
</ul>
<pre><code>x.x.x.x/32
</code></pre>
<p><code>/32</code> means:</p>
<ul>
<li>Only <strong>ONE exact IP</strong></li>
<li>Only <strong>your current network</strong></li>
</ul>
<p>ğŸ‘‰ This is <strong>secure and recommended</strong>.</p>
<hr>
<h3 id="4-understanding-the-3-important-ports"><a class="header" href="#4-understanding-the-3-important-ports">4ï¸âƒ£ Understanding the 3 Important Ports</a></h3>
<h4 id="-port-22--ssh"><a class="header" href="#-port-22--ssh">ğŸ” Port 22 â€“ SSH</a></h4>
<p><strong>Used for:</strong></p>
<ul>
<li>Remote login to EC2</li>
<li>Full server control (admin access)</li>
</ul>
<p><strong>What SSH gives:</strong></p>
<ul>
<li>File access</li>
<li>Command execution</li>
<li>Full OS control</li>
</ul>
<p>ğŸ‘‰ <strong>This is the most sensitive port</strong></p>
<hr>
<h4 id="-port-80--http"><a class="header" href="#-port-80--http">ğŸŒ Port 80 â€“ HTTP</a></h4>
<p><strong>Used for:</strong></p>
<ul>
<li>Website access via browser</li>
<li>Public web traffic</li>
</ul>
<p><strong>What HTTP gives:</strong></p>
<ul>
<li>Only what your application exposes</li>
<li>No OS access</li>
<li>No command execution</li>
</ul>
<p>ğŸ‘‰ <strong>Designed to be public</strong></p>
<hr>
<h4 id="-port-8080--application-port"><a class="header" href="#-port-8080--application-port">âš™ï¸ Port 8080 â€“ Application Port</a></h4>
<p><strong>Used for:</strong></p>
<ul>
<li>Spring Boot</li>
<li>Node.js</li>
<li>Test applications</li>
</ul>
<p><strong>Access level:</strong></p>
<ul>
<li>Application only</li>
<li>Not OS-level</li>
</ul>
<p>ğŸ‘‰ Safe for testing, risky if admin APIs are exposed</p>
<hr>
<h3 id="5-why-only-ssh-is-dangerous-when-open-to-00000"><a class="header" href="#5-why-only-ssh-is-dangerous-when-open-to-00000">5ï¸âƒ£ Why ONLY SSH is dangerous when open to <code>0.0.0.0/0</code></a></h3>
<h4 id="key-reason"><a class="header" href="#key-reason">Key reason:</a></h4>
<blockquote>
<p><strong>SSH provides full administrative access to the server</strong></p>
</blockquote>
<p>Comparison:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Port</th><th>Access Type</th><th>Risk</th></tr>
</thead>
<tbody>
<tr><td>22 (SSH)</td><td>Full OS control</td><td>ğŸ”¥ Very High</td></tr>
<tr><td>80 (HTTP)</td><td>Web content only</td><td>ğŸŸ¢ Low</td></tr>
<tr><td>8080</td><td>App-level access</td><td>ğŸŸ¡ Medium</td></tr>
</tbody>
</table>
</div>
<p>ğŸ‘‰ <strong>Admin access should never be public</strong></p>
<hr>
<h3 id="6-what-happens-if-ssh-is-set-to-00000"><a class="header" href="#6-what-happens-if-ssh-is-set-to-00000">6ï¸âƒ£ What happens if SSH is set to <code>0.0.0.0/0</code></a></h3>
<h4 id="important-clarification"><a class="header" href="#important-clarification">Important clarification:</a></h4>
<p>âŒ Anyone <strong>CANNOT login without <code>.pem</code> key</strong></p>
<p>âœ… Anyone <strong>CAN try to connect</strong></p>
<h4 id="what-attackers-can-do"><a class="header" href="#what-attackers-can-do">What attackers can do:</a></h4>
<ul>
<li>
<p>Scan your public IP</p>
</li>
<li>
<p>Detect open port 22</p>
</li>
<li>
<p>Attempt:</p>
<ul>
<li>Usernames</li>
<li>Stolen keys</li>
<li>Brute-force attacks</li>
</ul>
</li>
</ul>
<p>Even if they fail:</p>
<ul>
<li>Continuous attack attempts</li>
<li>Log flooding</li>
<li>Resource usage</li>
<li>High security risk</li>
</ul>
<hr>
<h3 id="7-two-levels-of-ec2-security-very-important"><a class="header" href="#7-two-levels-of-ec2-security-very-important">7ï¸âƒ£ Two Levels of EC2 Security (Very Important)</a></h3>
<h4 id="level-1-security-group-network-gate"><a class="header" href="#level-1-security-group-network-gate">Level 1ï¸âƒ£: Security Group (Network Gate)</a></h4>
<ul>
<li>Controls <strong>who can reach the port</strong></li>
</ul>
<h4 id="level-2-ssh-authentication-login-lock"><a class="header" href="#level-2-ssh-authentication-login-lock">Level 2ï¸âƒ£: SSH Authentication (Login Lock)</a></h4>
<ul>
<li>
<p>Requires:</p>
<ul>
<li>Correct username</li>
<li>Correct private key (<code>.pem</code>)</li>
</ul>
</li>
</ul>
<p>ğŸ‘‰ <code>0.0.0.0/0</code> opens the <strong>gate</strong>, not the <strong>lock</strong></p>
<hr>
<h3 id="8-why-pem-key-is-still-required"><a class="header" href="#8-why-pem-key-is-still-required">8ï¸âƒ£ Why <code>.pem</code> key is still required</a></h3>
<ul>
<li>EC2 uses <strong>key-based authentication</strong></li>
<li>Password login is disabled by default</li>
<li>Private key is never sent over the network</li>
</ul>
<p>So:</p>
<ul>
<li>âŒ No <code>.pem</code> â†’ No login</li>
<li>âŒ Even AWS canâ€™t login without it</li>
</ul>
<hr>
<h3 id="9-recommended-safe-configuration"><a class="header" href="#9-recommended-safe-configuration">9ï¸âƒ£ Recommended Safe Configuration</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Port</th><th>Source</th><th>Status</th></tr>
</thead>
<tbody>
<tr><td>22 (SSH)</td><td>My IP</td><td>âœ… Secure</td></tr>
<tr><td>80 (HTTP)</td><td>0.0.0.0/0</td><td>âœ… Required</td></tr>
<tr><td>8080</td><td>0.0.0.0/0 (temporary)</td><td>âš ï¸ OK for testing</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-golden-security-rule-must-remember"><a class="header" href="#-golden-security-rule-must-remember">ğŸ” Golden Security Rule (Must Remember)</a></h3>
<blockquote>
<p><strong>Never expose administrative access (SSH) to the public internet.</strong></p>
</blockquote>
<ul>
<li>SSH â†’ restrict to your IP</li>
<li>HTTP/HTTPS â†’ public</li>
<li>App ports â†’ open only if needed</li>
</ul>
<hr>
<h3 id="-interview-ready-one-line-answer"><a class="header" href="#-interview-ready-one-line-answer">ğŸ¯ Interview-Ready One-Line Answer</a></h3>
<blockquote>
<p><strong>Opening SSH to 0.0.0.0/0 allows anyone on the internet to attempt connections, increasing attack risk. SSH must be restricted to trusted IPs, while HTTP is designed for public access.</strong></p>
</blockquote>
<hr>
<h2 id="-ec2-hands-on--lab-6"><a class="header" href="#-ec2-hands-on--lab-6">ğŸ§ª EC2 HANDS-ON â€“ LAB 6</a></h2>
<h3 id="-security-groups-inbound--outbound-rules--deep-hands-on"><a class="header" href="#-security-groups-inbound--outbound-rules--deep-hands-on">ğŸ‘‰ Security Groups (Inbound &amp; Outbound Rules â€“ Deep Hands-On)</a></h3>
<p><img src="https://docs.aws.amazon.com/images/vpc/latest/userguide/images/security-group-referencing.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-6"><a class="header" href="#-objective-of-lab-6">ğŸ¯ Objective of LAB 6</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li><strong>Create &amp; modify Security Group rules</strong></li>
<li>Understand <strong>Inbound vs Outbound</strong></li>
<li>Prove that <strong>Security Groups are STATEFUL</strong></li>
<li>Be able to <strong>explain this confidently in interviews</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-a-security-group-very-simple"><a class="header" href="#-first-what-is-a-security-group-very-simple">ğŸ§  FIRST: What is a Security Group? (Very Simple)</a></h3>
<p>A <strong>Security Group (SG)</strong> is:</p>
<ul>
<li>A <strong>virtual firewall</strong></li>
<li>Controls <strong>who can access your EC2</strong></li>
<li>Works at <strong>instance level</strong></li>
</ul>
<p>Think like this:</p>
<blockquote>
<p>Security Group = Security guard at the door ğŸšª
Only allowed people can enter</p>
</blockquote>
<hr>
<h3 id="-important-rule-memorize"><a class="header" href="#-important-rule-memorize">ğŸ§  IMPORTANT RULE (MEMORIZE)</a></h3>
<p>â— Security Groups:</p>
<ul>
<li>âœ… Allow rules only</li>
<li>âŒ No deny rules</li>
<li>âœ… Are <strong>STATEFUL</strong></li>
</ul>
<p>We will <strong>prove this practically</strong>.</p>
<hr>
<h3 id="-step-1-open-your-ec2-security-group"><a class="header" href="#-step-1-open-your-ec2-security-group">ğŸ”¹ STEP 1: Open Your EC2 Security Group</a></h3>
<ol>
<li>AWS Console â†’ <strong>EC2</strong></li>
<li>Click <strong>Instances</strong></li>
<li>Select your instance <code>ec2-hands-on-1</code></li>
<li>Go to <strong>Security</strong> tab</li>
<li>Click the <strong>Security group name</strong></li>
</ol>
<p>You are now inside <strong>Security Group settings</strong></p>
<hr>
<h3 id="-step-2-understand-existing-inbound-rules"><a class="header" href="#-step-2-understand-existing-inbound-rules">ğŸ”¹ STEP 2: Understand Existing Inbound Rules</a></h3>
<p>You should already see something like:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Type</th><th>Port</th><th>Source</th></tr>
</thead>
<tbody>
<tr><td>SSH</td><td>22</td><td>My IP</td></tr>
<tr><td>HTTP</td><td>80</td><td>Anywhere</td></tr>
</tbody>
</table>
</div>
<h4 id="what-this-means"><a class="header" href="#what-this-means">What this means:</a></h4>
<ul>
<li>SSH â†’ You can connect from your laptop</li>
<li>HTTP â†’ Anyone can open your website</li>
</ul>
<hr>
<h3 id="-step-3-test-1--remove-http-access-hands-on-proof"><a class="header" href="#-step-3-test-1--remove-http-access-hands-on-proof">ğŸ”¹ STEP 3: TEST 1 â€“ Remove HTTP Access (Hands-On Proof)</a></h3>
<h4 id="-remove-http-rule"><a class="header" href="#-remove-http-rule">âŒ Remove HTTP Rule</a></h4>
<ol>
<li>Click <strong>Edit inbound rules</strong></li>
<li>âŒ Delete <strong>HTTP (port 80)</strong></li>
<li>Click <strong>Save rules</strong></li>
</ol>
<hr>
<h4 id="-test-in-browser"><a class="header" href="#-test-in-browser">ğŸ” TEST IN BROWSER</a></h4>
<p>Open:</p>
<pre><code>http://ELASTIC_IP
</code></pre>
<h4 id="expected-result-1"><a class="header" href="#expected-result-1">Expected Result:</a></h4>
<p>âŒ Website <strong>WILL NOT OPEN</strong></p>
<p>âœ… This proves:</p>
<ul>
<li>Security Group <strong>controls traffic</strong></li>
<li>Port 80 is required for web access</li>
</ul>
<hr>
<h3 id="-step-4-add-http-rule-back"><a class="header" href="#-step-4-add-http-rule-back">ğŸ”¹ STEP 4: Add HTTP Rule Back</a></h3>
<ol>
<li><strong>Edit inbound rules</strong></li>
<li>Add rule:</li>
</ol>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Setting</th><th>Value</th></tr>
</thead>
<tbody>
<tr><td>Type</td><td>HTTP</td></tr>
<tr><td>Port</td><td>80</td></tr>
<tr><td>Source</td><td>Anywhere (0.0.0.0/0)</td></tr>
</tbody>
</table>
</div>
<ol start="3">
<li><strong>Save rules</strong></li>
</ol>
<p>ğŸ” Refresh browser</p>
<h4 id="result"><a class="header" href="#result">Result:</a></h4>
<p>ğŸŸ¢ Website opens again</p>
<hr>
<h3 id="-step-5-test-2--change-ssh-source-important"><a class="header" href="#-step-5-test-2--change-ssh-source-important">ğŸ”¹ STEP 5: TEST 2 â€“ Change SSH Source (IMPORTANT)</a></h3>
<h4 id="-break-ssh-access-on-purpose"><a class="header" href="#-break-ssh-access-on-purpose">âŒ Break SSH Access (on purpose)</a></h4>
<ol>
<li>Edit inbound rules</li>
<li>Change <strong>SSH source</strong> from:</li>
</ol>
<pre><code>My IP
</code></pre>
<p>to:</p>
<pre><code>0.0.0.0/0
</code></pre>
<ol start="3">
<li>Save</li>
</ol>
<p>ğŸ“Œ Meaning:</p>
<ul>
<li>Anyone on internet can try SSH (âŒ unsafe)</li>
</ul>
<p>âš ï¸ We will fix it later</p>
<hr>
<h3 id="-step-6-understand-inbound-vs-outbound"><a class="header" href="#-step-6-understand-inbound-vs-outbound">ğŸ”¹ STEP 6: Understand INBOUND vs OUTBOUND</a></h3>
<h4 id="inbound-rules"><a class="header" href="#inbound-rules">Inbound Rules</a></h4>
<p>ğŸ‘‰ Who can <strong>come IN</strong> to EC2
Examples:</p>
<ul>
<li>SSH (22)</li>
<li>HTTP (80)</li>
</ul>
<hr>
<h4 id="outbound-rules"><a class="header" href="#outbound-rules">Outbound Rules</a></h4>
<p>ğŸ‘‰ Where EC2 can <strong>go OUT</strong></p>
<p>Default outbound rule:</p>
<pre><code>All traffic â†’ 0.0.0.0/0
</code></pre>
<p>ğŸ“Œ Means:</p>
<ul>
<li>EC2 can access internet</li>
<li>Install updates</li>
<li>Download packages</li>
</ul>
<hr>
<h3 id="-step-7-stateful-proof-very-important"><a class="header" href="#-step-7-stateful-proof-very-important">ğŸ”¹ STEP 7: STATEFUL PROOF (VERY IMPORTANT)</a></h3>
<p>Security Groups are <strong>STATEFUL</strong>.</p>
<h4 id="what-does-that-mean"><a class="header" href="#what-does-that-mean">What does that mean?</a></h4>
<p>If:</p>
<ul>
<li>Inbound request is allowed
Then:</li>
<li>Response is <strong>automatically allowed</strong>
(No outbound rule needed)</li>
</ul>
<p>ğŸ“Œ Example:</p>
<ul>
<li>Browser â†’ EC2 (HTTP allowed)</li>
<li>EC2 â†’ Browser (response allowed automatically)</li>
</ul>
<p>ğŸ’¡ This is <strong>interview GOLD</strong></p>
<hr>
<h3 id="-step-8-fix-security-best-practice"><a class="header" href="#-step-8-fix-security-best-practice">ğŸ”¹ STEP 8: FIX SECURITY (BEST PRACTICE)</a></h3>
<p>Now make SSH secure again ğŸ‘‡</p>
<ol>
<li>Edit inbound rules</li>
<li>Change SSH source back to:</li>
</ol>
<pre><code>My IP
</code></pre>
<ol start="3">
<li>Save</li>
</ol>
<p>âœ… Your EC2 is secure again</p>
<hr>
<h3 id="-interview-ready-answer-memorize"><a class="header" href="#-interview-ready-answer-memorize">ğŸ§  INTERVIEW-READY ANSWER (MEMORIZE)</a></h3>
<blockquote>
<p><strong>Security Group</strong> is a stateful virtual firewall that controls inbound and outbound traffic at the EC2 instance level. It supports only allow rules, and responses to allowed inbound traffic are automatically permitted.</p>
</blockquote>
<hr>
<h3 id="-lab-6-task-checklist"><a class="header" href="#-lab-6-task-checklist">âœ… LAB 6 TASK CHECKLIST</a></h3>
<p>âœ” Removed HTTP and tested
âœ” Added HTTP and tested
âœ” Understood inbound vs outbound
âœ” Proved <strong>STATEFUL behavior</strong>
âœ” Secured SSH again</p>
<hr>
<h2 id="-ec2-hands-on--lab-7"><a class="header" href="#-ec2-hands-on--lab-7">ğŸ§ª EC2 HANDS-ON â€“ LAB 7</a></h2>
<h3 id="-network-acl-nacl-vs-security-group-hands-on--deep-clarity"><a class="header" href="#-network-acl-nacl-vs-security-group-hands-on--deep-clarity">ğŸ‘‰ Network ACL (NACL) vs Security Group (Hands-On + Deep Clarity)</a></h3>
<p><img src="https://docs.aws.amazon.com/images/vpc/latest/userguide/images/network-acl.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-7"><a class="header" href="#-objective-of-lab-7">ğŸ¯ Objective of LAB 7</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Create &amp; modify a <strong>Network ACL</strong></li>
<li>See how it works at <strong>subnet level</strong></li>
<li><strong>PROVE</strong> it is <strong>STATELESS</strong></li>
<li>Understand <strong>NACL vs Security Group</strong> (interview-ready)</li>
</ul>
<hr>
<h3 id="-first-what-is-a-network-acl-simple-words"><a class="header" href="#-first-what-is-a-network-acl-simple-words">ğŸ§  FIRST: What is a Network ACL? (Simple Words)</a></h3>
<p>A <strong>Network ACL (NACL)</strong> is:</p>
<ul>
<li>A <strong>firewall for a subnet</strong></li>
<li>Works <strong>before traffic reaches EC2</strong></li>
<li>Applies to <strong>ALL instances</strong> in that subnet</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>NACL = Security gate at society entrance ğŸ¢
Security Group = Guard at each flat ğŸšª</p>
</blockquote>
<hr>
<h3 id="-very-important-rules-memorize"><a class="header" href="#-very-important-rules-memorize">ğŸ§  VERY IMPORTANT RULES (MEMORIZE)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Feature</th><th>NACL</th></tr>
</thead>
<tbody>
<tr><td>Level</td><td>Subnet</td></tr>
<tr><td>Rules</td><td><strong>Allow + Deny</strong></td></tr>
<tr><td>Nature</td><td><strong>STATELESS</strong></td></tr>
<tr><td>Order</td><td>Rule number (100, 110â€¦)</td></tr>
<tr><td>Default</td><td>Allow all</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-step-1-open-network-acls"><a class="header" href="#-step-1-open-network-acls">ğŸ”¹ STEP 1: Open Network ACLs</a></h3>
<ol>
<li>AWS Console â†’ <strong>VPC</strong></li>
<li>Left menu â†’ <strong>Network ACLs</strong></li>
<li>You will see a <strong>default NACL</strong></li>
</ol>
<hr>
<h3 id="-step-2-identify-your-subnet"><a class="header" href="#-step-2-identify-your-subnet">ğŸ”¹ STEP 2: Identify Your Subnet</a></h3>
<ol>
<li>Go to <strong>EC2 â†’ Instances</strong></li>
<li>Click your instance</li>
<li>Note <strong>Subnet ID</strong></li>
</ol>
<p>ğŸ“Œ We will apply NACL to <strong>this subnet</strong></p>
<hr>
<h3 id="-step-3-create-custom-nacl"><a class="header" href="#-step-3-create-custom-nacl">ğŸ”¹ STEP 3: Create Custom NACL</a></h3>
<ol>
<li>
<p>VPC â†’ Network ACLs</p>
</li>
<li>
<p>Click <strong>Create network ACL</strong></p>
</li>
<li>
<p>Name:</p>
<pre><code>ec2-hands-on-nacl
</code></pre>
</li>
<li>
<p>Select your <strong>VPC</strong></p>
</li>
<li>
<p>Click <strong>Create</strong></p>
</li>
</ol>
<hr>
<h3 id="-step-4-associate-nacl-with-subnet"><a class="header" href="#-step-4-associate-nacl-with-subnet">ğŸ”¹ STEP 4: Associate NACL with Subnet</a></h3>
<ol>
<li>Select your new NACL</li>
<li>Go to <strong>Subnet associations</strong></li>
<li>Click <strong>Edit subnet associations</strong></li>
<li>Select your EC2 subnet</li>
<li>Save</li>
</ol>
<p>âš ï¸ This NACL now controls traffic for your EC2</p>
<hr>
<h3 id="-step-5-block-http-using-nacl-hands-on-proof"><a class="header" href="#-step-5-block-http-using-nacl-hands-on-proof">ğŸ”¹ STEP 5: BLOCK HTTP Using NACL (Hands-On Proof)</a></h3>
<blockquote>
<p>Inbound Rule â€“ DENY HTTP</p>
</blockquote>
<ol>
<li>Select <strong>Inbound rules</strong></li>
<li>Click <strong>Edit inbound rules</strong></li>
<li>Add rule:</li>
</ol>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Rule #</th><th>Type</th><th>Port</th><th>Source</th><th>Action</th></tr>
</thead>
<tbody>
<tr><td>100</td><td>HTTP</td><td>80</td><td>0.0.0.0/0</td><td><strong>DENY</strong></td></tr>
</tbody>
</table>
</div>
<ol start="4">
<li>Save</li>
</ol>
<hr>
<blockquote>
<p>ğŸ” TEST IN BROWSER</p>
</blockquote>
<p>Open:</p>
<pre><code>http://ELASTIC_IP
</code></pre>
<p>âŒ Website <strong>WILL NOT OPEN</strong></p>
<p>ğŸ“Œ Even though:</p>
<ul>
<li>Security Group allows HTTP</li>
<li>NACL denies it</li>
</ul>
<p>ğŸ‘‰ <strong>NACL blocks first</strong></p>
<hr>
<h3 id="-step-6-allow-http-again"><a class="header" href="#-step-6-allow-http-again">ğŸ”¹ STEP 6: ALLOW HTTP Again</a></h3>
<p>Add <strong>ALLOW rule</strong> with higher priority:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Rule #</th><th>Type</th><th>Port</th><th>Source</th><th>Action</th></tr>
</thead>
<tbody>
<tr><td>90</td><td>HTTP</td><td>80</td><td>0.0.0.0/0</td><td><strong>ALLOW</strong></td></tr>
</tbody>
</table>
</div>
<p>ğŸ“Œ Rule <strong>90 runs before 100</strong></p>
<p>ğŸ” Refresh browser â†’ ğŸŸ¢ Works</p>
<hr>
<h3 id="-step-7-prove-stateless-behavior-important"><a class="header" href="#-step-7-prove-stateless-behavior-important">ğŸ”¹ STEP 7: PROVE STATELESS BEHAVIOR (IMPORTANT)</a></h3>
<blockquote>
<p>âŒ Remove Outbound Rule</p>
</blockquote>
<ol>
<li>Go to <strong>Outbound rules</strong></li>
<li>Delete rule:</li>
</ol>
<pre><code>ALLOW ALL (0.0.0.0/0)
</code></pre>
<ol start="3">
<li>Save</li>
</ol>
<hr>
<blockquote>
<p>ğŸ” Test Website Again</p>
</blockquote>
<p>âŒ Website <strong>WILL NOT LOAD</strong></p>
<p>ğŸ“Œ Why?</p>
<ul>
<li>Inbound allowed</li>
<li>Outbound response blocked</li>
</ul>
<p>ğŸ‘‰ This <strong>PROVES NACL is STATELESS</strong></p>
<hr>
<h3 id="-step-8-fix-outbound-rule-important"><a class="header" href="#-step-8-fix-outbound-rule-important">ğŸ”¹ STEP 8: FIX OUTBOUND RULE (IMPORTANT)</a></h3>
<p>Add outbound rule:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Rule #</th><th>Type</th><th>Port</th><th>Destination</th><th>Action</th></tr>
</thead>
<tbody>
<tr><td>100</td><td>HTTP</td><td>80</td><td>0.0.0.0/0</td><td>ALLOW</td></tr>
</tbody>
</table>
</div>
<p>Also add:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Rule #</th><th>Type</th><th>Port</th><th>Destination</th><th>Action</th></tr>
</thead>
<tbody>
<tr><td>110</td><td>HTTPS</td><td>443</td><td>0.0.0.0/0</td><td>ALLOW</td></tr>
</tbody>
</table>
</div>
<p>Save</p>
<hr>
<h3 id="-step-9-final-comparison-interview-table"><a class="header" href="#-step-9-final-comparison-interview-table">ğŸ”¹ STEP 9: FINAL COMPARISON (INTERVIEW TABLE)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Feature</th><th>Security Group</th><th>NACL</th></tr>
</thead>
<tbody>
<tr><td>Level</td><td>Instance</td><td>Subnet</td></tr>
<tr><td>Rules</td><td>Allow only</td><td>Allow + Deny</td></tr>
<tr><td>Nature</td><td><strong>Stateful</strong></td><td><strong>Stateless</strong></td></tr>
<tr><td>Rule Order</td><td>No order</td><td>Number based</td></tr>
<tr><td>Scope</td><td>Specific EC2</td><td>All in subnet</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-interview-ready-answer"><a class="header" href="#-interview-ready-answer">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>Security Groups act as a stateful firewall at the instance level allowing only permitted traffic, whereas Network ACLs operate at the subnet level, are stateless, and support both allow and deny rules evaluated in order.</p>
</blockquote>
<hr>
<h3 id="-cleanup-very-important"><a class="header" href="#-cleanup-very-important">âš ï¸ CLEANUP (VERY IMPORTANT)</a></h3>
<p>To avoid confusion later:</p>
<ul>
<li>Either <strong>restore default NACL</strong></li>
<li>Or keep both inbound &amp; outbound properly allowed</li>
</ul>
<hr>
<h3 id="-lab-7-task-checklist"><a class="header" href="#-lab-7-task-checklist">âœ… LAB 7 TASK CHECKLIST</a></h3>
<p>âœ” Created custom NACL
âœ” Associated subnet
âœ” Denied &amp; allowed HTTP
âœ” Proved stateless behavior
âœ” Understood SG vs NACL clearly</p>
<hr>
<h2 id="-ec2-hands-on--lab-8"><a class="header" href="#-ec2-hands-on--lab-8">ğŸ§ª EC2 HANDS-ON â€“ LAB 8</a></h2>
<h3 id="-ec2-key-pairs-create-use-delete--recover-access"><a class="header" href="#-ec2-key-pairs-create-use-delete--recover-access">ğŸ‘‰ EC2 Key Pairs (Create, Use, Delete &amp; Recover Access)</a></h3>
<p><img src="https://docs.aws.amazon.com/images/AWSEC2/latest/UserGuide/images/ec2-key-pair.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-8"><a class="header" href="#-objective-of-lab-8">ğŸ¯ Objective of LAB 8</a></h3>
<p>You will:</p>
<ul>
<li>Understand <strong>what a key pair really is</strong></li>
<li>Create &amp; attach <strong>new key pairs</strong></li>
<li>Know <strong>what happens if key is deleted</strong></li>
<li>Learn <strong>key recovery concept</strong> (very important)</li>
</ul>
<hr>
<h3 id="-first-what-is-an-ec2-key-pair"><a class="header" href="#-first-what-is-an-ec2-key-pair">ğŸ§  FIRST: What is an EC2 Key Pair?</a></h3>
<p>A <strong>Key Pair</strong> has:</p>
<ul>
<li><strong>Public key</strong> â†’ Stored in EC2</li>
<li><strong>Private key (.pem)</strong> â†’ Stored on your laptop</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>Lock (public key) is on server ğŸ”’
Key (private key) is with you ğŸ”‘</p>
</blockquote>
<p>AWS <strong>never stores private key</strong>.</p>
<hr>
<h3 id="-step-1-view-existing-key-pair"><a class="header" href="#-step-1-view-existing-key-pair">ğŸ”¹ STEP 1: View Existing Key Pair</a></h3>
<ol>
<li>EC2 Console â†’ <strong>Key Pairs</strong></li>
<li>You will see:</li>
</ol>
<pre><code>ec2-key-hands-on
</code></pre>
<p>ğŸ“Œ AWS only shows <strong>key name</strong>, not the file</p>
<hr>
<h3 id="-step-2-create-a-second-key-pair"><a class="header" href="#-step-2-create-a-second-key-pair">ğŸ”¹ STEP 2: Create a SECOND Key Pair</a></h3>
<ol>
<li>Click <strong>Create key pair</strong></li>
<li>Name:</li>
</ol>
<pre><code>ec2-key-backup
</code></pre>
<ol start="3">
<li>Type: <strong>RSA</strong></li>
<li>Format: <strong>.pem</strong></li>
<li>Create &amp; download</li>
</ol>
<p>ğŸ“Œ This is for <strong>learning purpose</strong></p>
<hr>
<h3 id="-step-3-understand-a-critical-rule"><a class="header" href="#-step-3-understand-a-critical-rule">ğŸ”¹ STEP 3: Understand a CRITICAL RULE</a></h3>
<p>â— You <strong>cannot</strong> directly change key pair of:</p>
<ul>
<li>Running instance</li>
<li>Stopped instance</li>
</ul>
<p>Key pair is:</p>
<ul>
<li>Injected <strong>at launch time</strong></li>
</ul>
<hr>
<h3 id="-step-4-what-happens-if-key-is-deleted-concept"><a class="header" href="#-step-4-what-happens-if-key-is-deleted-concept">ğŸ”¹ STEP 4: What Happens If Key is Deleted? (Concept)</a></h3>
<blockquote>
<p>Scenario:</p>
</blockquote>
<ul>
<li><code>.pem</code> file deleted from laptop âŒ</li>
<li>EC2 still running</li>
</ul>
<blockquote>
<p>Result:</p>
</blockquote>
<p>âŒ You are <strong>LOCKED OUT</strong></p>
<p>AWS <strong>cannot recover it</strong></p>
<hr>
<h3 id="-step-5-how-to-recover-access-important-concept"><a class="header" href="#-step-5-how-to-recover-access-important-concept">ğŸ”¹ STEP 5: HOW TO RECOVER ACCESS (IMPORTANT CONCEPT)</a></h3>
<p>There are <strong>3 real-world recovery methods</strong>:</p>
<hr>
<blockquote>
<p>ğŸŸ¢ Method 1: EC2 Instance Connect (AWS Linux only)</p>
</blockquote>
<ul>
<li>
<p>Works only if:</p>
<ul>
<li>Instance supports it</li>
<li>Port 22 allowed</li>
</ul>
</li>
<li>
<p>Temporary access</p>
</li>
</ul>
<hr>
<blockquote>
<p>ğŸŸ¢ Method 2: Detach Root Volume (MOST COMMON)</p>
</blockquote>
<p>Steps (conceptual):</p>
<ol>
<li>Stop instance</li>
<li>Detach root EBS</li>
<li>Attach it to another EC2</li>
<li>Add new public key to:</li>
</ol>
<pre><code>~/.ssh/authorized_keys
</code></pre>
<ol start="5">
<li>Reattach volume</li>
<li>Start instance</li>
</ol>
<p>ğŸ“Œ <strong>Very important interview topic</strong></p>
<hr>
<blockquote>
<p>ğŸŸ¢ Method 3: Session Manager (BEST PRACTICE)</p>
</blockquote>
<ul>
<li>Uses <strong>IAM Role</strong></li>
<li>No SSH, no key pair</li>
<li>Secure &amp; auditable</li>
</ul>
<p>Weâ€™ll do this <strong>hands-on later</strong></p>
<hr>
<h3 id="-step-6-best-practices-memorize"><a class="header" href="#-step-6-best-practices-memorize">ğŸ”¹ STEP 6: BEST PRACTICES (MEMORIZE)</a></h3>
<p>âœ” Always keep backup key
âœ” Use <strong>IAM Roles + Session Manager</strong>
âœ” Never share <code>.pem</code>
âœ” Restrict SSH source
âœ” Rotate keys in production</p>
<hr>
<h3 id="-interview-ready-answer-1"><a class="header" href="#-interview-ready-answer-1">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>An EC2 key pair consists of a public key stored on the instance and a private key held by the user. AWS does not store the private key, and if it is lost, access must be recovered through volume attachment or Session Manager.</p>
</blockquote>
<hr>
<h3 id="-do-not-try-key-recovery-now"><a class="header" href="#-do-not-try-key-recovery-now">ğŸ›‘ DO NOT TRY KEY RECOVERY NOW</a></h3>
<p>We will do it safely in <strong>advanced labs</strong>.</p>
<hr>
<h3 id="-lab-8-task-checklist"><a class="header" href="#-lab-8-task-checklist">âœ… LAB 8 TASK CHECKLIST</a></h3>
<p>âœ” Understood key pair concept
âœ” Created backup key
âœ” Learned recovery methods
âœ” Understood best practices</p>
<hr>
<h2 id="-ec2-hands-on--lab-9"><a class="header" href="#-ec2-hands-on--lab-9">ğŸ§ª EC2 HANDS-ON â€“ LAB 9</a></h2>
<h3 id="-ec2-user-data-automatic-setup-at-launch"><a class="header" href="#-ec2-user-data-automatic-setup-at-launch">ğŸ‘‰ EC2 User Data (Automatic Setup at Launch)</a></h3>
<p><img src="https://cloudkatha.com/wp-content/uploads/2021/09/How-to-use-EC2-User-Data-Script-to-Install-Apache-Web-Server.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-9"><a class="header" href="#-objective-of-lab-9">ğŸ¯ Objective of LAB 9</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>what User Data is</strong></li>
<li>Use User Data to <strong>auto-install Apache</strong></li>
<li>Deploy a website <strong>WITHOUT SSH</strong></li>
<li>Learn <strong>cloud-init concept</strong> (interview topic)</li>
</ul>
<hr>
<h3 id="-first-what-is-ec2-user-data-very-simple"><a class="header" href="#-first-what-is-ec2-user-data-very-simple">ğŸ§  FIRST: What is EC2 User Data? (Very Simple)</a></h3>
<p><strong>User Data</strong> is:</p>
<ul>
<li>A <strong>script</strong> that runs <strong>only once</strong></li>
<li>Runs <strong>when EC2 starts for the first time</strong></li>
<li>Used for <strong>automation</strong></li>
</ul>
<p>Think like:</p>
<blockquote>
<p>User Data = Auto-setup instructions for EC2 ğŸ§ </p>
</blockquote>
<p>Example:</p>
<ul>
<li>Install Apache</li>
<li>Start service</li>
<li>Create website</li>
<li>Configure app</li>
</ul>
<hr>
<h3 id="-very-important-rules-memorize-1"><a class="header" href="#-very-important-rules-memorize-1">ğŸ§  VERY IMPORTANT RULES (MEMORIZE)</a></h3>
<p>â— User Data:</p>
<ul>
<li>Runs <strong>only at first launch</strong></li>
<li>Runs as <strong>root user</strong></li>
<li>Uses <strong>cloud-init</strong></li>
<li>Best for <strong>bootstrapping</strong></li>
</ul>
<hr>
<h3 id="-what-we-will-do-plan"><a class="header" href="#-what-we-will-do-plan">ğŸ”¹ WHAT WE WILL DO (PLAN)</a></h3>
<p>We will:</p>
<ol>
<li>Launch <strong>NEW EC2 instance</strong></li>
<li>Add <strong>User Data script</strong></li>
<li>Apache installs automatically</li>
<li>Website works <strong>without SSH</strong></li>
</ol>
<hr>
<h3 id="-step-1-launch-a-new-ec2-instance"><a class="header" href="#-step-1-launch-a-new-ec2-instance">ğŸ”¹ STEP 1: Launch a NEW EC2 Instance</a></h3>
<p>Go to:
<strong>EC2 â†’ Instances â†’ Launch instance</strong></p>
<blockquote>
<p>Instance name:</p>
</blockquote>
<pre><code>ec2-userdata-demo
</code></pre>
<hr>
<h3 id="-step-2-choose-ami--instance-type"><a class="header" href="#-step-2-choose-ami--instance-type">ğŸ”¹ STEP 2: Choose AMI &amp; Instance Type</a></h3>
<ul>
<li>AMI â†’ <strong>Amazon Linux 2023</strong></li>
<li>Instance type â†’ <strong>t2.micro (Free tier)</strong></li>
</ul>
<hr>
<h3 id="-step-3-select-key-pair"><a class="header" href="#-step-3-select-key-pair">ğŸ”¹ STEP 3: Select Key Pair</a></h3>
<p>Choose:</p>
<pre><code>ec2-key-hands-on
</code></pre>
<p>(We wonâ€™t SSH, but AWS requires it)</p>
<hr>
<h3 id="-step-4-network--security-group"><a class="header" href="#-step-4-network--security-group">ğŸ”¹ STEP 4: Network &amp; Security Group</a></h3>
<p>Inbound rules:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Type</th><th>Port</th><th>Source</th></tr>
</thead>
<tbody>
<tr><td>HTTP</td><td>80</td><td>Anywhere</td></tr>
<tr><td>SSH</td><td>22</td><td>My IP</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-step-5-add-user-data-most-important"><a class="header" href="#-step-5-add-user-data-most-important">ğŸ”¹ STEP 5: ADD USER DATA (MOST IMPORTANT)</a></h3>
<p>Scroll down â†’ <strong>Advanced details</strong></p>
<p>Find:</p>
<blockquote>
<p>ğŸ‘‰ User data</p>
</blockquote>
<p>Paste <strong>EXACTLY</strong> this:</p>
<pre><code class="language-bash">#!/bin/bash
dnf update -y
dnf install httpd -y
systemctl start httpd
systemctl enable httpd

echo "&lt;h1&gt;Hello from EC2 User Data ğŸš€&lt;/h1&gt;" &gt; /var/www/html/index.html
</code></pre>
<hr>
<h3 id="-explain-script-line-by-line-important"><a class="header" href="#-explain-script-line-by-line-important">ğŸ§  EXPLAIN SCRIPT LINE BY LINE (IMPORTANT)</a></h3>
<pre><code class="language-bash">#!/bin/bash
</code></pre>
<p>â¡ Tells EC2: â€œThis is a Linux shell scriptâ€</p>
<pre><code class="language-bash">dnf update -y
</code></pre>
<p>â¡ Updates system packages</p>
<pre><code class="language-bash">dnf install httpd -y
</code></pre>
<p>â¡ Installs Apache web server</p>
<pre><code class="language-bash">systemctl start httpd
</code></pre>
<p>â¡ Starts Apache</p>
<pre><code class="language-bash">systemctl enable httpd
</code></pre>
<p>â¡ Starts Apache on reboot</p>
<pre><code class="language-bash">echo "&lt;h1&gt;Hello from EC2 User Data ğŸš€&lt;/h1&gt;" &gt; /var/www/html/index.html
</code></pre>
<p>â¡ Creates website homepage automatically</p>
<hr>
<h3 id="-step-6-launch-instance"><a class="header" href="#-step-6-launch-instance">ğŸ”¹ STEP 6: Launch Instance</a></h3>
<p>Click <strong>Launch instance</strong></p>
<p>Wait until:
ğŸŸ¢ Instance state â†’ <strong>Running</strong></p>
<hr>
<h3 id="-step-7-test-without-ssh-big-moment-"><a class="header" href="#-step-7-test-without-ssh-big-moment-">ğŸ”¹ STEP 7: Test WITHOUT SSH (BIG MOMENT ğŸ‰)</a></h3>
<ol>
<li>Copy <strong>Public IP</strong></li>
<li>Open browser:</li>
</ol>
<pre><code>http://PUBLIC_IP
</code></pre>
<blockquote>
<p>Expected Output:</p>
</blockquote>
<pre><code>Hello from EC2 User Data ğŸš€
</code></pre>
<p>âœ… Apache installed
âœ… Website deployed
âœ… <strong>No manual work</strong></p>
<hr>
<h3 id="-step-8-verify-user-data-ran-optional-ssh"><a class="header" href="#-step-8-verify-user-data-ran-optional-ssh">ğŸ”¹ STEP 8: Verify User Data Ran (Optional SSH)</a></h3>
<p>If you want to check logs:</p>
<pre><code class="language-bash">sudo cat /var/log/cloud-init-output.log
</code></pre>
<p>ğŸ“Œ Shows user data execution logs</p>
<hr>
<h3 id="-interview-ready-answer-2"><a class="header" href="#-interview-ready-answer-2">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>EC2 User Data is a cloud-init based mechanism that allows running scripts at instance launch to automate configuration such as installing software and starting services. It runs only once at first boot.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-very-important"><a class="header" href="#-common-mistakes-very-important">âš ï¸ COMMON MISTAKES (VERY IMPORTANT)</a></h3>
<p>âŒ Forget <code>#!/bin/bash</code>
âŒ Wrong indentation
âŒ Expecting script to run again after reboot
âŒ Missing HTTP rule in SG</p>
<hr>
<h3 id="-lab-9-task-checklist"><a class="header" href="#-lab-9-task-checklist">âœ… LAB 9 TASK CHECKLIST</a></h3>
<ul>
<li>âœ” New EC2 launched</li>
<li>âœ” User Data added</li>
<li>âœ” Apache auto-installed</li>
<li>âœ” Website works without SSH</li>
<li>âœ” Understood automation concept</li>
</ul>
<hr>
<h2 id="-ec2-hands-on--lab-10"><a class="header" href="#-ec2-hands-on--lab-10">ğŸ§ª EC2 HANDS-ON â€“ LAB 10</a></h2>
<h3 id="-ec2-instance-lifecycle-start-stop-reboot-terminate"><a class="header" href="#-ec2-instance-lifecycle-start-stop-reboot-terminate">ğŸ‘‰ EC2 Instance Lifecycle (Start, Stop, Reboot, Terminate)</a></h3>
<p><img src="https://miro.medium.com/v2/resize%3Afit%3A752/1%2Ag5rz-jln6QgHrIy-xSv7YQ.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-10"><a class="header" href="#-objective-of-lab-10">ğŸ¯ Objective of LAB 10</a></h3>
<p>You will:</p>
<ul>
<li>Perform <strong>Start / Stop / Reboot / Terminate</strong></li>
<li>Understand <strong>what happens to IP, storage, billing</strong></li>
<li>Learn <strong>when to use each action</strong></li>
<li>Be <strong>interview-ready</strong></li>
</ul>
<hr>
<h3 id="-first-ec2-lifecycle-states-simple"><a class="header" href="#-first-ec2-lifecycle-states-simple">ğŸ§  FIRST: EC2 Lifecycle States (Simple)</a></h3>
<p>An EC2 instance can be in:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>State</th><th>Meaning</th></tr>
</thead>
<tbody>
<tr><td>Pending</td><td>Starting</td></tr>
<tr><td>Running</td><td>Active</td></tr>
<tr><td>Stopped</td><td>Powered off</td></tr>
<tr><td>Terminated</td><td>Deleted forever</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-step-1-identify-two-instances"><a class="header" href="#-step-1-identify-two-instances">ğŸ”¹ STEP 1: Identify Two Instances</a></h3>
<p>You should have:</p>
<ol>
<li><code>ec2-hands-on-1</code> (Elastic IP attached)</li>
<li><code>ec2-userdata-demo</code></li>
</ol>
<p>We will <strong>safely test lifecycle</strong> on <code>ec2-userdata-demo</code></p>
<hr>
<h3 id="-step-2-stop-the-instance"><a class="header" href="#-step-2-stop-the-instance">ğŸ”¹ STEP 2: STOP the Instance</a></h3>
<ol>
<li>EC2 â†’ Instances</li>
<li>Select <code>ec2-userdata-demo</code></li>
<li><strong>Instance state â†’ Stop</strong></li>
<li>Confirm</li>
</ol>
<hr>
<blockquote>
<p>ğŸ” What Happens When STOP?</p>
</blockquote>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Item</th><th>Result</th></tr>
</thead>
<tbody>
<tr><td>Instance</td><td>OFF</td></tr>
<tr><td>Billing</td><td>âŒ No compute cost</td></tr>
<tr><td>EBS root</td><td>âœ… Preserved</td></tr>
<tr><td>Public IP</td><td>âŒ Released</td></tr>
<tr><td>Elastic IP</td><td>âŒ Not attached</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-step-3-start-the-instance-again"><a class="header" href="#-step-3-start-the-instance-again">ğŸ”¹ STEP 3: START the Instance Again</a></h3>
<ol>
<li>Select instance</li>
<li><strong>Instance state â†’ Start</strong></li>
</ol>
<p>Wait â†’ Running</p>
<hr>
<blockquote>
<p>ğŸ” Check Public IP</p>
</blockquote>
<ul>
<li>Public IP will be <strong>NEW</strong></li>
<li>Website still works (Apache already installed)</li>
</ul>
<p>ğŸ“Œ This proves:</p>
<ul>
<li>Data remains</li>
<li>Public IP changes</li>
</ul>
<hr>
<h3 id="-step-4-reboot-the-instance"><a class="header" href="#-step-4-reboot-the-instance">ğŸ”¹ STEP 4: REBOOT the Instance</a></h3>
<ol>
<li>Select instance</li>
<li><strong>Instance state â†’ Reboot</strong></li>
</ol>
<hr>
<blockquote>
<p>ğŸ” What Happens When REBOOT?</p>
</blockquote>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Item</th><th>Result</th></tr>
</thead>
<tbody>
<tr><td>OS</td><td>Restarts</td></tr>
<tr><td>Public IP</td><td>âœ… Same</td></tr>
<tr><td>Data</td><td>âœ… Safe</td></tr>
<tr><td>Billing</td><td>âœ… Continues</td></tr>
</tbody>
</table>
</div>
<p>ğŸ“Œ Reboot = Restart laptop</p>
<hr>
<h3 id="-step-5-terminate-the-instance-important"><a class="header" href="#-step-5-terminate-the-instance-important">ğŸ”¹ STEP 5: TERMINATE the Instance (IMPORTANT)</a></h3>
<p>âš ï¸ <strong>THIS IS DESTRUCTIVE</strong></p>
<ol>
<li>Select <code>ec2-userdata-demo</code></li>
<li><strong>Instance state â†’ Terminate</strong></li>
<li>Confirm</li>
</ol>
<hr>
<blockquote>
<p>ğŸ” What Happens When TERMINATE?</p>
</blockquote>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Item</th><th>Result</th></tr>
</thead>
<tbody>
<tr><td>Instance</td><td>âŒ Deleted</td></tr>
<tr><td>EBS root</td><td>âŒ Deleted</td></tr>
<tr><td>Public IP</td><td>âŒ Gone</td></tr>
<tr><td>Recovery</td><td>âŒ Impossible</td></tr>
</tbody>
</table>
</div>
<p>ğŸ“Œ Terminate = Delete forever</p>
<hr>
<h3 id="-very-important-interview-points"><a class="header" href="#-very-important-interview-points">ğŸ§  VERY IMPORTANT INTERVIEW POINTS</a></h3>
<ul>
<li>Stop â†’ Save money</li>
<li>Start â†’ New public IP</li>
<li>Reboot â†’ Same IP</li>
<li>Terminate â†’ Data lost</li>
</ul>
<hr>
<h3 id="-interview-ready-answer-3"><a class="header" href="#-interview-ready-answer-3">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>Stopping an EC2 instance halts compute billing while preserving EBS volumes, whereas terminating an instance permanently deletes the instance and associated root volume, making recovery impossible.</p>
</blockquote>
<hr>
<h3 id="-cost-best-practices"><a class="header" href="#-cost-best-practices">âš ï¸ COST BEST PRACTICES</a></h3>
<ul>
<li>Stop unused instances</li>
<li>Use Elastic IP for static access</li>
<li>Terminate unused test EC2s</li>
<li>Monitor free tier usage</li>
</ul>
<hr>
<h3 id="-lab-10-task-checklist"><a class="header" href="#-lab-10-task-checklist">âœ… LAB 10 TASK CHECKLIST</a></h3>
<ul>
<li>Stopped instance</li>
<li>Started instance</li>
<li>Rebooted instance</li>
<li>Terminated test instance</li>
<li>Understood lifecycle fully</li>
</ul>
<hr>
<h2 id="-ec2-hands-on--lab-11"><a class="header" href="#-ec2-hands-on--lab-11">ğŸ§ª EC2 HANDS-ON â€“ LAB 11</a></h2>
<h3 id="-ebs-volumes-attach-mount-detach--resize"><a class="header" href="#-ebs-volumes-attach-mount-detach--resize">ğŸ‘‰ EBS Volumes (Attach, Mount, Detach &amp; Resize)</a></h3>
<p><img src="https://docs.aws.amazon.com/images/ebs/latest/userguide/images/volume-lifecycle.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-11"><a class="header" href="#-objective-of-lab-11">ğŸ¯ Objective of LAB 11</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>what EBS is</strong></li>
<li>Create an <strong>extra EBS volume</strong></li>
<li>Attach it to EC2</li>
<li>Mount it inside Linux</li>
<li>Resize it safely</li>
<li>Be <strong>interview-ready</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-ebs-simple-words"><a class="header" href="#-first-what-is-ebs-simple-words">ğŸ§  FIRST: What is EBS? (Simple Words)</a></h3>
<p><strong>EBS (Elastic Block Store)</strong> is:</p>
<ul>
<li>A <strong>virtual hard disk</strong></li>
<li>Used by EC2</li>
<li><strong>Persistent</strong> storage</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>EC2 = Laptop ğŸ’»
EBS = Hard disk ğŸ’¾</p>
</blockquote>
<p>Even if EC2 stops â†’ <strong>data stays</strong>.</p>
<hr>
<h3 id="-important-types-for-now"><a class="header" href="#-important-types-for-now">ğŸ§  IMPORTANT TYPES (FOR NOW)</a></h3>
<p>Weâ€™ll use:</p>
<ul>
<li><strong>gp3</strong> (General Purpose SSD)</li>
</ul>
<p>ğŸ“Œ Free tier friendly
ğŸ“Œ Balanced performance</p>
<hr>
<h3 id="-step-1-identify-your-ec2-instance"><a class="header" href="#-step-1-identify-your-ec2-instance">ğŸ”¹ STEP 1: Identify Your EC2 Instance</a></h3>
<p>Use:</p>
<pre><code>ec2-hands-on-1
</code></pre>
<p>âš ï¸ Do <strong>NOT</strong> use terminated instance</p>
<hr>
<h3 id="-step-2-create-a-new-ebs-volume"><a class="header" href="#-step-2-create-a-new-ebs-volume">ğŸ”¹ STEP 2: Create a NEW EBS Volume</a></h3>
<ol>
<li>AWS Console â†’ <strong>EC2</strong></li>
<li>Left menu â†’ <strong>Volumes</strong></li>
<li>Click <strong>Create volume</strong></li>
</ol>
<blockquote>
<p>Fill details:</p>
</blockquote>
<ul>
<li>Volume type â†’ <strong>gp3</strong></li>
<li>Size â†’ <strong>5 GiB</strong></li>
<li>Availability Zone â†’ <strong>SAME as EC2</strong></li>
<li>Name:</li>
</ul>
<pre><code>ebs-hands-on-1
</code></pre>
<p>Click <strong>Create volume</strong></p>
<p>ğŸ“Œ AZ must match EC2 AZ</p>
<hr>
<h3 id="-step-3-attach-ebs-volume-to-ec2"><a class="header" href="#-step-3-attach-ebs-volume-to-ec2">ğŸ”¹ STEP 3: Attach EBS Volume to EC2</a></h3>
<ol>
<li>Select volume <code>ebs-hands-on-1</code></li>
<li>Actions â†’ <strong>Attach volume</strong></li>
<li>Instance â†’ <code>ec2-hands-on-1</code></li>
<li>Device â†’ <code>/dev/xvdf</code></li>
<li>Attach</li>
</ol>
<hr>
<h3 id="-step-4-connect-to-ec2-ssh"><a class="header" href="#-step-4-connect-to-ec2-ssh">ğŸ”¹ STEP 4: Connect to EC2 (SSH)</a></h3>
<pre><code class="language-bash">ssh -i ec2-key-hands-on.pem ec2-user@ELASTIC_IP
</code></pre>
<hr>
<h3 id="-step-5-check-disk-is-attached"><a class="header" href="#-step-5-check-disk-is-attached">ğŸ”¹ STEP 5: Check Disk is Attached</a></h3>
<p>Run:</p>
<pre><code class="language-bash">lsblk
</code></pre>
<p>ğŸ“Œ Explanation:</p>
<ul>
<li><code>lsblk</code> â†’ list block devices (disks)</li>
</ul>
<p>You will see:</p>
<ul>
<li><code>xvda</code> â†’ root disk</li>
<li><code>xvdf</code> â†’ new EBS (no mount yet)</li>
</ul>
<hr>
<h3 id="-step-6-format-the-new-volume"><a class="header" href="#-step-6-format-the-new-volume">ğŸ”¹ STEP 6: Format the New Volume</a></h3>
<pre><code class="language-bash">sudo mkfs -t xfs /dev/xvdf
</code></pre>
<p>ğŸ“Œ Explanation:</p>
<ul>
<li><code>mkfs</code> â†’ make filesystem</li>
<li><code>xfs</code> â†’ Linux filesystem</li>
<li><code>/dev/xvdf</code> â†’ new disk</li>
</ul>
<p>âš ï¸ Formatting erases data (safe now)</p>
<hr>
<h3 id="-step-7-create-mount-directory"><a class="header" href="#-step-7-create-mount-directory">ğŸ”¹ STEP 7: Create Mount Directory</a></h3>
<blockquote>
<p>Mounting an EBS volume is the process of making an attached storage volume accessible to the operating system at a specific directory path.</p>
</blockquote>
<pre><code class="language-bash">sudo mkdir /data
</code></pre>
<p>ğŸ“Œ <code>/data</code> = folder to access EBS</p>
<blockquote>
<p>â“ Why mounting is required?</p>
</blockquote>
<p>Because:</p>
<ul>
<li>EC2 OS doesnâ€™t know <strong>where</strong> to store data</li>
<li>EBS is just a block device</li>
<li>OS needs a <strong>mount point</strong> (folder)</li>
</ul>
<blockquote>
<p>ğŸ” What happens if you DONâ€™T mount?</p>
</blockquote>
<ul>
<li>Volume is attached âœ”</li>
<li>OS cannot read/write âŒ</li>
<li>Storage is wasted</li>
</ul>
<hr>
<h3 id="-step-8-mount-the-volume"><a class="header" href="#-step-8-mount-the-volume">ğŸ”¹ STEP 8: Mount the Volume</a></h3>
<pre><code class="language-bash">sudo mount /dev/xvdf /data
</code></pre>
<hr>
<h3 id="-step-9-verify-mount"><a class="header" href="#-step-9-verify-mount">ğŸ”¹ STEP 9: Verify Mount</a></h3>
<pre><code class="language-bash">df -h
</code></pre>
<p>ğŸ“Œ You should see <code>/data</code> mounted</p>
<hr>
<h3 id="-step-10-make-mount-persistent-important"><a class="header" href="#-step-10-make-mount-persistent-important">ğŸ”¹ STEP 10: Make Mount Persistent (IMPORTANT)</a></h3>
<p>Open fstab:</p>
<pre><code class="language-bash">sudo nano /etc/fstab
</code></pre>
<p>Add line at bottom:</p>
<pre><code class="language-bash">/dev/xvdf /data xfs defaults,nofail 0 2
</code></pre>
<p>Save &amp; exit:</p>
<ul>
<li>CTRL + X â†’ Y â†’ Enter</li>
</ul>
<p>ğŸ“Œ This ensures mount survives reboot</p>
<hr>
<h3 id="-step-11-resize-ebs-volume-hands-on"><a class="header" href="#-step-11-resize-ebs-volume-hands-on">ğŸ”¹ STEP 11: Resize EBS Volume (Hands-On)</a></h3>
<blockquote>
<p>Increase volume size</p>
</blockquote>
<ol>
<li>EC2 â†’ Volumes</li>
<li>Select <code>ebs-hands-on-1</code></li>
<li>Actions â†’ <strong>Modify volume</strong></li>
<li>Change size:</li>
</ol>
<pre><code>5 â†’ 10 GiB
</code></pre>
<ol start="5">
<li>Save</li>
</ol>
<hr>
<blockquote>
<p>Extend filesystem (inside EC2)</p>
</blockquote>
<pre><code class="language-bash">sudo xfs_growfs /data
</code></pre>
<p>ğŸ“Œ Expands filesystem to new size</p>
<p>Verify:</p>
<pre><code class="language-bash">df -h
</code></pre>
<hr>
<h3 id="-very-important-interview-points-1"><a class="header" href="#-very-important-interview-points-1">ğŸ§  VERY IMPORTANT INTERVIEW POINTS</a></h3>
<p>âœ” EBS is <strong>AZ-specific</strong>
âœ” EBS is <strong>persistent</strong>
âœ” Can attach/detach
âœ” Can resize without downtime
âœ” Root volume is also EBS</p>
<hr>
<h3 id="-interview-ready-answer-4"><a class="header" href="#-interview-ready-answer-4">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>Amazon EBS is a persistent block storage service designed for EC2 instances. It provides durable storage that can be attached, detached, resized, and snapshotted independently of the instance lifecycle.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes"><a class="header" href="#-common-mistakes">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Different AZ for volume
âŒ Forgetting filesystem resize
âŒ Not updating <code>/etc/fstab</code>
âŒ Formatting wrong disk</p>
<hr>
<h3 id="-lab-11-task-checklist"><a class="header" href="#-lab-11-task-checklist">âœ… LAB 11 TASK CHECKLIST</a></h3>
<p>âœ” Created EBS volume
âœ” Attached to EC2
âœ” Formatted &amp; mounted
âœ” Made persistent
âœ” Resized volume</p>
<hr>
<h2 id="-ec2-hands-on--lab-12"><a class="header" href="#-ec2-hands-on--lab-12">ğŸ§ª EC2 HANDS-ON â€“ LAB 12</a></h2>
<h3 id="-ebs-snapshots--restore-backup--disaster-recovery"><a class="header" href="#-ebs-snapshots--restore-backup--disaster-recovery">ğŸ‘‰ EBS Snapshots &amp; Restore (Backup &amp; Disaster Recovery)</a></h3>
<p><img src="https://www.edureka.co/blog/wp-content/uploads/2019/01/backing-up-amazon-ec2-How-To-Restore-EC2-Instance-From-Snapshot-Edureka-1.jpg" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-12"><a class="header" href="#-objective-of-lab-12">ğŸ¯ Objective of LAB 12</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Create an <strong>EBS snapshot (backup)</strong></li>
<li>Restore a <strong>new volume from snapshot</strong></li>
<li>Attach it to EC2</li>
<li>Prove <strong>data recovery</strong></li>
<li>Understand <strong>real-world backup strategy</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-an-ebs-snapshot-simple"><a class="header" href="#-first-what-is-an-ebs-snapshot-simple">ğŸ§  FIRST: What is an EBS Snapshot? (Simple)</a></h3>
<p>An <strong>EBS Snapshot</strong> is:</p>
<ul>
<li>A <strong>backup of an EBS volume</strong></li>
<li>Stored in <strong>Amazon S3 (managed by AWS)</strong></li>
<li><strong>Incremental</strong> (only changes are saved)</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>Snapshot = Photo of your disk ğŸ“¸
Volume = Live hard disk ğŸ’¾</p>
</blockquote>
<hr>
<h3 id="-very-important-rules-memorize-2"><a class="header" href="#-very-important-rules-memorize-2">ğŸ§  VERY IMPORTANT RULES (MEMORIZE)</a></h3>
<p>âœ” Snapshots are <strong>AZ-independent</strong>
âœ” Volumes are <strong>AZ-dependent</strong>
âœ” Snapshots are <strong>incremental</strong>
âœ” Used for <strong>backup &amp; restore</strong></p>
<hr>
<h3 id="-step-1-put-test-data-on-ebs-volume"><a class="header" href="#-step-1-put-test-data-on-ebs-volume">ğŸ”¹ STEP 1: Put Test Data on EBS Volume</a></h3>
<p>SSH into your EC2:</p>
<pre><code class="language-bash">ssh -i ec2-key-hands-on.pem ec2-user@ELASTIC_IP
</code></pre>
<p>Create a test file:</p>
<pre><code class="language-bash">sudo echo "EBS Snapshot Test File" &gt; /data/test.txt
</code></pre>
<p>Verify:</p>
<pre><code class="language-bash">cat /data/test.txt
</code></pre>
<hr>
<h3 id="-step-2-create-snapshot"><a class="header" href="#-step-2-create-snapshot">ğŸ”¹ STEP 2: Create Snapshot</a></h3>
<ol>
<li>AWS Console â†’ <strong>EC2</strong></li>
<li>Left menu â†’ <strong>Volumes</strong></li>
<li>Select volume <code>ebs-hands-on-1</code></li>
<li>Actions â†’ <strong>Create snapshot</strong></li>
</ol>
<blockquote>
<p>Details:</p>
</blockquote>
<ul>
<li>Name:</li>
</ul>
<pre><code>snapshot-ebs-hands-on-1
</code></pre>
<ul>
<li>Description:</li>
</ul>
<pre><code>Backup before changes
</code></pre>
<p>Click <strong>Create snapshot</strong></p>
<hr>
<h3 id="-step-3-verify-snapshot"><a class="header" href="#-step-3-verify-snapshot">ğŸ”¹ STEP 3: Verify Snapshot</a></h3>
<ol>
<li>Go to <strong>Snapshots</strong></li>
<li>Status â†’ <strong>Completed</strong></li>
</ol>
<p>ğŸ“Œ Snapshot is safely stored</p>
<hr>
<h3 id="-step-4-create-new-volume-from-snapshot"><a class="header" href="#-step-4-create-new-volume-from-snapshot">ğŸ”¹ STEP 4: Create NEW Volume from Snapshot</a></h3>
<ol>
<li>Select snapshot</li>
<li>Actions â†’ <strong>Create volume</strong></li>
</ol>
<blockquote>
<p>Settings:</p>
</blockquote>
<ul>
<li>Volume type â†’ gp3</li>
<li>Availability Zone â†’ <strong>Same as EC2</strong></li>
<li>Size â†’ Leave default</li>
<li>Name:</li>
</ul>
<pre><code>ebs-restored-from-snapshot
</code></pre>
<p>Click <strong>Create volume</strong></p>
<hr>
<h3 id="-step-5-attach-restored-volume-to-ec2"><a class="header" href="#-step-5-attach-restored-volume-to-ec2">ğŸ”¹ STEP 5: Attach Restored Volume to EC2</a></h3>
<ol>
<li>Select new volume</li>
<li>Actions â†’ <strong>Attach volume</strong></li>
<li>Instance â†’ <code>ec2-hands-on-1</code></li>
<li>Device â†’ <code>/dev/xvdg</code></li>
<li>Attach</li>
</ol>
<hr>
<h3 id="-step-6-verify-new-disk-inside-ec2"><a class="header" href="#-step-6-verify-new-disk-inside-ec2">ğŸ”¹ STEP 6: Verify New Disk Inside EC2</a></h3>
<pre><code class="language-bash">lsblk
</code></pre>
<p>You should see:</p>
<ul>
<li><code>xvdg</code> â†’ restored volume</li>
</ul>
<hr>
<h3 id="-step-7-mount-restored-volume"><a class="header" href="#-step-7-mount-restored-volume">ğŸ”¹ STEP 7: Mount Restored Volume</a></h3>
<p>Create mount folder:</p>
<pre><code class="language-bash">sudo mkdir /restore
</code></pre>
<p>Mount:</p>
<pre><code class="language-bash">sudo mount /dev/xvdg /restore
</code></pre>
<hr>
<h3 id="-step-8-verify-data-recovery-most-important"><a class="header" href="#-step-8-verify-data-recovery-most-important">ğŸ”¹ STEP 8: VERIFY DATA RECOVERY (MOST IMPORTANT)</a></h3>
<pre><code class="language-bash">ls /restore
</code></pre>
<pre><code class="language-bash">cat /restore/test.txt
</code></pre>
<p>ğŸ‰ Output:</p>
<pre><code>EBS Snapshot Test File
</code></pre>
<p>âœ… <strong>Backup &amp; restore successful</strong></p>
<hr>
<h3 id="-real-world-use-cases"><a class="header" href="#-real-world-use-cases">ğŸ§  REAL-WORLD USE CASES</a></h3>
<ul>
<li>Backup before OS upgrade</li>
<li>Disaster recovery</li>
<li>Clone environments</li>
<li>Create AMIs</li>
<li>Cross-region backup (copy snapshot)</li>
</ul>
<hr>
<h3 id="-interview-ready-answer-5"><a class="header" href="#-interview-ready-answer-5">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>An EBS snapshot is an incremental backup of an EBS volume stored in Amazon S3. Snapshots are AZ-independent and can be used to restore volumes or create new volumes across Availability Zones.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-1"><a class="header" href="#-common-mistakes-1">âš ï¸ COMMON MISTAKES</a></h3>
<ul>
<li>âŒ Creating volume in wrong AZ</li>
<li>âŒ Forgetting to mount restored volume</li>
<li>âŒ Assuming snapshot is full copy (itâ€™s incremental)</li>
<li>âŒ Deleting snapshot before restore</li>
</ul>
<hr>
<h3 id="-lab-12-task-checklist"><a class="header" href="#-lab-12-task-checklist">âœ… LAB 12 TASK CHECKLIST</a></h3>
<ul>
<li>âœ” Created snapshot</li>
<li>âœ” Restored volume</li>
<li>âœ” Attached to EC2</li>
<li>âœ” Mounted volume</li>
<li>âœ” Verified recovered data</li>
</ul>
<hr>
<h2 id="-ec2-hands-on--lab-13"><a class="header" href="#-ec2-hands-on--lab-13">ğŸ§ª EC2 HANDS-ON â€“ LAB 13</a></h2>
<h3 id="-create-custom-ami-golden-image-for-ec2"><a class="header" href="#-create-custom-ami-golden-image-for-ec2">ğŸ‘‰ Create Custom AMI (Golden Image for EC2)</a></h3>
<p><img src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2017/09/15/custom_ami_1.gif" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-13"><a class="header" href="#-objective-of-lab-13">ğŸ¯ Objective of LAB 13</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Create a <strong>custom AMI</strong></li>
<li>Launch new EC2 from that AMI</li>
<li>Prove <strong>pre-installed software exists</strong></li>
<li>Understand <strong>Golden AMI concept</strong></li>
<li>Be <strong>interview-ready</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-an-ami-simple-words"><a class="header" href="#-first-what-is-an-ami-simple-words">ğŸ§  FIRST: What is an AMI? (Simple Words)</a></h3>
<p>An <strong>AMI (Amazon Machine Image)</strong> is:</p>
<ul>
<li>
<p>A <strong>template</strong> for EC2</p>
</li>
<li>
<p>Contains:</p>
<ul>
<li>OS</li>
<li>Installed software</li>
<li>Configurations</li>
</ul>
</li>
<li>
<p>Used to launch <strong>multiple identical EC2s</strong></p>
</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>AMI = Clone of your configured server ğŸ§¬</p>
</blockquote>
<hr>
<h3 id="-golden-ami-very-important"><a class="header" href="#-golden-ami-very-important">ğŸ§  GOLDEN AMI (VERY IMPORTANT)</a></h3>
<p>A <strong>Golden AMI</strong>:</p>
<ul>
<li>Has OS patches</li>
<li>Has required software</li>
<li>Has security hardening</li>
<li>Used across environments</li>
</ul>
<p>ğŸ“Œ Used by:</p>
<ul>
<li>Auto Scaling</li>
<li>Dev / QA / Prod</li>
</ul>
<hr>
<h3 id="-step-1-prepare-your-ec2-for-ami"><a class="header" href="#-step-1-prepare-your-ec2-for-ami">ğŸ”¹ STEP 1: Prepare Your EC2 for AMI</a></h3>
<p>Weâ€™ll use:</p>
<pre><code>ec2-hands-on-1
</code></pre>
<p>Confirm:</p>
<ul>
<li>Apache installed</li>
<li>Website working</li>
<li>EBS attached</li>
</ul>
<p>(Optional check):</p>
<pre><code class="language-bash">systemctl status httpd
</code></pre>
<hr>
<h3 id="-step-2-create-ami-from-ec2"><a class="header" href="#-step-2-create-ami-from-ec2">ğŸ”¹ STEP 2: Create AMI from EC2</a></h3>
<ol>
<li>EC2 Console â†’ <strong>Instances</strong></li>
<li>Select <code>ec2-hands-on-1</code></li>
<li>Actions â†’ <strong>Image and templates</strong></li>
<li>Click <strong>Create image</strong></li>
</ol>
<hr>
<h4 id="fill-details-1"><a class="header" href="#fill-details-1">Fill Details:</a></h4>
<ul>
<li>Image name:</li>
</ul>
<pre><code>ec2-golden-ami-v1
</code></pre>
<ul>
<li>Description:</li>
</ul>
<pre><code>Apache + custom configuration
</code></pre>
<ul>
<li>Leave defaults (Reboot = YES)</li>
</ul>
<p>Click <strong>Create image</strong></p>
<p>ğŸ“Œ AWS creates:</p>
<ul>
<li>AMI</li>
<li>Snapshots of attached EBS volumes</li>
</ul>
<hr>
<h3 id="-step-3-track-ami-creation"><a class="header" href="#-step-3-track-ami-creation">ğŸ”¹ STEP 3: Track AMI Creation</a></h3>
<ol>
<li>Go to <strong>AMIs</strong></li>
<li>Status â†’ <strong>Pending â†’ Available</strong></li>
</ol>
<p>ğŸ“Œ Wait until <strong>Available</strong></p>
<hr>
<h3 id="-step-4-launch-new-ec2-from-custom-ami"><a class="header" href="#-step-4-launch-new-ec2-from-custom-ami">ğŸ”¹ STEP 4: Launch New EC2 from Custom AMI</a></h3>
<ol>
<li>Select AMI <code>ec2-golden-ami-v1</code></li>
<li>Click <strong>Launch instance from AMI</strong></li>
</ol>
<hr>
<h4 id="configure"><a class="header" href="#configure">Configure:</a></h4>
<ul>
<li>Instance name:</li>
</ul>
<pre><code>ec2-from-golden-ami
</code></pre>
<ul>
<li>Instance type â†’ t2.micro</li>
<li>Key pair â†’ existing</li>
<li>Security group â†’ allow HTTP + SSH</li>
<li>Launch</li>
</ul>
<hr>
<h3 id="-step-5-test-new-ec2"><a class="header" href="#-step-5-test-new-ec2">ğŸ”¹ STEP 5: Test NEW EC2</a></h3>
<ol>
<li>Copy <strong>Public IP</strong></li>
<li>Open browser:</li>
</ol>
<pre><code>http://PUBLIC_IP
</code></pre>
<p>ğŸ‰ Website should load immediately
âŒ No installation needed</p>
<hr>
<h3 id="-step-6-proof-optional-ssh"><a class="header" href="#-step-6-proof-optional-ssh">ğŸ”¹ STEP 6: PROOF (Optional SSH)</a></h3>
<p>SSH into new EC2:</p>
<pre><code class="language-bash">ssh -i ec2-key-hands-on.pem ec2-user@NEW_PUBLIC_IP
</code></pre>
<p>Check:</p>
<pre><code class="language-bash">systemctl status httpd
</code></pre>
<p>Result:</p>
<pre><code>active (running)
</code></pre>
<hr>
<h3 id="-real-world-use-cases-1"><a class="header" href="#-real-world-use-cases-1">ğŸ§  REAL-WORLD USE CASES</a></h3>
<ul>
<li>âœ” Auto Scaling Groups</li>
<li>âœ” Faster deployments</li>
<li>âœ” Consistent environments</li>
<li>âœ” Rollback strategy</li>
</ul>
<hr>
<h3 id="-interview-ready-answer-6"><a class="header" href="#-interview-ready-answer-6">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>An AMI is a pre-configured template containing the operating system, applications, and settings required to launch EC2 instances. A Golden AMI ensures consistency and faster provisioning across environments.</p>
</blockquote>
<hr>
<h3 id="-important-best-practices"><a class="header" href="#-important-best-practices">âš ï¸ IMPORTANT BEST PRACTICES</a></h3>
<ul>
<li>âœ” Version your AMIs</li>
<li>âœ” Patch before AMI creation</li>
<li>âœ” Delete unused AMIs</li>
<li>âœ” Tag AMIs properly</li>
</ul>
<hr>
<h3 id="-lab-13-task-checklist"><a class="header" href="#-lab-13-task-checklist">âœ… LAB 13 TASK CHECKLIST</a></h3>
<ul>
<li>âœ” Created custom AMI</li>
<li>âœ” Launched EC2 from AMI</li>
<li>âœ” Website worked instantly</li>
<li>âœ” Understood Golden AMI concept</li>
</ul>
<hr>
<h2 id="-ec2-hands-on--lab-14"><a class="header" href="#-ec2-hands-on--lab-14">ğŸ§ª EC2 HANDS-ON â€“ LAB 14</a></h2>
<h3 id="-root-volume-vs-additional-ebs-volumes-deep-practical-understanding"><a class="header" href="#-root-volume-vs-additional-ebs-volumes-deep-practical-understanding">ğŸ‘‰ Root Volume vs Additional EBS Volumes (Deep Practical Understanding)</a></h3>
<p><img src="https://docs.aws.amazon.com/images/AWSEC2/latest/UserGuide/images/ebs_backed_instance.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-14"><a class="header" href="#-objective-of-lab-14">ğŸ¯ Objective of LAB 14</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Clearly understand <strong>root volume</strong></li>
<li>Understand <strong>additional EBS volumes</strong></li>
<li>See <strong>Delete on Termination</strong> in action</li>
<li>Know <strong>real-world best practices</strong></li>
<li>Be <strong>interview-ready</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-root-volume-simple-words"><a class="header" href="#-first-what-is-root-volume-simple-words">ğŸ§  FIRST: What is Root Volume? (Simple Words)</a></h3>
<p>The <strong>root volume</strong>:</p>
<ul>
<li>Contains the <strong>OS (Amazon Linux)</strong></li>
<li>Is attached at launch</li>
<li>Usually named:</li>
</ul>
<pre><code>/dev/xvda
</code></pre>
<p>Think like:</p>
<blockquote>
<p>Root volume = Laptop C: drive ğŸ’»</p>
</blockquote>
<p>Without root volume â†’ EC2 <strong>cannot boot</strong></p>
<hr>
<h3 id="-what-is-additional-ebs-volume"><a class="header" href="#-what-is-additional-ebs-volume">ğŸ§  What is Additional EBS Volume?</a></h3>
<p>Additional EBS:</p>
<ul>
<li>
<p>Extra disks you attach later</p>
</li>
<li>
<p>Used for:</p>
<ul>
<li>App data</li>
<li>Logs</li>
<li>Databases</li>
</ul>
</li>
<li>
<p>Examples:</p>
</li>
</ul>
<pre><code>/dev/xvdf
/dev/xvdg
</code></pre>
<p>Think like:</p>
<blockquote>
<p>Additional EBS = External hard disk ğŸ’¾</p>
</blockquote>
<hr>
<h3 id="-step-1-identify-volumes-on-your-ec2"><a class="header" href="#-step-1-identify-volumes-on-your-ec2">ğŸ”¹ STEP 1: Identify Volumes on Your EC2</a></h3>
<p>SSH into EC2:</p>
<pre><code class="language-bash">ssh -i ec2-key-hands-on.pem ec2-user@ELASTIC_IP
</code></pre>
<p>Run:</p>
<pre><code class="language-bash">lsblk
</code></pre>
<blockquote>
<p>You will see:</p>
</blockquote>
<ul>
<li><code>xvda</code> â†’ Root volume</li>
<li><code>xvdf</code> â†’ Additional EBS</li>
<li><code>xvdg</code> â†’ Snapshot-restored EBS</li>
</ul>
<hr>
<h3 id="-step-2-check-mount-points"><a class="header" href="#-step-2-check-mount-points">ğŸ”¹ STEP 2: Check Mount Points</a></h3>
<pre><code class="language-bash">df -h
</code></pre>
<p>You will see:</p>
<ul>
<li><code>/</code> â†’ Root volume</li>
<li><code>/data</code> â†’ Additional EBS</li>
<li><code>/restore</code> â†’ Snapshot EBS</li>
</ul>
<p>ğŸ“Œ Root volume mounts at <code>/</code></p>
<hr>
<h3 id="-step-3-check-delete-on-termination-important"><a class="header" href="#-step-3-check-delete-on-termination-important">ğŸ”¹ STEP 3: Check â€œDelete on Terminationâ€ (IMPORTANT)</a></h3>
<ol>
<li>EC2 Console â†’ <strong>Instances</strong></li>
<li>Select <code>ec2-hands-on-1</code></li>
<li>Go to <strong>Storage</strong> tab</li>
<li>Click <strong>Volume ID</strong> of root volume</li>
</ol>
<p>Look for:</p>
<pre><code>Delete on termination: Yes
</code></pre>
<p>ğŸ“Œ Meaning:</p>
<ul>
<li>If EC2 terminates</li>
<li>Root volume is deleted</li>
</ul>
<hr>
<h3 id="-step-4-check-additional-ebs-delete-behavior"><a class="header" href="#-step-4-check-additional-ebs-delete-behavior">ğŸ”¹ STEP 4: Check Additional EBS Delete Behavior</a></h3>
<p>Click additional EBS volume:</p>
<p>Youâ€™ll see:</p>
<pre><code>Delete on termination: No
</code></pre>
<p>ğŸ“Œ Meaning:</p>
<ul>
<li>Data survives EC2 termination</li>
<li>Used for backups &amp; safety</li>
</ul>
<hr>
<h3 id="-step-5-practical-scenario-concept"><a class="header" href="#-step-5-practical-scenario-concept">ğŸ”¹ STEP 5: PRACTICAL SCENARIO (CONCEPT)</a></h3>
<blockquote>
<p>If EC2 is TERMINATED:</p>
</blockquote>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Volume Type</th><th>Result</th></tr>
</thead>
<tbody>
<tr><td>Root volume</td><td>âŒ Deleted</td></tr>
<tr><td>Additional EBS</td><td>âœ… Preserved</td></tr>
</tbody>
</table>
</div>
<p>ğŸ“Œ Thatâ€™s why:</p>
<ul>
<li>App data should be on <strong>separate EBS</strong></li>
<li>OS only on root</li>
</ul>
<hr>
<h3 id="-step-6-best-practice-real-world"><a class="header" href="#-step-6-best-practice-real-world">ğŸ”¹ STEP 6: BEST PRACTICE (REAL WORLD)</a></h3>
<ul>
<li>âœ” Keep OS on root volume</li>
<li>âœ” Keep data/logs on separate EBS</li>
<li>âœ” Disable delete-on-termination for critical volumes</li>
<li>âœ” Take snapshots regularly</li>
</ul>
<hr>
<h3 id="-interview-ready-answer-7"><a class="header" href="#-interview-ready-answer-7">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>The root volume contains the operating system and is required for booting an EC2 instance, while additional EBS volumes are used for application data. By default, the root volume is deleted on termination, whereas additional volumes persist unless explicitly configured otherwise.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-2"><a class="header" href="#-common-mistakes-2">âš ï¸ COMMON MISTAKES</a></h3>
<ul>
<li>âŒ Storing critical data on root volume</li>
<li>âŒ Not checking delete-on-termination</li>
<li>âŒ Forgetting to back up additional volumes</li>
</ul>
<hr>
<h3 id="-lab-14-task-checklist"><a class="header" href="#-lab-14-task-checklist">âœ… LAB 14 TASK CHECKLIST</a></h3>
<ul>
<li>âœ” Identified root vs additional volumes</li>
<li>âœ” Checked mount points</li>
<li>âœ” Understood delete-on-termination</li>
<li>âœ” Learned real-world design practice</li>
</ul>
<hr>
<h2 id="-ec2-hands-on--lab-15"><a class="header" href="#-ec2-hands-on--lab-15">ğŸ§ª EC2 HANDS-ON â€“ LAB 15</a></h2>
<h3 id="-ebs-vs-instance-store-performance-vs-persistence"><a class="header" href="#-ebs-vs-instance-store-performance-vs-persistence">ğŸ‘‰ EBS vs Instance Store (Performance vs Persistence)</a></h3>
<hr>
<h3 id="-objective-of-lab-15"><a class="header" href="#-objective-of-lab-15">ğŸ¯ Objective of LAB 15</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>Instance Store</strong></li>
<li>Compare <strong>EBS vs Instance Store</strong></li>
<li>Know <strong>when to use each</strong></li>
<li>Be <strong>interview-ready</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-instance-store"><a class="header" href="#-first-what-is-instance-store">ğŸ§  FIRST: What is Instance Store?</a></h3>
<p><strong>Instance Store</strong> is:</p>
<ul>
<li>
<p><strong>Temporary (ephemeral) storage</strong></p>
</li>
<li>
<p>Physically attached to EC2 host</p>
</li>
<li>
<p>Data is <strong>lost</strong> if:</p>
<ul>
<li>Instance stops</li>
<li>Instance terminates</li>
<li>Host fails</li>
</ul>
</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>Instance Store = RAM disk / temporary scratch space âš¡</p>
</blockquote>
<hr>
<h3 id="-what-is-ebs-reminder"><a class="header" href="#-what-is-ebs-reminder">ğŸ§  What is EBS? (Reminder)</a></h3>
<p><strong>EBS</strong>:</p>
<ul>
<li>Persistent block storage</li>
<li>Independent of EC2 lifecycle</li>
<li>Backed by AWS-managed infrastructure</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>EBS = External hard disk ğŸ’¾</p>
</blockquote>
<hr>
<h3 id="-hands-on-note-important"><a class="header" href="#-hands-on-note-important">ğŸ”¹ HANDS-ON NOTE (IMPORTANT)</a></h3>
<p>âš ï¸ <strong>Free Tier usually does NOT support Instance Store</strong></p>
<p>So weâ€™ll do:</p>
<ul>
<li><strong>Conceptual + console visibility</strong></li>
<li>Real-world explanation (interview focus)</li>
</ul>
<hr>
<h3 id="-step-1-identify-instance-store-support"><a class="header" href="#-step-1-identify-instance-store-support">ğŸ”¹ STEP 1: Identify Instance Store Support</a></h3>
<ol>
<li>
<p>EC2 â†’ <strong>Launch instance</strong></p>
</li>
<li>
<p>Select an instance type like:</p>
<ul>
<li><code>i3</code>, <code>i4</code>, <code>d2</code></li>
</ul>
</li>
</ol>
<p>Youâ€™ll see:</p>
<pre><code>Instance store volumes available
</code></pre>
<p>ğŸ“Œ These instance types support instance store</p>
<hr>
<h3 id="-step-2-understand-storage-at-launch"><a class="header" href="#-step-2-understand-storage-at-launch">ğŸ”¹ STEP 2: Understand Storage at Launch</a></h3>
<p>When instance store is used:</p>
<ul>
<li>Disk appears as:</li>
</ul>
<pre><code>/dev/nvme1n1
</code></pre>
<ul>
<li>Must be formatted manually</li>
<li>Not persistent</li>
</ul>
<hr>
<h3 id="-step-3-ebs-vs-instance-store-interview-table"><a class="header" href="#-step-3-ebs-vs-instance-store-interview-table">ğŸ”¹ STEP 3: EBS vs Instance Store (INTERVIEW TABLE)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Feature</th><th>EBS</th><th>Instance Store</th></tr>
</thead>
<tbody>
<tr><td>Persistence</td><td>âœ… Yes</td><td>âŒ No</td></tr>
<tr><td>Data survives stop</td><td>âœ… Yes</td><td>âŒ No</td></tr>
<tr><td>Snapshot</td><td>âœ… Yes</td><td>âŒ No</td></tr>
<tr><td>Performance</td><td>Good</td><td><strong>Very High</strong></td></tr>
<tr><td>Cost</td><td>Paid</td><td>Included</td></tr>
<tr><td>Use case</td><td>Databases</td><td>Cache / temp</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-step-4-real-world-use-cases"><a class="header" href="#-step-4-real-world-use-cases">ğŸ”¹ STEP 4: REAL-WORLD USE CASES</a></h3>
<blockquote>
<p>Use EBS when:</p>
</blockquote>
<ul>
<li>âœ” Databases</li>
<li>âœ” App data</li>
<li>âœ” Logs</li>
<li>âœ” Backups</li>
</ul>
<blockquote>
<p>Use Instance Store when:</p>
</blockquote>
<ul>
<li>âœ” Cache</li>
<li>âœ” Buffer</li>
<li>âœ” Temporary data</li>
<li>âœ” High-speed scratch space</li>
</ul>
<hr>
<h3 id="-interview-ready-answer-8"><a class="header" href="#-interview-ready-answer-8">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>Amazon EBS provides persistent block storage independent of the EC2 lifecycle, whereas Instance Store offers high-performance, ephemeral storage that is lost when the instance stops or terminates.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-3"><a class="header" href="#-common-mistakes-3">âš ï¸ COMMON MISTAKES</a></h3>
<ul>
<li>âŒ Using instance store for databases</li>
<li>âŒ Expecting data persistence</li>
<li>âŒ No backups</li>
</ul>
<hr>
<h3 id="-lab-15-task-checklist"><a class="header" href="#-lab-15-task-checklist">âœ… LAB 15 TASK CHECKLIST</a></h3>
<ul>
<li>âœ” Understood instance store</li>
<li>âœ” Compared with EBS</li>
<li>âœ” Learned performance trade-offs</li>
<li>âœ” Interview clarity achieved</li>
</ul>
<hr>
<h2 id="-ec2-hands-on--lab-16"><a class="header" href="#-ec2-hands-on--lab-16">ğŸ§ª EC2 HANDS-ON â€“ LAB 16</a></h2>
<h3 id="-multi-az-ec2-deployment-high-availability-basics"><a class="header" href="#-multi-az-ec2-deployment-high-availability-basics">ğŸ‘‰ Multi-AZ EC2 Deployment (High Availability Basics)</a></h3>
<p><img src="https://kodekloud.com/kk-media/image/upload/v1752860152/notes-assets/images/AWS-Certified-SysOps-Administrator-Associate-Multi-AZ-Architectures-for-Various-AWS-Services-Overview/multi-az-architecture-aws-vpc.jpg" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-16"><a class="header" href="#-objective-of-lab-16">ğŸ¯ Objective of LAB 16</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>Availability Zones (AZs)</strong> deeply</li>
<li>Launch EC2 instances in <strong>multiple AZs</strong></li>
<li>Prove <strong>why Multi-AZ is needed</strong></li>
<li>Be able to explain <strong>HA architecture</strong> in interviews</li>
</ul>
<hr>
<h3 id="-first-what-is-an-availability-zone-very-simple"><a class="header" href="#-first-what-is-an-availability-zone-very-simple">ğŸ§  FIRST: What is an Availability Zone? (Very Simple)</a></h3>
<p>An <strong>Availability Zone (AZ)</strong> is:</p>
<ul>
<li>One or more <strong>physically separate data centers</strong></li>
<li>Inside a <strong>single AWS region</strong></li>
<li>Connected with <strong>high-speed private network</strong></li>
</ul>
<p>Example (Mumbai region):</p>
<pre><code>ap-south-1a
ap-south-1b
ap-south-1c
</code></pre>
<p>Think like:</p>
<blockquote>
<p>Region = City ğŸ™ï¸
AZ = Different buildings in the city ğŸ¢ğŸ¢ğŸ¢</p>
</blockquote>
<hr>
<h3 id="-why-multi-az-is-important"><a class="header" href="#-why-multi-az-is-important">ğŸ§  Why Multi-AZ is IMPORTANT?</a></h3>
<p>If you use <strong>only ONE AZ</strong>:</p>
<ul>
<li>Power failure âŒ</li>
<li>Network issue âŒ</li>
<li>Fire / flood âŒ
â¡ï¸ Your application goes <strong>DOWN</strong></li>
</ul>
<p>If you use <strong>MULTI-AZ</strong>:</p>
<ul>
<li>One AZ fails âŒ</li>
<li>Other AZ still works âœ…
â¡ï¸ Application stays <strong>UP</strong></li>
</ul>
<p>ğŸ‘‰ This is called <strong>High Availability</strong></p>
<hr>
<h3 id="-step-1-check-az-of-your-existing-ec2"><a class="header" href="#-step-1-check-az-of-your-existing-ec2">ğŸ”¹ STEP 1: Check AZ of Your Existing EC2</a></h3>
<ol>
<li>EC2 â†’ Instances</li>
<li>Select <code>ec2-hands-on-1</code></li>
<li>Check:</li>
</ol>
<pre><code>Availability Zone
</code></pre>
<p>Example:</p>
<pre><code>ap-south-1a
</code></pre>
<p>ğŸ“Œ Right now â†’ <strong>Single-AZ architecture</strong></p>
<hr>
<h3 id="-step-2-launch-second-ec2-in-different-az"><a class="header" href="#-step-2-launch-second-ec2-in-different-az">ğŸ”¹ STEP 2: Launch SECOND EC2 in DIFFERENT AZ</a></h3>
<p>We will launch <strong>another EC2</strong>, but in a <strong>different AZ</strong>.</p>
<h3 id="launch-instance"><a class="header" href="#launch-instance">Launch Instance:</a></h3>
<ul>
<li>Name:</li>
</ul>
<pre><code>ec2-hands-on-az2
</code></pre>
<ul>
<li>
<p>AMI: Amazon Linux 2023</p>
</li>
<li>
<p>Instance type: t2.micro</p>
</li>
<li>
<p>Key pair: existing</p>
</li>
<li>
<p>Security group:</p>
<ul>
<li>SSH (22) â†’ My IP</li>
<li>HTTP (80) â†’ Anywhere</li>
</ul>
</li>
</ul>
<hr>
<h3 id="-important-az-selection"><a class="header" href="#-important-az-selection">ğŸ”¥ IMPORTANT (AZ SELECTION)</a></h3>
<p>In <strong>Network settings â†’ Subnet</strong>:</p>
<ul>
<li>Select a subnet from a <strong>different AZ</strong></li>
</ul>
<p>Example:</p>
<ul>
<li>First EC2 â†’ <code>ap-south-1a</code></li>
<li>Second EC2 â†’ <code>ap-south-1b</code></li>
</ul>
<p>ğŸ“Œ This step is <strong>CRITICAL</strong></p>
<hr>
<h3 id="-step-3-launch--verify"><a class="header" href="#-step-3-launch--verify">ğŸ”¹ STEP 3: Launch &amp; Verify</a></h3>
<p>Wait until:
ğŸŸ¢ Instance state â†’ <strong>Running</strong></p>
<p>Now you have:</p>
<ul>
<li>EC2 in AZ-A</li>
<li>EC2 in AZ-B</li>
</ul>
<p>âœ… <strong>Multi-AZ setup achieved</strong></p>
<hr>
<h3 id="-step-4-install-apache-on-second-ec2"><a class="header" href="#-step-4-install-apache-on-second-ec2">ğŸ”¹ STEP 4: Install Apache on SECOND EC2</a></h3>
<p>SSH into second EC2:</p>
<pre><code class="language-bash">ssh -i ec2-key-hands-on.pem ec2-user@SECOND_PUBLIC_IP
</code></pre>
<p>Install Apache:</p>
<pre><code class="language-bash">sudo dnf install httpd -y
sudo systemctl start httpd
sudo systemctl enable httpd
</code></pre>
<p>Create page:</p>
<pre><code class="language-bash">echo "&lt;h1&gt;Hello from AZ-2 EC2&lt;/h1&gt;" | sudo tee /var/www/html/index.html
</code></pre>
<hr>
<h3 id="-step-5-test-both-ec2s"><a class="header" href="#-step-5-test-both-ec2s">ğŸ”¹ STEP 5: Test Both EC2s</a></h3>
<h3 id="browser-tests"><a class="header" href="#browser-tests">Browser tests:</a></h3>
<p>EC2-1 (AZ-A):</p>
<pre><code>http://IP-OF-EC2-1
</code></pre>
<p>EC2-2 (AZ-B):</p>
<pre><code>http://IP-OF-EC2-2
</code></pre>
<p>âœ… Both websites work independently</p>
<hr>
<h3 id="-step-6-failure-scenario-conceptual"><a class="header" href="#-step-6-failure-scenario-conceptual">ğŸ”¹ STEP 6: FAILURE SCENARIO (CONCEPTUAL)</a></h3>
<p>Imagine:</p>
<ul>
<li>AZ-A goes DOWN âŒ</li>
</ul>
<p>What happens?</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Setup</th><th>Result</th></tr>
</thead>
<tbody>
<tr><td>Single-AZ</td><td>App DOWN âŒ</td></tr>
<tr><td>Multi-AZ</td><td>App STILL UP âœ…</td></tr>
</tbody>
</table>
</div>
<p>ğŸ“Œ This is <strong>why AWS recommends Multi-AZ</strong></p>
<hr>
<h3 id="-very-important-interview-points-2"><a class="header" href="#-very-important-interview-points-2">ğŸ§  VERY IMPORTANT INTERVIEW POINTS</a></h3>
<p>âœ” Multi-AZ â‰  Auto Scaling
âœ” Multi-AZ â‰  Load Balancer
âœ” Multi-AZ = <strong>Design choice</strong>
âœ” HA requires <strong>more than one AZ</strong></p>
<hr>
<h3 id="-interview-ready-answer-9"><a class="header" href="#-interview-ready-answer-9">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>A Multi-AZ architecture deploys EC2 instances across multiple Availability Zones within a region to ensure high availability and fault tolerance. If one AZ fails, traffic can be served from another AZ.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-4"><a class="header" href="#-common-mistakes-4">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Launching both EC2s in same AZ
âŒ Assuming region = AZ
âŒ Thinking Multi-AZ happens automatically</p>
<hr>
<h3 id="-lab-16-task-checklist"><a class="header" href="#-lab-16-task-checklist">âœ… LAB 16 TASK CHECKLIST</a></h3>
<p>âœ” Identified AZ of EC2
âœ” Launched second EC2 in different AZ
âœ” Installed Apache on second EC2
âœ” Tested both independently
âœ” Understood HA concept</p>
<hr>
<h2 id="-ec2-hands-on--lab-17"><a class="header" href="#-ec2-hands-on--lab-17">ğŸ§ª EC2 HANDS-ON â€“ LAB 17</a></h2>
<h3 id="-application-load-balancer-alb--distribute-traffic-across-azs"><a class="header" href="#-application-load-balancer-alb--distribute-traffic-across-azs">ğŸ‘‰ Application Load Balancer (ALB) â€“ Distribute Traffic Across AZs</a></h3>
<p><img src="https://docs.aws.amazon.com/images/elasticloadbalancing/latest/userguide/images/cross_zone_load_balancing_disabled.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-17"><a class="header" href="#-objective-of-lab-17">ğŸ¯ Objective of LAB 17</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Create an <strong>Application Load Balancer</strong></li>
<li>Route traffic to <strong>multiple EC2s</strong></li>
<li>Understand <strong>Target Groups &amp; Health Checks</strong></li>
<li>Achieve <strong>true High Availability</strong></li>
<li>Be <strong>100% interview-ready</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-a-load-balancer-simple-words"><a class="header" href="#-first-what-is-a-load-balancer-simple-words">ğŸ§  FIRST: What is a Load Balancer? (Simple Words)</a></h3>
<p>A <strong>Load Balancer</strong>:</p>
<ul>
<li>Receives traffic from users</li>
<li>Distributes it across <strong>multiple EC2 instances</strong></li>
<li>Prevents overload &amp; downtime</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>Load Balancer = Traffic police ğŸš¦</p>
</blockquote>
<hr>
<h3 id="-what-is-alb"><a class="header" href="#-what-is-alb">ğŸ§  What is ALB?</a></h3>
<p><strong>Application Load Balancer (ALB)</strong>:</p>
<ul>
<li>
<p>Works at <strong>Layer 7 (HTTP/HTTPS)</strong></p>
</li>
<li>
<p>Routes based on:</p>
<ul>
<li>URL path</li>
<li>Host name</li>
</ul>
</li>
<li>
<p>Supports <strong>Auto Scaling</strong></p>
</li>
</ul>
<p>ALB is part of
<strong>Amazon Web Services â†’ Elastic Load Balancing</strong></p>
<hr>
<h3 id="-architecture-you-are-building"><a class="header" href="#-architecture-you-are-building">ğŸ§  ARCHITECTURE YOU ARE BUILDING</a></h3>
<pre><code>User
 â†“
Application Load Balancer
 â†“            â†“
EC2 (AZ-A)   EC2 (AZ-B)
</code></pre>
<hr>
<h3 id="-step-1-create-target-group"><a class="header" href="#-step-1-create-target-group">ğŸ”¹ STEP 1: Create Target Group</a></h3>
<p>Target Group = <strong>Group of EC2s ALB sends traffic to</strong></p>
<ol>
<li>AWS Console â†’ <strong>EC2</strong></li>
<li>Left menu â†’ <strong>Target Groups</strong></li>
<li>Click <strong>Create target group</strong></li>
</ol>
<blockquote>
<p>Configure:</p>
</blockquote>
<ul>
<li>Target type â†’ <strong>Instances</strong></li>
<li>Name:</li>
</ul>
<pre><code>tg-ec2-hands-on
</code></pre>
<ul>
<li>Protocol â†’ <strong>HTTP</strong></li>
<li>Port â†’ <strong>80</strong></li>
<li>VPC â†’ your VPC</li>
<li>Health check path:</li>
</ul>
<pre><code>/
</code></pre>
<p>Click <strong>Next</strong></p>
<hr>
<h3 id="-step-2-register-ec2-instances"><a class="header" href="#-step-2-register-ec2-instances">ğŸ”¹ STEP 2: Register EC2 Instances</a></h3>
<ol>
<li>
<p>Select BOTH EC2 instances:</p>
<ul>
<li><code>ec2-hands-on-1</code></li>
<li><code>ec2-hands-on-az2</code></li>
</ul>
</li>
<li>
<p>Click <strong>Include as pending</strong></p>
</li>
<li>
<p>Click <strong>Create target group</strong></p>
</li>
</ol>
<hr>
<h3 id="-step-3-create-application-load-balancer"><a class="header" href="#-step-3-create-application-load-balancer">ğŸ”¹ STEP 3: Create Application Load Balancer</a></h3>
<ol>
<li>EC2 â†’ <strong>Load Balancers</strong></li>
<li>Click <strong>Create Load Balancer</strong></li>
<li>Select <strong>Application Load Balancer</strong></li>
</ol>
<hr>
<blockquote>
<p>Basic Configuration</p>
</blockquote>
<ul>
<li>Name:</li>
</ul>
<pre><code>alb-ec2-hands-on
</code></pre>
<ul>
<li>Scheme â†’ <strong>Internet-facing</strong></li>
<li>IP address type â†’ IPv4</li>
</ul>
<hr>
<blockquote>
<p>Network Mapping (IMPORTANT)</p>
</blockquote>
<ul>
<li>
<p>VPC â†’ your VPC</p>
</li>
<li>
<p>Select <strong>at least 2 AZs</strong></p>
<ul>
<li>ap-south-1a</li>
<li>ap-south-1b</li>
</ul>
</li>
</ul>
<p>ğŸ“Œ ALB <strong>must</strong> be Multi-AZ</p>
<hr>
<blockquote>
<p>Security Group</p>
</blockquote>
<ul>
<li>
<p>Create new SG:</p>
<ul>
<li>HTTP (80) â†’ Anywhere</li>
</ul>
</li>
<li>
<p>Name:</p>
</li>
</ul>
<pre><code>alb-sg
</code></pre>
<hr>
<blockquote>
<p>Listener &amp; Routing</p>
</blockquote>
<ul>
<li>Listener â†’ HTTP : 80</li>
<li>Default action â†’ Forward to:</li>
</ul>
<pre><code>tg-ec2-hands-on
</code></pre>
<p>Click <strong>Create load balancer</strong></p>
<hr>
<h3 id="-step-4-wait-for-alb-to-become-active"><a class="header" href="#-step-4-wait-for-alb-to-become-active">ğŸ”¹ STEP 4: Wait for ALB to Become Active</a></h3>
<p>Status:</p>
<pre><code>Provisioning â†’ Active
</code></pre>
<p>Copy:</p>
<pre><code>DNS name
</code></pre>
<p>Example:</p>
<pre><code>alb-ec2-hands-on-123.ap-south-1.elb.amazonaws.com
</code></pre>
<hr>
<h3 id="-step-5-test-load-balancer-fun-part-"><a class="header" href="#-step-5-test-load-balancer-fun-part-">ğŸ”¹ STEP 5: Test Load Balancer (FUN PART ğŸ‰)</a></h3>
<p>Open browser:</p>
<pre><code>http://ALB_DNS_NAME
</code></pre>
<p>Refresh multiple times ğŸ”„</p>
<p>You should see:</p>
<ul>
<li>Sometimes: <strong>Hello from AZ-1</strong></li>
<li>Sometimes: <strong>Hello from AZ-2</strong></li>
</ul>
<p>âœ… Traffic is distributed</p>
<hr>
<h3 id="-step-6-health-check-verification"><a class="header" href="#-step-6-health-check-verification">ğŸ”¹ STEP 6: Health Check Verification</a></h3>
<ol>
<li>EC2 â†’ Target Groups</li>
<li>Select <code>tg-ec2-hands-on</code></li>
<li>Check <strong>Targets</strong></li>
</ol>
<p>Both instances should be:</p>
<pre><code>Healthy
</code></pre>
<hr>
<h3 id="-step-7-failure-test-very-important"><a class="header" href="#-step-7-failure-test-very-important">ğŸ”¹ STEP 7: FAILURE TEST (VERY IMPORTANT)</a></h3>
<blockquote>
<p>Stop ONE EC2 instance:</p>
</blockquote>
<ul>
<li>Stop <code>ec2-hands-on-az2</code></li>
</ul>
<p>Now refresh ALB URL again ğŸ‘‡</p>
<p>ğŸŸ¢ Website STILL works
ğŸ“Œ Traffic goes only to healthy EC2</p>
<p>ğŸ‘‰ <strong>THIS IS HIGH AVAILABILITY</strong></p>
<hr>
<h3 id="-interview-ready-answer-10"><a class="header" href="#-interview-ready-answer-10">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>An Application Load Balancer operates at Layer 7 and distributes HTTP/HTTPS traffic across multiple targets in different Availability Zones. It uses health checks to route traffic only to healthy instances, ensuring high availability.</p>
</blockquote>
<hr>
<h3 id="-very-important-interview-points-3"><a class="header" href="#-very-important-interview-points-3">ğŸ§  VERY IMPORTANT INTERVIEW POINTS</a></h3>
<p>âœ” ALB is <strong>regional</strong>
âœ” ALB is <strong>Multi-AZ by default</strong>
âœ” ALB uses <strong>Target Groups</strong>
âœ” ALB performs <strong>health checks</strong>
âœ” ALB does NOT host applications</p>
<hr>
<h3 id="-common-mistakes-5"><a class="header" href="#-common-mistakes-5">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Not opening HTTP in EC2 SG
âŒ Not opening HTTP in ALB SG
âŒ Registering wrong instances
âŒ Using only one AZ</p>
<hr>
<h3 id="-lab-17-task-checklist"><a class="header" href="#-lab-17-task-checklist">âœ… LAB 17 TASK CHECKLIST</a></h3>
<p>âœ” Created Target Group
âœ” Registered EC2s
âœ” Created ALB
âœ” Verified traffic distribution
âœ” Tested failure scenario</p>
<hr>
<h2 id="-ec2-hands-on--lab-18"><a class="header" href="#-ec2-hands-on--lab-18">ğŸ§ª EC2 HANDS-ON â€“ LAB 18</a></h2>
<h3 id="-target-groups--health-checks-deep-dive--failure-control"><a class="header" href="#-target-groups--health-checks-deep-dive--failure-control">ğŸ‘‰ Target Groups &amp; Health Checks (Deep Dive + Failure Control)</a></h3>
<p><img src="https://d2908q01vomqb2.cloudfront.net/5b384ce32d8cdef02bc3a139d4cac0a22bb029e8/2018/06/21/pic1-1.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-18"><a class="header" href="#-objective-of-lab-18">ğŸ¯ Objective of LAB 18</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Fully understand <strong>Target Groups</strong></li>
<li>Customize <strong>Health Checks</strong></li>
<li>See how instances become <strong>Healthy / Unhealthy</strong></li>
<li>Control traffic <strong>without stopping EC2</strong></li>
<li>Be <strong>interview + production ready</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-a-target-group-simple-words"><a class="header" href="#-first-what-is-a-target-group-simple-words">ğŸ§  FIRST: What is a Target Group? (Simple Words)</a></h3>
<p>A <strong>Target Group</strong>:</p>
<ul>
<li>
<p>Is a <strong>logical group of backend resources</strong></p>
</li>
<li>
<p>ALB sends traffic <strong>only to healthy targets</strong></p>
</li>
<li>
<p>Can contain:</p>
<ul>
<li>EC2 instances</li>
<li>IP addresses</li>
<li>Lambda (not now)</li>
</ul>
</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>Target Group = Team of workers ğŸ‘·
ALB = Manager who sends work only to active workers</p>
</blockquote>
<hr>
<h3 id="-very-important-concept"><a class="header" href="#-very-important-concept">ğŸ§  VERY IMPORTANT CONCEPT</a></h3>
<p>ALB <strong>never sends traffic directly to EC2</strong>
It sends traffic via <strong>Target Groups</strong></p>
<p>ğŸ“Œ This gives:</p>
<ul>
<li>Flexibility</li>
<li>Health control</li>
<li>Scaling support</li>
</ul>
<hr>
<h3 id="-step-1-open-target-group-settings"><a class="header" href="#-step-1-open-target-group-settings">ğŸ”¹ STEP 1: Open Target Group Settings</a></h3>
<ol>
<li>EC2 Console â†’ <strong>Target Groups</strong></li>
<li>Select:</li>
</ol>
<pre><code>tg-ec2-hands-on
</code></pre>
<ol start="3">
<li>Go to <strong>Health checks</strong> tab</li>
<li>Click <strong>Edit</strong></li>
</ol>
<hr>
<h3 id="-step-2-understand-health-check-settings"><a class="header" href="#-step-2-understand-health-check-settings">ğŸ”¹ STEP 2: Understand Health Check Settings</a></h3>
<p>Default values (important):</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Setting</th><th>Meaning</th></tr>
</thead>
<tbody>
<tr><td>Protocol</td><td>HTTP</td></tr>
<tr><td>Path</td><td><code>/</code></td></tr>
<tr><td>Port</td><td>traffic port (80)</td></tr>
<tr><td>Healthy threshold</td><td>5</td></tr>
<tr><td>Unhealthy threshold</td><td>2</td></tr>
<tr><td>Timeout</td><td>5 sec</td></tr>
<tr><td>Interval</td><td>30 sec</td></tr>
</tbody>
</table>
</div>
<p>ğŸ“Œ ALB checks:</p>
<pre><code>http://EC2-IP:80/
</code></pre>
<p>If it fails â†’ instance marked <strong>Unhealthy</strong></p>
<hr>
<h3 id="-step-3-create-a-custom-health-check-page-hands-on"><a class="header" href="#-step-3-create-a-custom-health-check-page-hands-on">ğŸ”¹ STEP 3: CREATE A CUSTOM HEALTH CHECK PAGE (Hands-On)</a></h3>
<p>SSH into <strong>EC2 in AZ-A</strong>:</p>
<pre><code class="language-bash">ssh -i ec2-key-hands-on.pem ec2-user@EC2_A_IP
</code></pre>
<p>Create health page:</p>
<pre><code class="language-bash">echo "OK" | sudo tee /var/www/html/health
</code></pre>
<p>Repeat same on <strong>EC2 in AZ-B</strong>.</p>
<hr>
<h3 id="-step-4-update-target-group-health-check-path"><a class="header" href="#-step-4-update-target-group-health-check-path">ğŸ”¹ STEP 4: Update Target Group Health Check Path</a></h3>
<p>Back to <strong>Target Group â†’ Health checks â†’ Edit</strong></p>
<p>Change:</p>
<pre><code>Path: /health
</code></pre>
<p>Save changes</p>
<p>â³ Wait ~1 minute</p>
<hr>
<h3 id="-step-5-verify-health-status"><a class="header" href="#-step-5-verify-health-status">ğŸ”¹ STEP 5: Verify Health Status</a></h3>
<p>Go to:
<strong>Target Groups â†’ Targets</strong></p>
<p>You should see:</p>
<pre><code>Healthy
</code></pre>
<p>ğŸ“Œ Health is now checked via <code>/health</code></p>
<hr>
<h3 id="-step-6-break-one-instance-no-stop"><a class="header" href="#-step-6-break-one-instance-no-stop">ğŸ”¹ STEP 6: BREAK ONE INSTANCE (NO STOP)</a></h3>
<p>SSH into <strong>EC2-A</strong>:</p>
<pre><code class="language-bash">sudo rm /var/www/html/health
</code></pre>
<hr>
<h3 id="-step-7-observe-alb-behavior-critical"><a class="header" href="#-step-7-observe-alb-behavior-critical">ğŸ”¹ STEP 7: Observe ALB Behavior (CRITICAL)</a></h3>
<p>Wait ~1 minute</p>
<p>Now check:
<strong>Target Groups â†’ Targets</strong></p>
<p>EC2-A status:</p>
<pre><code>Unhealthy
</code></pre>
<p>EC2-B:</p>
<pre><code>Healthy
</code></pre>
<hr>
<h3 id="-step-8-test-in-browser"><a class="header" href="#-step-8-test-in-browser">ğŸ”¹ STEP 8: Test in Browser</a></h3>
<p>Open:</p>
<pre><code>http://ALB_DNS_NAME
</code></pre>
<p>ğŸŸ¢ Website STILL works
ğŸ“Œ Traffic goes <strong>only to healthy EC2</strong></p>
<p>ğŸ‘‰ This is <strong>zero-downtime protection</strong></p>
<hr>
<h3 id="-step-9-fix-the-instance"><a class="header" href="#-step-9-fix-the-instance">ğŸ”¹ STEP 9: FIX THE INSTANCE</a></h3>
<p>On EC2-A:</p>
<pre><code class="language-bash">echo "OK" | sudo tee /var/www/html/health
</code></pre>
<p>Wait ~1 minute</p>
<p>Status becomes:</p>
<pre><code>Healthy
</code></pre>
<p>Traffic resumes automatically</p>
<hr>
<h3 id="-very-important-interview-points-4"><a class="header" href="#-very-important-interview-points-4">ğŸ§  VERY IMPORTANT INTERVIEW POINTS</a></h3>
<p>âœ” Health checks prevent bad traffic
âœ” EC2 can be running but <strong>unhealthy</strong>
âœ” ALB removes unhealthy targets automatically
âœ” No manual intervention needed</p>
<hr>
<h3 id="-interview-ready-answer-11"><a class="header" href="#-interview-ready-answer-11">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>Target Groups define the backend resources for a load balancer, and health checks continuously monitor the availability of each target. The load balancer routes traffic only to healthy targets, ensuring fault tolerance and zero downtime.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-6"><a class="header" href="#-common-mistakes-6">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Wrong health check path
âŒ App returns 404 / 500
âŒ Health check port blocked in SG
âŒ Assuming â€œrunningâ€ means â€œhealthyâ€</p>
<hr>
<h3 id="-lab-18-task-checklist"><a class="header" href="#-lab-18-task-checklist">âœ… LAB 18 TASK CHECKLIST</a></h3>
<p>âœ” Understood Target Groups
âœ” Created custom health endpoint
âœ” Modified health check path
âœ” Forced unhealthy state
âœ” Observed ALB traffic control</p>
<hr>
<h2 id="-ec2-hands-on--lab-19"><a class="header" href="#-ec2-hands-on--lab-19">ğŸ§ª EC2 HANDS-ON â€“ LAB 19</a></h2>
<h3 id="-auto-scaling-group-asg--automatically-scale-ec2"><a class="header" href="#-auto-scaling-group-asg--automatically-scale-ec2">ğŸ‘‰ Auto Scaling Group (ASG) â€“ Automatically Scale EC2</a></h3>
<p><img src="https://docs.aws.amazon.com/images/autoscaling/ec2/userguide/images/elb-tutorial-architecture-diagram.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-19"><a class="header" href="#-objective-of-lab-19">ğŸ¯ Objective of LAB 19</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>what Auto Scaling is</strong></li>
<li>Create an <strong>Auto Scaling Group</strong></li>
<li>Automatically <strong>add/remove EC2 instances</strong></li>
<li>Attach ASG to <strong>Application Load Balancer</strong></li>
<li>Be <strong>100% interview + real-world ready</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-auto-scaling-very-simple"><a class="header" href="#-first-what-is-auto-scaling-very-simple">ğŸ§  FIRST: What is Auto Scaling? (Very Simple)</a></h3>
<p><strong>Auto Scaling</strong>:</p>
<ul>
<li>
<p>Automatically <strong>launches EC2 instances</strong></p>
</li>
<li>
<p>Automatically <strong>terminates EC2 instances</strong></p>
</li>
<li>
<p>Based on:</p>
<ul>
<li>Load (CPU)</li>
<li>Health</li>
<li>Capacity rules</li>
</ul>
</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>Auto Scaling = Smart system that hires &amp; fires workers automatically ğŸ¤–</p>
</blockquote>
<hr>
<h3 id="-why-auto-scaling-is-important"><a class="header" href="#-why-auto-scaling-is-important">ğŸ§  WHY Auto Scaling is IMPORTANT?</a></h3>
<p>Without Auto Scaling:</p>
<ul>
<li>High traffic â†’ app crashes âŒ</li>
<li>Low traffic â†’ money wasted âŒ</li>
</ul>
<p>With Auto Scaling:</p>
<ul>
<li>High traffic â†’ more EC2s âœ…</li>
<li>Low traffic â†’ fewer EC2s âœ…</li>
</ul>
<p>ğŸ‘‰ <strong>Performance + Cost optimization</strong></p>
<hr>
<h3 id="-architecture-we-are-building"><a class="header" href="#-architecture-we-are-building">ğŸ§  ARCHITECTURE WE ARE BUILDING</a></h3>
<pre><code>Users
 â†“
Application Load Balancer
 â†“
Auto Scaling Group
 â†“        â†“        â†“
EC2 (AZ-A) EC2 (AZ-B) EC2 (AZ-C)
</code></pre>
<hr>
<h3 id="-step-1-create-launch-template-most-important"><a class="header" href="#-step-1-create-launch-template-most-important">ğŸ”¹ STEP 1: Create Launch Template (MOST IMPORTANT)</a></h3>
<p>Auto Scaling uses a <strong>Launch Template</strong> to create EC2s.</p>
<blockquote>
<p>Go to:</p>
</blockquote>
<p>EC2 â†’ <strong>Launch Templates</strong> â†’ Create launch template</p>
<hr>
<blockquote>
<p>Configure Launch Template</p>
</blockquote>
<p><strong>Launch template name</strong></p>
<pre><code>lt-ec2-hands-on
</code></pre>
<p><strong>AMI</strong></p>
<ul>
<li>Select your <strong>custom AMI</strong>:</li>
</ul>
<pre><code>ec2-golden-ami-v1
</code></pre>
<p>ğŸ“Œ This ensures:</p>
<ul>
<li>Apache already installed</li>
<li>Website ready instantly</li>
</ul>
<hr>
<p><strong>Instance type</strong></p>
<pre><code>t2.micro
</code></pre>
<hr>
<p><strong>Key pair</strong></p>
<pre><code>ec2-key-hands-on
</code></pre>
<hr>
<p><strong>Network settings</strong></p>
<ul>
<li>
<p>Do NOT select subnet here</p>
</li>
<li>
<p>Security group:</p>
<ul>
<li>SSH (22) â†’ My IP</li>
<li>HTTP (80) â†’ ALB SG (recommended)</li>
</ul>
</li>
</ul>
<p>ğŸ“Œ EC2 should accept traffic <strong>only from ALB</strong></p>
<hr>
<p><strong>Advanced details</strong></p>
<ul>
<li>Leave empty (no user data now)</li>
</ul>
<p>Click <strong>Create launch template</strong></p>
<hr>
<h3 id="-step-2-create-auto-scaling-group"><a class="header" href="#-step-2-create-auto-scaling-group">ğŸ”¹ STEP 2: Create Auto Scaling Group</a></h3>
<ol>
<li>Go to <strong>Auto Scaling Groups</strong></li>
<li>Click <strong>Create Auto Scaling group</strong></li>
</ol>
<hr>
<blockquote>
<p>Basic Settings</p>
</blockquote>
<ul>
<li>Name:</li>
</ul>
<pre><code>asg-ec2-hands-on
</code></pre>
<ul>
<li>Launch template:</li>
</ul>
<pre><code>lt-ec2-hands-on
</code></pre>
<p>Click <strong>Next</strong></p>
<hr>
<blockquote>
<p>Network Settings (VERY IMPORTANT)</p>
</blockquote>
<ul>
<li>
<p>VPC â†’ your VPC</p>
</li>
<li>
<p>Subnets â†’ select <strong>at least 2 AZs</strong></p>
<ul>
<li>ap-south-1a</li>
<li>ap-south-1b</li>
</ul>
</li>
</ul>
<p>ğŸ“Œ This makes ASG <strong>Multi-AZ</strong></p>
<hr>
<blockquote>
<p>Attach Load Balancer</p>
</blockquote>
<ul>
<li>Select:</li>
</ul>
<pre><code>Attach to an existing load balancer
</code></pre>
<ul>
<li>Choose:</li>
</ul>
<pre><code>Application Load Balancer
</code></pre>
<ul>
<li>Select target group:</li>
</ul>
<pre><code>tg-ec2-hands-on
</code></pre>
<p>Click <strong>Next</strong></p>
<hr>
<h3 id="-step-3-configure-group-size"><a class="header" href="#-step-3-configure-group-size">ğŸ”¹ STEP 3: Configure Group Size</a></h3>
<p>Set:</p>
<ul>
<li>Desired capacity â†’ <strong>2</strong></li>
<li>Minimum capacity â†’ <strong>1</strong></li>
<li>Maximum capacity â†’ <strong>3</strong></li>
</ul>
<p>ğŸ“Œ Meaning:</p>
<ul>
<li>At least 1 EC2 always running</li>
<li>Normally 2 EC2s</li>
<li>Max 3 during traffic spike</li>
</ul>
<hr>
<h3 id="-step-4-configure-scaling-policy"><a class="header" href="#-step-4-configure-scaling-policy">ğŸ”¹ STEP 4: Configure Scaling Policy</a></h3>
<p>Choose:</p>
<pre><code>Target tracking scaling policy
</code></pre>
<p>Metric:</p>
<pre><code>Average CPU utilization
</code></pre>
<p>Target value:</p>
<pre><code>50%
</code></pre>
<p>ğŸ“Œ If CPU &gt; 50% â†’ scale OUT
ğŸ“Œ If CPU &lt; 50% â†’ scale IN</p>
<p>Click <strong>Next â†’ Create Auto Scaling group</strong></p>
<hr>
<h3 id="-step-5-verify-asg-creation"><a class="header" href="#-step-5-verify-asg-creation">ğŸ”¹ STEP 5: VERIFY ASG CREATION</a></h3>
<p>Go to:
Auto Scaling Groups â†’ <code>asg-ec2-hands-on</code></p>
<p>You should see:</p>
<ul>
<li>2 EC2 instances <strong>launching automatically</strong></li>
</ul>
<p>ğŸ“Œ You did NOT manually create them!</p>
<hr>
<h3 id="-step-6-verify-alb-integration"><a class="header" href="#-step-6-verify-alb-integration">ğŸ”¹ STEP 6: VERIFY ALB INTEGRATION</a></h3>
<ol>
<li>
<p>Go to <strong>Target Groups</strong></p>
</li>
<li>
<p>Open <code>tg-ec2-hands-on</code></p>
</li>
<li>
<p>Targets â†’ Youâ€™ll see:</p>
<ul>
<li>ASG-created EC2s</li>
<li>Status = <strong>Healthy</strong></li>
</ul>
</li>
</ol>
<hr>
<h3 id="-step-7-test-auto-scaling-conceptual--optional"><a class="header" href="#-step-7-test-auto-scaling-conceptual--optional">ğŸ”¹ STEP 7: TEST AUTO SCALING (CONCEPTUAL + OPTIONAL)</a></h3>
<p>To simulate load:</p>
<pre><code class="language-bash">sudo yum install stress -y
stress --cpu 2
</code></pre>
<p>ğŸ“Œ CPU goes high â†’ ASG launches new EC2</p>
<p>(We can skip actual stress to save free tier)</p>
<hr>
<h3 id="-very-important-interview-points-5"><a class="header" href="#-very-important-interview-points-5">ğŸ§  VERY IMPORTANT INTERVIEW POINTS</a></h3>
<p>âœ” ASG uses <strong>Launch Template</strong>
âœ” ASG is <strong>Multi-AZ</strong>
âœ” ASG replaces unhealthy EC2s
âœ” ASG works with <strong>ALB</strong>
âœ” ASG = High Availability + Scalability</p>
<hr>
<h3 id="-interview-ready-answer-12"><a class="header" href="#-interview-ready-answer-12">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>An Auto Scaling Group automatically adjusts the number of EC2 instances based on demand and health checks. It ensures high availability, fault tolerance, and cost efficiency by scaling out during high load and scaling in during low usage.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-7"><a class="header" href="#-common-mistakes-7">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Using default AMI instead of Golden AMI
âŒ Single AZ ASG
âŒ Wrong security group (ALB traffic blocked)
âŒ No scaling policy</p>
<hr>
<h3 id="-lab-19-task-checklist"><a class="header" href="#-lab-19-task-checklist">âœ… LAB 19 TASK CHECKLIST</a></h3>
<p>âœ” Created Launch Template
âœ” Created Auto Scaling Group
âœ” Multi-AZ configuration
âœ” Integrated with ALB
âœ” Understood scaling logic</p>
<hr>
<h2 id="-ec2-hands-on--lab-20"><a class="header" href="#-ec2-hands-on--lab-20">ğŸ§ª EC2 HANDS-ON â€“ LAB 20</a></h2>
<h3 id="-high-availability-ec2-architecture-end-to-end-design"><a class="header" href="#-high-availability-ec2-architecture-end-to-end-design">ğŸ‘‰ High Availability EC2 Architecture (End-to-End Design)</a></h3>
<p><img src="https://miro.medium.com/v2/resize%3Afit%3A1400/1%2ACsx-1GwZ1zm0nFAYks1vZQ.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-20"><a class="header" href="#-objective-of-lab-20">ğŸ¯ Objective of LAB 20</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>complete HA EC2 architecture</strong></li>
<li>Know <strong>how each component works together</strong></li>
<li>Be able to <strong>design &amp; explain production systems</strong></li>
<li>Be <strong>interview + real-world ready</strong></li>
</ul>
<hr>
<h3 id="-complete-architecture-what-you-built"><a class="header" href="#-complete-architecture-what-you-built">ğŸ§  COMPLETE ARCHITECTURE (WHAT YOU BUILT)</a></h3>
<pre><code>Users
 â†“
Route 53 (DNS)
 â†“
Application Load Balancer (Multi-AZ)
 â†“
Auto Scaling Group
 â†“        â†“        â†“
EC2 (AZ-A) EC2 (AZ-B) EC2 (AZ-C)
 â†“
EBS (Persistent Storage)
</code></pre>
<hr>
<h3 id="-component-by-component-breakdown"><a class="header" href="#-component-by-component-breakdown">ğŸ§  COMPONENT-BY-COMPONENT BREAKDOWN</a></h3>
<hr>
<blockquote>
<p>ğŸ”¹ DNS â€“ <strong>Amazon Route 53</strong></p>
</blockquote>
<ul>
<li>Maps domain â†’ ALB</li>
<li>Health checks (optional)</li>
<li>Highly available globally</li>
</ul>
<hr>
<blockquote>
<p>ğŸ”¹ Application Load Balancer</p>
</blockquote>
<ul>
<li>Internet-facing</li>
<li>Distributes traffic</li>
<li>Health checks targets</li>
<li>Multi-AZ by default</li>
</ul>
<hr>
<blockquote>
<p>ğŸ”¹ Auto Scaling Group</p>
</blockquote>
<ul>
<li>Maintains desired EC2 count</li>
<li>Scales in/out automatically</li>
<li>Replaces unhealthy EC2s</li>
<li>Uses <strong>Launch Template + Golden AMI</strong></li>
</ul>
<hr>
<blockquote>
<p>ğŸ”¹ EC2 Instances</p>
</blockquote>
<ul>
<li>Stateless compute layer</li>
<li>No data stored locally</li>
<li>Created automatically</li>
</ul>
<hr>
<blockquote>
<p>ğŸ”¹ EBS</p>
</blockquote>
<ul>
<li>Persistent storage</li>
<li>Independent of EC2 lifecycle</li>
<li>Used for logs / app data</li>
</ul>
<hr>
<h3 id="-failure-scenarios-critical-thinking"><a class="header" href="#-failure-scenarios-critical-thinking">ğŸ”¹ FAILURE SCENARIOS (CRITICAL THINKING)</a></h3>
<blockquote>
<p>Scenario 1: EC2 Failure âŒ</p>
</blockquote>
<ul>
<li>ASG launches new EC2 automatically</li>
<li>ALB routes traffic to healthy targets</li>
</ul>
<hr>
<blockquote>
<p>Scenario 2: AZ Failure âŒ</p>
</blockquote>
<ul>
<li>ALB routes traffic to other AZs</li>
<li>ASG launches instances in healthy AZs</li>
</ul>
<hr>
<blockquote>
<p>Scenario 3: Traffic Spike ğŸš€</p>
</blockquote>
<ul>
<li>CPU increases</li>
<li>ASG scales out automatically</li>
<li>Performance maintained</li>
</ul>
<hr>
<blockquote>
<p>Scenario 4: Traffic Drop ğŸ“‰</p>
</blockquote>
<ul>
<li>ASG scales in</li>
<li>Cost optimized</li>
</ul>
<hr>
<h3 id="-why-this-architecture-is-production-ready"><a class="header" href="#-why-this-architecture-is-production-ready">ğŸ§  WHY THIS ARCHITECTURE IS PRODUCTION-READY</a></h3>
<p>âœ” No single point of failure
âœ” Horizontally scalable
âœ” Cost efficient
âœ” Secure &amp; resilient
âœ” Fully automated</p>
<hr>
<h3 id="-interview-design-answer-gold"><a class="header" href="#-interview-design-answer-gold">ğŸ§  INTERVIEW DESIGN ANSWER (GOLD)</a></h3>
<blockquote>
<p>I would design a highly available EC2 architecture using Route 53 for DNS, an internet-facing Application Load Balancer, Auto Scaling Groups across multiple Availability Zones, and EC2 instances launched from a Golden AMI. This ensures fault tolerance, scalability, and zero downtime.</p>
</blockquote>
<hr>
<h3 id="-common-interview-follow-up-questions"><a class="header" href="#-common-interview-follow-up-questions">ğŸ§  COMMON INTERVIEW FOLLOW-UP QUESTIONS</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Question</th><th>Answer</th></tr>
</thead>
<tbody>
<tr><td>Single EC2 down?</td><td>ASG replaces</td></tr>
<tr><td>AZ down?</td><td>ALB routes elsewhere</td></tr>
<tr><td>Scale during traffic?</td><td>ASG</td></tr>
<tr><td>Static IP needed?</td><td>ALB DNS / Route 53</td></tr>
<tr><td>Data persistence?</td><td>EBS / RDS</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-phase-completed-"><a class="header" href="#-phase-completed-">ğŸ PHASE COMPLETED ğŸ‰</a></h3>
<p>You have completed:
âœ… Core EC2
âœ… Storage
âœ… Networking
âœ… Load Balancing
âœ… Auto Scaling
âœ… High Availability</p>
<hr>
<h2 id="-ec2-hands-on--lab-21"><a class="header" href="#-ec2-hands-on--lab-21">ğŸ§ª EC2 HANDS-ON â€“ LAB 21</a></h2>
<h3 id="-amazon-cloudwatch-monitoring-metrics--alarms"><a class="header" href="#-amazon-cloudwatch-monitoring-metrics--alarms">ğŸ‘‰ Amazon CloudWatch (Monitoring, Metrics &amp; Alarms)</a></h3>
<p><img src="https://docs.aws.amazon.com/images/parallelcluster/latest/ug/images/CW-dashboard.png" alt="Image"></p>
<p><img src="https://miro.medium.com/1%2AdTCuUnivju6cz86Vq8zZTA.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-21"><a class="header" href="#-objective-of-lab-21">ğŸ¯ Objective of LAB 21</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>what CloudWatch is</strong></li>
<li>Monitor <strong>EC2 metrics (CPU, Network, Disk)</strong></li>
<li>Create a <strong>CloudWatch Alarm</strong></li>
<li>Trigger an alarm practically</li>
<li>Be <strong>interview + production ready</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-cloudwatch-very-simple"><a class="header" href="#-first-what-is-cloudwatch-very-simple">ğŸ§  FIRST: What is CloudWatch? (Very Simple)</a></h3>
<p><strong>CloudWatch</strong> is:</p>
<ul>
<li>AWS <strong>monitoring service</strong></li>
<li>Collects <strong>metrics, logs, events</strong></li>
<li>Helps you <strong>see &amp; react</strong> to problems</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>CloudWatch = CCTV + Health monitor for AWS resources ğŸ“Š</p>
</blockquote>
<hr>
<h3 id="-what-cloudwatch-does-for-ec2"><a class="header" href="#-what-cloudwatch-does-for-ec2">ğŸ§  What CloudWatch Does for EC2</a></h3>
<p>CloudWatch can:
âœ” Monitor CPU usage
âœ” Monitor network traffic
âœ” Trigger alarms
âœ” Help Auto Scaling
âœ” Reduce downtime</p>
<hr>
<h3 id="-step-1-open-cloudwatch"><a class="header" href="#-step-1-open-cloudwatch">ğŸ”¹ STEP 1: Open CloudWatch</a></h3>
<ol>
<li>AWS Console</li>
<li>Search <strong>CloudWatch</strong></li>
<li>Open <strong>CloudWatch Dashboard</strong></li>
</ol>
<hr>
<h3 id="-step-2-view-ec2-metrics"><a class="header" href="#-step-2-view-ec2-metrics">ğŸ”¹ STEP 2: View EC2 Metrics</a></h3>
<ol>
<li>Left menu â†’ <strong>Metrics</strong></li>
<li>Click <strong>EC2</strong></li>
<li>Click <strong>Per-Instance Metrics</strong></li>
<li>Select one EC2 from ASG or <code>ec2-hands-on-1</code></li>
</ol>
<p>Youâ€™ll see metrics like:</p>
<ul>
<li>CPUUtilization</li>
<li>NetworkIn</li>
<li>NetworkOut</li>
<li>DiskReadOps</li>
</ul>
<p>ğŸ“Œ These are <strong>real-time performance data</strong></p>
<hr>
<h3 id="-step-3-view-cpu-utilization-graph"><a class="header" href="#-step-3-view-cpu-utilization-graph">ğŸ”¹ STEP 3: View CPU Utilization Graph</a></h3>
<ol>
<li>Select <strong>CPUUtilization</strong></li>
<li>Click <strong>Graphed metrics</strong></li>
</ol>
<p>Youâ€™ll see:</p>
<ul>
<li>Time on X-axis</li>
<li>CPU % on Y-axis</li>
</ul>
<p>ğŸ“Œ This is what ASG uses for scaling</p>
<hr>
<h3 id="-step-4-create-a-cloudwatch-alarm-important"><a class="header" href="#-step-4-create-a-cloudwatch-alarm-important">ğŸ”¹ STEP 4: Create a CloudWatch Alarm (IMPORTANT)</a></h3>
<p>Now we create an <strong>alarm on CPU usage</strong>.</p>
<ol>
<li>Select <strong>CPUUtilization</strong></li>
<li>Click <strong>Create alarm</strong></li>
</ol>
<hr>
<blockquote>
<p>Alarm Configuration</p>
</blockquote>
<p><strong>Metric</strong></p>
<ul>
<li>CPUUtilization</li>
</ul>
<p><strong>Condition</strong></p>
<ul>
<li>Threshold type â†’ Static</li>
<li>Whenever CPUUtilization <strong>Greater than</strong></li>
</ul>
<pre><code>70%
</code></pre>
<hr>
<blockquote>
<p>Notification</p>
</blockquote>
<ul>
<li>Alarm state trigger â†’ In alarm</li>
</ul>
<p>ğŸ“Œ For now:</p>
<ul>
<li>Choose <strong>Create new SNS topic</strong></li>
<li>Email â†’ your email</li>
<li>Confirm subscription from email (IMPORTANT)</li>
</ul>
<hr>
<blockquote>
<p>Alarm Name</p>
</blockquote>
<pre><code>ec2-high-cpu-alarm
</code></pre>
<p>Click <strong>Create alarm</strong></p>
<hr>
<h3 id="-step-5-verify-alarm-status"><a class="header" href="#-step-5-verify-alarm-status">ğŸ”¹ STEP 5: Verify Alarm Status</a></h3>
<p>Go to:
CloudWatch â†’ <strong>Alarms</strong></p>
<p>Status initially:</p>
<pre><code>OK
</code></pre>
<p>ğŸ“Œ Alarm watches EC2 continuously</p>
<hr>
<h3 id="-step-6-trigger-alarm-hands-on"><a class="header" href="#-step-6-trigger-alarm-hands-on">ğŸ”¹ STEP 6: Trigger Alarm (Hands-On)</a></h3>
<p>SSH into EC2:</p>
<pre><code class="language-bash">ssh -i ec2-key-hands-on.pem ec2-user@EC2_PUBLIC_IP
</code></pre>
<p>Install stress tool:</p>
<pre><code class="language-bash">sudo yum install stress -y
</code></pre>
<p>Run stress:</p>
<pre><code class="language-bash">stress --cpu 2
</code></pre>
<p>ğŸ“Œ This increases CPU usage</p>
<hr>
<h3 id="-step-7-observe-alarm-state-change"><a class="header" href="#-step-7-observe-alarm-state-change">ğŸ”¹ STEP 7: Observe Alarm State Change</a></h3>
<p>Wait ~1â€“2 minutes</p>
<p>Alarm status changes:</p>
<pre><code>OK â†’ ALARM
</code></pre>
<p>ğŸ“§ You receive <strong>email alert</strong></p>
<p>ğŸ‰ <strong>Monitoring + alerting works</strong></p>
<hr>
<h3 id="-step-8-stop-stress-test"><a class="header" href="#-step-8-stop-stress-test">ğŸ”¹ STEP 8: Stop Stress Test</a></h3>
<p>Press:</p>
<pre><code>CTRL + C
</code></pre>
<p>After few minutes:</p>
<pre><code>ALARM â†’ OK
</code></pre>
<hr>
<h3 id="-very-important-interview-points-6"><a class="header" href="#-very-important-interview-points-6">ğŸ§  VERY IMPORTANT INTERVIEW POINTS</a></h3>
<p>âœ” CloudWatch metrics are <strong>automatic</strong>
âœ” Alarms trigger <strong>actions or notifications</strong>
âœ” ASG uses CloudWatch metrics
âœ” Default EC2 metrics are every <strong>5 minutes</strong>
âœ” Detailed monitoring = <strong>1 minute</strong></p>
<hr>
<h3 id="-interview-ready-answer-13"><a class="header" href="#-interview-ready-answer-13">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>Amazon CloudWatch is a monitoring service that collects metrics, logs, and events from AWS resources. It enables real-time visibility, alarm-based notifications, and automated actions such as Auto Scaling.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-8"><a class="header" href="#-common-mistakes-8">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Forgetting to confirm SNS email
âŒ Expecting disk usage without agent
âŒ Setting wrong threshold
âŒ Monitoring wrong instance</p>
<hr>
<h3 id="-lab-21-task-checklist"><a class="header" href="#-lab-21-task-checklist">âœ… LAB 21 TASK CHECKLIST</a></h3>
<p>âœ” Viewed EC2 metrics
âœ” Understood CPU graph
âœ” Created CloudWatch alarm
âœ” Triggered alarm practically
âœ” Received notification</p>
<hr>
<h2 id="-ec2-hands-on--lab-22"><a class="header" href="#-ec2-hands-on--lab-22">ğŸ§ª EC2 HANDS-ON â€“ LAB 22</a></h2>
<h3 id="-cloudwatch-alarms--auto-scaling-automatic-scale-out--in"><a class="header" href="#-cloudwatch-alarms--auto-scaling-automatic-scale-out--in">ğŸ‘‰ CloudWatch Alarms + Auto Scaling (Automatic Scale Out &amp; In)</a></h3>
<p><img src="https://miro.medium.com/1%2AL-UzFLgWPrYM9RDczxX0xA.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-22"><a class="header" href="#-objective-of-lab-22">ğŸ¯ Objective of LAB 22</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Connect <strong>CloudWatch â†’ Auto Scaling</strong></li>
<li>Create <strong>scale-out &amp; scale-in alarms</strong></li>
<li>See EC2 instances <strong>launch automatically</strong></li>
<li>Understand <strong>how AWS self-heals</strong></li>
<li>Be <strong>interview + real-world ready</strong></li>
</ul>
<hr>
<h3 id="-first-how-this-works-simple-flow"><a class="header" href="#-first-how-this-works-simple-flow">ğŸ§  FIRST: How This Works (Simple Flow)</a></h3>
<pre><code>High CPU
 â†“
CloudWatch Alarm
 â†“
Auto Scaling Policy
 â†“
New EC2 launched
</code></pre>
<p>And reverse for scale-in.</p>
<p>Think like:</p>
<blockquote>
<p>CloudWatch = Sensor ğŸ“ˆ
Auto Scaling = Action ğŸ¤–</p>
</blockquote>
<hr>
<h3 id="-important-concept"><a class="header" href="#-important-concept">ğŸ§  IMPORTANT CONCEPT</a></h3>
<ul>
<li>CloudWatch <strong>detects</strong></li>
<li>Auto Scaling <strong>reacts</strong></li>
<li>You <strong>do nothing manually</strong></li>
</ul>
<hr>
<h3 id="-step-1-open-your-auto-scaling-group"><a class="header" href="#-step-1-open-your-auto-scaling-group">ğŸ”¹ STEP 1: Open Your Auto Scaling Group</a></h3>
<ol>
<li>EC2 Console â†’ <strong>Auto Scaling Groups</strong></li>
<li>Select:</li>
</ol>
<pre><code>asg-ec2-hands-on
</code></pre>
<ol start="3">
<li>Open <strong>Automatic scaling</strong> tab</li>
</ol>
<p>You will see:</p>
<ul>
<li>Existing <strong>Target tracking policy</strong> (CPU 50%)</li>
</ul>
<p>ğŸ“Œ Target tracking already uses CloudWatch internally
Now weâ€™ll <strong>explicitly see alarm behavior</strong></p>
<hr>
<h3 id="-step-2-view-auto-created-cloudwatch-alarms"><a class="header" href="#-step-2-view-auto-created-cloudwatch-alarms">ğŸ”¹ STEP 2: View Auto-Created CloudWatch Alarms</a></h3>
<ol>
<li>Open <strong>CloudWatch</strong></li>
<li>Go to <strong>Alarms</strong></li>
<li>Youâ€™ll see alarms like:</li>
</ol>
<pre><code>TargetTracking-asg-ec2-hands-on-High-CPU
TargetTracking-asg-ec2-hands-on-Low-CPU
</code></pre>
<p>ğŸ“Œ These were created <strong>automatically by ASG</strong></p>
<hr>
<h3 id="-step-3-understand-these-alarms"><a class="header" href="#-step-3-understand-these-alarms">ğŸ”¹ STEP 3: Understand These Alarms</a></h3>
<blockquote>
<p>High CPU Alarm</p>
</blockquote>
<ul>
<li>Trigger: CPU &gt; 50%</li>
<li>Action: <strong>Scale OUT</strong></li>
<li>Adds EC2 instance</li>
</ul>
<blockquote>
<p>Low CPU Alarm</p>
</blockquote>
<ul>
<li>Trigger: CPU &lt; 50%</li>
<li>Action: <strong>Scale IN</strong></li>
<li>Removes EC2 instance</li>
</ul>
<p>ğŸ‘‰ This is <strong>closed-loop automation</strong></p>
<hr>
<h3 id="-step-4-observe-current-capacity"><a class="header" href="#-step-4-observe-current-capacity">ğŸ”¹ STEP 4: Observe Current Capacity</a></h3>
<p>Go back to ASG â†’ <strong>Details</strong></p>
<p>Check:</p>
<ul>
<li>Desired: 2</li>
<li>Min: 1</li>
<li>Max: 3</li>
</ul>
<p>ğŸ“Œ Currently running EC2 = 2</p>
<hr>
<h3 id="-step-5-trigger-scale-out-hands-on"><a class="header" href="#-step-5-trigger-scale-out-hands-on">ğŸ”¹ STEP 5: Trigger SCALE OUT (Hands-On)</a></h3>
<p>SSH into <strong>one ASG EC2</strong> (any):</p>
<pre><code class="language-bash">ssh -i ec2-key-hands-on.pem ec2-user@ASG_EC2_PUBLIC_IP
</code></pre>
<p>Install stress:</p>
<pre><code class="language-bash">sudo yum install stress -y
</code></pre>
<p>Run:</p>
<pre><code class="language-bash">stress --cpu 2
</code></pre>
<hr>
<h3 id="-step-6-observe-scaling-activity-important"><a class="header" href="#-step-6-observe-scaling-activity-important">ğŸ”¹ STEP 6: Observe Scaling Activity (IMPORTANT)</a></h3>
<ol>
<li>ASG â†’ <strong>Activity</strong></li>
<li>Youâ€™ll see:</li>
</ol>
<pre><code>Launching a new EC2 instance
</code></pre>
<p>Wait 2â€“5 minutes</p>
<p>Now:</p>
<ul>
<li>EC2 count becomes <strong>3</strong></li>
<li>New EC2 automatically registered in <strong>Target Group</strong></li>
<li>ALB sends traffic to it</li>
</ul>
<p>ğŸ‰ <strong>AUTO SCALE OUT SUCCESS</strong></p>
<hr>
<h3 id="-step-7-verify-via-target-group"><a class="header" href="#-step-7-verify-via-target-group">ğŸ”¹ STEP 7: Verify via Target Group</a></h3>
<ol>
<li>EC2 â†’ <strong>Target Groups</strong></li>
<li>Open <code>tg-ec2-hands-on</code></li>
<li>Targets â†’ Youâ€™ll see <strong>3 healthy instances</strong></li>
</ol>
<hr>
<h3 id="-step-8-trigger-scale-in"><a class="header" href="#-step-8-trigger-scale-in">ğŸ”¹ STEP 8: Trigger SCALE IN</a></h3>
<p>Stop stress:</p>
<pre><code class="language-bash">CTRL + C
</code></pre>
<p>Wait few minutes</p>
<p>ASG activity:</p>
<pre><code>Terminating EC2 instance
</code></pre>
<p>Now EC2 count â†’ <strong>2</strong></p>
<p>ğŸ“Œ Scale-in never goes below <strong>minimum capacity</strong></p>
<hr>
<h3 id="-very-important-interview-points-7"><a class="header" href="#-very-important-interview-points-7">ğŸ§  VERY IMPORTANT INTERVIEW POINTS</a></h3>
<p>âœ” Auto Scaling <strong>uses CloudWatch metrics</strong>
âœ” Alarms can trigger <strong>scale out/in</strong>
âœ” Scaling is <strong>automatic &amp; continuous</strong>
âœ” No human action required
âœ” Prevents over-provisioning</p>
<hr>
<h3 id="-interview-ready-answer-14"><a class="header" href="#-interview-ready-answer-14">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>CloudWatch alarms monitor EC2 metrics such as CPU utilization and trigger Auto Scaling policies to automatically scale out or scale in instances, ensuring performance and cost efficiency.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-9"><a class="header" href="#-common-mistakes-9">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Min capacity = 0 (downtime risk)
âŒ Wrong metric selection
âŒ Expecting instant scaling (itâ€™s gradual)
âŒ Forgetting cooldown periods</p>
<hr>
<h3 id="-lab-22-task-checklist"><a class="header" href="#-lab-22-task-checklist">âœ… LAB 22 TASK CHECKLIST</a></h3>
<p>âœ” Viewed ASG-created alarms
âœ” Triggered scale-out
âœ” Observed new EC2 launch
âœ” Verified via Target Group
âœ” Observed scale-in</p>
<hr>
<h2 id="-ec2-hands-on--lab-23"><a class="header" href="#-ec2-hands-on--lab-23">ğŸ§ª EC2 HANDS-ON â€“ LAB 23</a></h2>
<h3 id="-ec2-logs--troubleshooting-cloudwatch-logs--real-failures"><a class="header" href="#-ec2-logs--troubleshooting-cloudwatch-logs--real-failures">ğŸ‘‰ EC2 Logs &amp; Troubleshooting (CloudWatch Logs + Real Failures)</a></h3>
<p><img src="https://d2908q01vomqb2.cloudfront.net/972a67c48192728a34979d9a35164c1295401b71/2019/06/07/SSLogInsights.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-23"><a class="header" href="#-objective-of-lab-23">ğŸ¯ Objective of LAB 23</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>where EC2 logs live</strong></li>
<li>Send <strong>EC2 logs to CloudWatch</strong></li>
<li>Debug <strong>real website failures</strong></li>
<li>Know <strong>production troubleshooting flow</strong></li>
<li>Be <strong>interview + on-call ready</strong></li>
</ul>
<hr>
<h3 id="-first-why-logs-are-critical"><a class="header" href="#-first-why-logs-are-critical">ğŸ§  FIRST: Why Logs Are CRITICAL</a></h3>
<p>Metrics tell you <strong>something is wrong</strong>
Logs tell you <strong>WHY it is wrong</strong></p>
<p>Think like:</p>
<blockquote>
<p>Metrics = Fever ğŸŒ¡ï¸
Logs = Doctor report ğŸ©º</p>
</blockquote>
<hr>
<h3 id="-types-of-logs-you-must-know"><a class="header" href="#-types-of-logs-you-must-know">ğŸ§  TYPES OF LOGS YOU MUST KNOW</a></h3>
<blockquote>
<p>1ï¸âƒ£ System Logs</p>
</blockquote>
<ul>
<li>OS boot issues</li>
<li>Kernel problems</li>
</ul>
<blockquote>
<p>2ï¸âƒ£ Application Logs</p>
</blockquote>
<ul>
<li>Apache / Nginx</li>
<li>App errors</li>
</ul>
<blockquote>
<p>3ï¸âƒ£ Cloud Logs</p>
</blockquote>
<ul>
<li>Centralized in CloudWatch</li>
<li>Used for monitoring &amp; alerting</li>
</ul>
<hr>
<h3 id="-step-1-check-ec2-system-log-console-level"><a class="header" href="#-step-1-check-ec2-system-log-console-level">ğŸ”¹ STEP 1: Check EC2 SYSTEM LOG (Console Level)</a></h3>
<ol>
<li>EC2 â†’ Instances</li>
<li>Select any EC2</li>
<li>Actions â†’ <strong>Monitor and troubleshoot</strong></li>
<li>Click <strong>Get system log</strong></li>
</ol>
<p>ğŸ“Œ Shows:</p>
<ul>
<li>Boot messages</li>
<li>Startup failures</li>
</ul>
<p>âœ… Used when EC2 <strong>wonâ€™t start</strong></p>
<hr>
<h3 id="-step-2-apache-logs-inside-ec2"><a class="header" href="#-step-2-apache-logs-inside-ec2">ğŸ”¹ STEP 2: Apache Logs (INSIDE EC2)</a></h3>
<p>SSH into EC2:</p>
<pre><code class="language-bash">ssh -i ec2-key-hands-on.pem ec2-user@EC2_PUBLIC_IP
</code></pre>
<p>Apache log locations:</p>
<pre><code class="language-bash">/var/log/httpd/access_log
/var/log/httpd/error_log
</code></pre>
<p>View logs:</p>
<pre><code class="language-bash">sudo tail -f /var/log/httpd/access_log
</code></pre>
<p>ğŸ“Œ Shows:</p>
<ul>
<li>Requests coming to server</li>
</ul>
<hr>
<h3 id="-step-3-simulate-an-error-hands-on"><a class="header" href="#-step-3-simulate-an-error-hands-on">ğŸ”¹ STEP 3: Simulate an ERROR (Hands-On)</a></h3>
<p>Break Apache config (safe test):</p>
<pre><code class="language-bash">sudo chmod 000 /var/www/html
</code></pre>
<p>Now open website in browser âŒ
It will fail</p>
<p>Check error log:</p>
<pre><code class="language-bash">sudo tail /var/log/httpd/error_log
</code></pre>
<p>Youâ€™ll see <strong>permission denied errors</strong></p>
<p>ğŸ‘‰ This is <strong>real troubleshooting</strong></p>
<hr>
<h3 id="-step-4-fix-the-issue"><a class="header" href="#-step-4-fix-the-issue">ğŸ”¹ STEP 4: FIX the Issue</a></h3>
<pre><code class="language-bash">sudo chmod 755 /var/www/html
sudo systemctl restart httpd
</code></pre>
<p>Refresh browser â†’ ğŸŸ¢ Works again</p>
<hr>
<h3 id="-lesson"><a class="header" href="#-lesson">ğŸ§  LESSON</a></h3>
<p>âœ” Website down â‰  EC2 down
âœ” Logs tell exact cause
âœ” Restart without checking logs = BAD practice</p>
<hr>
<h3 id="-step-5-send-ec2-logs-to-cloudwatch-important"><a class="header" href="#-step-5-send-ec2-logs-to-cloudwatch-important">ğŸ”¹ STEP 5: Send EC2 Logs to CloudWatch (IMPORTANT)</a></h3>
<p>Now we centralize logs using <strong>CloudWatch Agent</strong>.</p>
<hr>
<blockquote>
<p>Install CloudWatch Agent</p>
</blockquote>
<pre><code class="language-bash">sudo yum install amazon-cloudwatch-agent -y
</code></pre>
<p>ğŸ“Œ This agent sends logs â†’ CloudWatch</p>
<hr>
<blockquote>
<p>Create Agent Config File</p>
</blockquote>
<pre><code class="language-bash">sudo nano /opt/aws/amazon-cloudwatch-agent/bin/config.json
</code></pre>
<p>Paste:</p>
<pre><code class="language-json">{
  "logs": {
    "logs_collected": {
      "files": {
        "collect_list": [
          {
            "file_path": "/var/log/httpd/error_log",
            "log_group_name": "ec2-apache-error-log",
            "log_stream_name": "{instance_id}"
          }
        ]
      }
    }
  }
}
</code></pre>
<p>Save &amp; exit</p>
<hr>
<blockquote>
<p>Start CloudWatch Agent</p>
</blockquote>
<pre><code class="language-bash">sudo /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl \
-a fetch-config \
-m ec2 \
-c file:/opt/aws/amazon-cloudwatch-agent/bin/config.json \
-s
</code></pre>
<p>ğŸ“Œ This command:</p>
<ul>
<li>Reads config</li>
<li>Starts agent</li>
<li>Pushes logs to CloudWatch</li>
</ul>
<hr>
<h3 id="-step-6-view-logs-in-cloudwatch"><a class="header" href="#-step-6-view-logs-in-cloudwatch">ğŸ”¹ STEP 6: View Logs in CloudWatch</a></h3>
<ol>
<li>Open <strong>CloudWatch</strong></li>
<li>Go to <strong>Logs â†’ Log groups</strong></li>
<li>Open:</li>
</ol>
<pre><code>ec2-apache-error-log
</code></pre>
<p>ğŸ‰ Youâ€™ll see Apache logs <strong>without SSH</strong></p>
<hr>
<h3 id="-real-world-benefits"><a class="header" href="#-real-world-benefits">ğŸ§  REAL-WORLD BENEFITS</a></h3>
<p>âœ” Debug without server access
âœ” Centralized logs
âœ” Works with ASG (instances come &amp; go)
âœ” Required for compliance &amp; audits</p>
<hr>
<h3 id="-interview-ready-answer-15"><a class="header" href="#-interview-ready-answer-15">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>EC2 troubleshooting involves analyzing system logs, application logs, and CloudWatch Logs. Centralizing logs in CloudWatch enables faster debugging, monitoring, and troubleshooting across scalable environments.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-10"><a class="header" href="#-common-mistakes-10">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Restarting services blindly
âŒ Not checking error logs
âŒ No centralized logging
âŒ SSH-only debugging</p>
<hr>
<h3 id="-lab-23-task-checklist"><a class="header" href="#-lab-23-task-checklist">âœ… LAB 23 TASK CHECKLIST</a></h3>
<p>âœ” Viewed system logs
âœ” Checked Apache logs
âœ” Simulated real error
âœ” Fixed issue using logs
âœ” Sent logs to CloudWatch</p>
<hr>
<h2 id="-ec2-hands-on--lab-24"><a class="header" href="#-ec2-hands-on--lab-24">ğŸ§ª EC2 HANDS-ON â€“ LAB 24</a></h2>
<h3 id="-iam-roles-for-ec2-secure-aws-access-without-access-keys"><a class="header" href="#-iam-roles-for-ec2-secure-aws-access-without-access-keys">ğŸ‘‰ IAM Roles for EC2 (Secure AWS Access WITHOUT Access Keys)</a></h3>
<p><img src="https://miro.medium.com/v2/resize%3Afit%3A1200/1%2AUqAIVS3OIZOK7guX6iP4dA.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-24"><a class="header" href="#-objective-of-lab-24">ğŸ¯ Objective of LAB 24</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>why access keys are dangerous</strong></li>
<li>Create an <strong>IAM Role</strong></li>
<li>Attach the role to an <strong>EC2 instance</strong></li>
<li>Access AWS services <strong>without access keys</strong></li>
<li>Be <strong>100% interview + production ready</strong></li>
</ul>
<hr>
<h3 id="-first-why-not-use-access-keys-on-ec2"><a class="header" href="#-first-why-not-use-access-keys-on-ec2">ğŸ§  FIRST: Why NOT Use Access Keys on EC2?</a></h3>
<p>If you put <strong>Access Key + Secret Key</strong> inside EC2:
âŒ Keys can be stolen
âŒ Keys can be leaked in GitHub
âŒ Manual rotation required
âŒ Security risk</p>
<p>ğŸ‘‰ <strong>AWS Best Practice</strong>:
âœ” Use <strong>IAM Roles</strong></p>
<hr>
<h3 id="-what-is-an-iam-role"><a class="header" href="#-what-is-an-iam-role">ğŸ§  What is an IAM Role?</a></h3>
<p>An <strong>IAM Role</strong>:</p>
<ul>
<li>Is an <strong>identity</strong> for AWS services</li>
<li>Provides <strong>temporary credentials</strong></li>
<li>Automatically rotated by AWS</li>
<li>Attached directly to EC2</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>IAM Role = Temporary ID card ğŸ«
EC2 uses it automatically</p>
</blockquote>
<hr>
<h3 id="-iam-service-important-to-know"><a class="header" href="#-iam-service-important-to-know">ğŸ”¹ IAM SERVICE (Important to Know)</a></h3>
<p>IAM belongs to
<strong>Amazon Web Services</strong></p>
<p>IAM = <strong>Identity and Access Management</strong></p>
<hr>
<h3 id="-what-we-will-do-in-this-lab"><a class="header" href="#-what-we-will-do-in-this-lab">ğŸ§  WHAT WE WILL DO IN THIS LAB</a></h3>
<p>We will:
1ï¸âƒ£ Create IAM Role
2ï¸âƒ£ Attach <strong>S3 read access</strong>
3ï¸âƒ£ Attach role to EC2
4ï¸âƒ£ Access S3 <strong>without keys</strong></p>
<hr>
<h3 id="-step-1-create-iam-role"><a class="header" href="#-step-1-create-iam-role">ğŸ”¹ STEP 1: Create IAM Role</a></h3>
<ol>
<li>AWS Console â†’ Search <strong>IAM</strong></li>
<li>Click <strong>Roles</strong></li>
<li>Click <strong>Create role</strong></li>
</ol>
<hr>
<blockquote>
<p>Trusted Entity</p>
</blockquote>
<ul>
<li>Select <strong>AWS service</strong></li>
<li>Use case â†’ <strong>EC2</strong></li>
<li>Click <strong>Next</strong></li>
</ul>
<p>ğŸ“Œ This means:
EC2 is allowed to <strong>assume this role</strong></p>
<hr>
<h3 id="-step-2-attach-permission-policy"><a class="header" href="#-step-2-attach-permission-policy">ğŸ”¹ STEP 2: Attach Permission Policy</a></h3>
<p>Search &amp; select:</p>
<pre><code>AmazonS3ReadOnlyAccess
</code></pre>
<p>Click <strong>Next</strong></p>
<p>ğŸ“Œ This policy allows:</p>
<ul>
<li>List buckets</li>
<li>Read objects</li>
<li>NO delete access</li>
</ul>
<hr>
<h3 id="-step-3-name-the-role"><a class="header" href="#-step-3-name-the-role">ğŸ”¹ STEP 3: Name the Role</a></h3>
<p>Role name:</p>
<pre><code>ec2-s3-read-role
</code></pre>
<p>Click <strong>Create role</strong></p>
<p>ğŸ‰ IAM Role created</p>
<hr>
<h3 id="-step-4-attach-iam-role-to-ec2"><a class="header" href="#-step-4-attach-iam-role-to-ec2">ğŸ”¹ STEP 4: Attach IAM Role to EC2</a></h3>
<ol>
<li>EC2 â†’ <strong>Instances</strong></li>
<li>Select:</li>
</ol>
<pre><code>ec2-hands-on-1
</code></pre>
<ol start="3">
<li>Actions â†’ <strong>Security</strong></li>
<li>Click <strong>Modify IAM role</strong></li>
<li>Select:</li>
</ol>
<pre><code>ec2-s3-read-role
</code></pre>
<ol start="6">
<li>Save</li>
</ol>
<p>ğŸ“Œ Role attached <strong>without reboot</strong></p>
<hr>
<h3 id="-step-5-verify-access-no-access-keys"><a class="header" href="#-step-5-verify-access-no-access-keys">ğŸ”¹ STEP 5: VERIFY ACCESS (NO ACCESS KEYS)</a></h3>
<p>SSH into EC2:</p>
<pre><code class="language-bash">ssh -i ec2-key-hands-on.pem ec2-user@ELASTIC_IP
</code></pre>
<p>Run:</p>
<pre><code class="language-bash">aws s3 ls
</code></pre>
<p>ğŸ‰ You should see <strong>S3 buckets list</strong></p>
<p>ğŸ“Œ No access key
ğŸ“Œ No secret key
ğŸ“Œ Fully secure</p>
<hr>
<h3 id="-step-6-prove-there-are-no-keys"><a class="header" href="#-step-6-prove-there-are-no-keys">ğŸ”¹ STEP 6: PROVE THERE ARE NO KEYS</a></h3>
<p>Run:</p>
<pre><code class="language-bash">cat ~/.aws/credentials
</code></pre>
<p>Output:</p>
<pre><code>No such file or directory
</code></pre>
<p>âœ… Proof: IAM Role is working</p>
<hr>
<h3 id="-how-this-works-internally-interview-gold"><a class="header" href="#-how-this-works-internally-interview-gold">ğŸ§  HOW THIS WORKS INTERNALLY (INTERVIEW GOLD)</a></h3>
<ul>
<li>EC2 requests credentials from <strong>Metadata Service</strong></li>
<li>IAM provides <strong>temporary credentials</strong></li>
<li>Credentials auto-expire &amp; rotate</li>
</ul>
<hr>
<h3 id="-interview-ready-answer-16"><a class="header" href="#-interview-ready-answer-16">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>IAM Roles provide secure, temporary credentials to EC2 instances, eliminating the need for hard-coded access keys. AWS automatically rotates these credentials, making IAM Roles the recommended and secure way to grant permissions to EC2.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-11"><a class="header" href="#-common-mistakes-11">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Using access keys on EC2
âŒ Over-permissioned roles
âŒ One role for everything
âŒ Not rotating credentials (keys)</p>
<hr>
<h3 id="-lab-24-task-checklist"><a class="header" href="#-lab-24-task-checklist">âœ… LAB 24 TASK CHECKLIST</a></h3>
<p>âœ” Created IAM Role
âœ” Attached S3 Read policy
âœ” Attached role to EC2
âœ” Accessed S3 without keys
âœ” Understood security flow</p>
<hr>
<h2 id="-ec2-hands-on--lab-25"><a class="header" href="#-ec2-hands-on--lab-25">ğŸ§ª EC2 HANDS-ON â€“ LAB 25</a></h2>
<h3 id="-ec2-session-manager-login-without-ssh--key-pair"><a class="header" href="#-ec2-session-manager-login-without-ssh--key-pair">ğŸ‘‰ EC2 Session Manager (Login WITHOUT SSH &amp; Key Pair)</a></h3>
<p><img src="https://blog.alexrusin.com/wp-content/uploads/2024/08/EC2-Instance-Connect-Cover-4-Cover-scaled.jpg" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-25"><a class="header" href="#-objective-of-lab-25">ğŸ¯ Objective of LAB 25</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>what Session Manager is</strong></li>
<li>Access EC2 <strong>without SSH</strong></li>
<li>Remove dependency on <strong>key pairs</strong></li>
<li>Learn <strong>enterprise-grade secure access</strong></li>
<li>Be <strong>interview + production ready</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-session-manager"><a class="header" href="#-first-what-is-session-manager">ğŸ§  FIRST: What is Session Manager?</a></h3>
<p><strong>Session Manager</strong> is part of
<strong>AWS Systems Manager</strong></p>
<p>It allows you to:
âœ” Connect to EC2 via AWS Console
âœ” No SSH (port 22 not needed)
âœ” No key pair
âœ” Fully logged &amp; auditable</p>
<p>Think like:</p>
<blockquote>
<p>Session Manager = Secure remote terminal via AWS ğŸ”</p>
</blockquote>
<hr>
<h3 id="-why-session-manager-is-better-than-ssh"><a class="header" href="#-why-session-manager-is-better-than-ssh">ğŸ§  WHY Session Manager is BETTER than SSH?</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>SSH</th><th>Session Manager</th></tr>
</thead>
<tbody>
<tr><td>Needs port 22</td><td>âŒ No ports needed</td></tr>
<tr><td>Needs key pair</td><td>âŒ No keys</td></tr>
<tr><td>Hard to audit</td><td>âœ… Fully logged</td></tr>
<tr><td>Security risk</td><td>âœ… Very secure</td></tr>
</tbody>
</table>
</div>
<p>ğŸ‘‰ <strong>AWS RECOMMENDS Session Manager</strong></p>
<hr>
<h3 id="-prerequisites-very-important"><a class="header" href="#-prerequisites-very-important">ğŸ§  PREREQUISITES (VERY IMPORTANT)</a></h3>
<p>To use Session Manager, EC2 must have:</p>
<p>âœ” <strong>SSM Agent installed</strong>
âœ” <strong>IAM Role attached</strong> with SSM permissions
âœ” Internet access (or VPC endpoints)</p>
<p>Good news ğŸ‰
Amazon Linux <strong>already has SSM Agent installed</strong></p>
<hr>
<h3 id="-step-1-attach-ssm-iam-role-to-ec2"><a class="header" href="#-step-1-attach-ssm-iam-role-to-ec2">ğŸ”¹ STEP 1: Attach SSM IAM Role to EC2</a></h3>
<p>Weâ€™ll extend the role you already used.</p>
<blockquote>
<p>Open IAM Role</p>
</blockquote>
<ol>
<li>IAM â†’ Roles</li>
<li>Open:</li>
</ol>
<pre><code>ec2-s3-read-role
</code></pre>
<hr>
<blockquote>
<p>Attach SSM Policy</p>
</blockquote>
<ol>
<li>Click <strong>Add permissions</strong></li>
<li>Attach policy:</li>
</ol>
<pre><code>AmazonSSMManagedInstanceCore
</code></pre>
<ol start="3">
<li>Save</li>
</ol>
<p>ğŸ“Œ This policy allows:</p>
<ul>
<li>Session Manager</li>
<li>Run Command</li>
<li>Patch Manager</li>
</ul>
<hr>
<h3 id="-step-2-verify-role-attached-to-ec2"><a class="header" href="#-step-2-verify-role-attached-to-ec2">ğŸ”¹ STEP 2: Verify Role Attached to EC2</a></h3>
<ol>
<li>EC2 â†’ Instances</li>
<li>Select:</li>
</ol>
<pre><code>ec2-hands-on-1
</code></pre>
<ol start="3">
<li>Security tab â†’ IAM role</li>
</ol>
<p>It should show:</p>
<pre><code>ec2-s3-read-role
</code></pre>
<hr>
<h3 id="-step-3-open-session-manager"><a class="header" href="#-step-3-open-session-manager">ğŸ”¹ STEP 3: Open Session Manager</a></h3>
<ol>
<li>EC2 Console â†’ <strong>Instances</strong></li>
<li>Select your instance</li>
<li>Click <strong>Connect</strong></li>
<li>Choose <strong>Session Manager</strong></li>
<li>Click <strong>Connect</strong></li>
</ol>
<p>ğŸ‰ <strong>YOU ARE LOGGED IN</strong></p>
<p>No:
âŒ SSH
âŒ Key pair
âŒ Port 22</p>
<hr>
<h3 id="-step-4-verify-inside-ec2"><a class="header" href="#-step-4-verify-inside-ec2">ğŸ”¹ STEP 4: Verify Inside EC2</a></h3>
<p>Inside Session Manager terminal, run:</p>
<pre><code class="language-bash">whoami
</code></pre>
<p>Output:</p>
<pre><code>ssm-user
</code></pre>
<p>ğŸ“Œ This user is created dynamically by SSM</p>
<p>Check OS:</p>
<pre><code class="language-bash">uname -a
</code></pre>
<hr>
<h3 id="-step-5-prove-ssh-is-not-needed-concept"><a class="header" href="#-step-5-prove-ssh-is-not-needed-concept">ğŸ”¹ STEP 5: PROVE SSH is NOT Needed (Concept)</a></h3>
<p>You can:</p>
<ul>
<li>Remove SSH rule from Security Group</li>
<li>EC2 still accessible via Session Manager</li>
</ul>
<p>ğŸ“Œ This is <strong>zero-attack-surface access</strong></p>
<p>(Do NOT remove now â€” concept only)</p>
<hr>
<h3 id="-how-session-manager-works-interview-gold"><a class="header" href="#-how-session-manager-works-interview-gold">ğŸ§  HOW SESSION MANAGER WORKS (INTERVIEW GOLD)</a></h3>
<ol>
<li>EC2 runs <strong>SSM Agent</strong></li>
<li>Agent talks to <strong>Systems Manager endpoint</strong></li>
<li>IAM Role authorizes access</li>
<li>AWS Console opens secure tunnel</li>
</ol>
<p>ğŸ‘‰ No inbound traffic needed</p>
<hr>
<h3 id="-interview-ready-answer-17"><a class="header" href="#-interview-ready-answer-17">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>EC2 Session Manager, part of AWS Systems Manager, provides secure shell access to instances without opening inbound ports or using SSH keys. It uses IAM roles and the SSM Agent, offering improved security and full auditing.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-12"><a class="header" href="#-common-mistakes-12">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ No IAM role attached
âŒ Missing SSM policy
âŒ SSM Agent stopped
âŒ No internet/VPC endpoint</p>
<hr>
<h3 id="-lab-25-task-checklist"><a class="header" href="#-lab-25-task-checklist">âœ… LAB 25 TASK CHECKLIST</a></h3>
<p>âœ” Added SSM policy
âœ” Connected via Session Manager
âœ” Logged in without SSH
âœ” Understood secure access model</p>
<hr>
<h3 id="-security-access-phase-completed-"><a class="header" href="#-security-access-phase-completed-">ğŸ SECURITY ACCESS PHASE COMPLETED ğŸ‰</a></h3>
<p>You now know:
âœ” SSH access
âœ” Key pairs
âœ” IAM Roles
âœ” Session Manager (BEST PRACTICE)</p>
<hr>
<h2 id="-ec2-hands-on--lab-26"><a class="header" href="#-ec2-hands-on--lab-26">ğŸ§ª EC2 HANDS-ON â€“ LAB 26</a></h2>
<h3 id="-private-ec2--bastion-host-enterprise-grade-secure-access"><a class="header" href="#-private-ec2--bastion-host-enterprise-grade-secure-access">ğŸ‘‰ Private EC2 + Bastion Host (Enterprise-Grade Secure Access)</a></h3>
<p><img src="https://miro.medium.com/1%2AyML9ck6WsW1hloGwfnENmQ.jpeg" alt="Image"></p>
<p><img src="https://docs.aws.amazon.com/images/vpc/latest/userguide/images/vpc-example-private-subnets.png" alt="Image"></p>
<p><img src="https://miro.medium.com/1%2AF7zFRVkKxqzYCDZ7ktv9vQ.png" alt="Image"></p>
<p><img src="https://miro.medium.com/v2/resize%3Afit%3A1200/1%2AyML9ck6WsW1hloGwfnENmQ.jpeg" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-26"><a class="header" href="#-objective-of-lab-26">ğŸ¯ Objective of LAB 26</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>Public vs Private EC2</strong></li>
<li>Create a <strong>Private EC2 instance</strong></li>
<li>Use a <strong>Bastion Host</strong> for secure access</li>
<li>Learn <strong>enterprise security design</strong></li>
<li>Be <strong>interview + production ready</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-a-private-ec2"><a class="header" href="#-first-what-is-a-private-ec2">ğŸ§  FIRST: What is a Private EC2?</a></h3>
<p>A <strong>Private EC2</strong>:</p>
<ul>
<li>Has <strong>NO public IP</strong></li>
<li>Lives in a <strong>private subnet</strong></li>
<li>Cannot be accessed from the internet directly</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>Private EC2 = Office server inside company network ğŸ¢
Not exposed to the internet ğŸŒâŒ</p>
</blockquote>
<hr>
<h3 id="-what-is-a-bastion-host"><a class="header" href="#-what-is-a-bastion-host">ğŸ§  What is a Bastion Host?</a></h3>
<p>A <strong>Bastion Host</strong>:</p>
<ul>
<li>Is a <strong>public EC2</strong></li>
<li>Acts as a <strong>secure entry point</strong></li>
<li>Used to access <strong>private EC2s</strong></li>
</ul>
<p>Think like:</p>
<blockquote>
<p>Bastion = Security gate ğŸš§
Private EC2 = Internal room ğŸ”</p>
</blockquote>
<hr>
<h3 id="-architecture-we-are-building-1"><a class="header" href="#-architecture-we-are-building-1">ğŸ§  ARCHITECTURE WE ARE BUILDING</a></h3>
<pre><code>Your Laptop
   â†“
Bastion Host (Public Subnet)
   â†“
Private EC2 (Private Subnet)
</code></pre>
<p>This runs inside
<strong>Amazon Web Services VPC</strong></p>
<hr>
<h3 id="-step-1-understand-your-vpc-structure"><a class="header" href="#-step-1-understand-your-vpc-structure">ğŸ”¹ STEP 1: Understand Your VPC Structure</a></h3>
<p>Go to:</p>
<ul>
<li>VPC â†’ <strong>Subnets</strong></li>
</ul>
<p>Youâ€™ll see:</p>
<ul>
<li><strong>Public Subnet</strong></li>
<li><strong>Private Subnet</strong></li>
</ul>
<p>ğŸ“Œ Public subnet:</p>
<ul>
<li>Route to <strong>Internet Gateway</strong></li>
</ul>
<p>ğŸ“Œ Private subnet:</p>
<ul>
<li>NO Internet Gateway route</li>
</ul>
<hr>
<h3 id="-step-2-launch-bastion-host-public-ec2"><a class="header" href="#-step-2-launch-bastion-host-public-ec2">ğŸ”¹ STEP 2: Launch BASTION HOST (Public EC2)</a></h3>
<blockquote>
<p>Launch new EC2</p>
</blockquote>
<ul>
<li>Name:</li>
</ul>
<pre><code>bastion-host
</code></pre>
<ul>
<li>
<p>AMI: Amazon Linux 2023</p>
</li>
<li>
<p>Instance type: t2.micro</p>
</li>
<li>
<p>Subnet: <strong>Public Subnet</strong></p>
</li>
<li>
<p>Auto-assign Public IP: <strong>Enabled</strong></p>
</li>
<li>
<p>Security Group:</p>
<ul>
<li>SSH (22) â†’ <strong>My IP only</strong></li>
</ul>
</li>
</ul>
<p>Launch instance</p>
<hr>
<h3 id="-step-3-launch-private-ec2"><a class="header" href="#-step-3-launch-private-ec2">ğŸ”¹ STEP 3: Launch PRIVATE EC2</a></h3>
<blockquote>
<p>Launch another EC2</p>
</blockquote>
<ul>
<li>Name:</li>
</ul>
<pre><code>private-ec2
</code></pre>
<ul>
<li>
<p>AMI: Amazon Linux 2023</p>
</li>
<li>
<p>Instance type: t2.micro</p>
</li>
<li>
<p>Subnet: <strong>Private Subnet</strong></p>
</li>
<li>
<p>Auto-assign Public IP: âŒ Disabled</p>
</li>
<li>
<p>Security Group:</p>
<ul>
<li>SSH (22) â†’ <strong>ONLY from Bastion SG</strong></li>
</ul>
</li>
</ul>
<p>ğŸ“Œ This EC2 has <strong>NO public IP</strong></p>
<hr>
<h3 id="-step-4-verify-private-ec2-is-not-public"><a class="header" href="#-step-4-verify-private-ec2-is-not-public">ğŸ”¹ STEP 4: VERIFY PRIVATE EC2 IS NOT PUBLIC</a></h3>
<p>Check EC2 details:</p>
<ul>
<li>Public IPv4 address â†’ <strong>None</strong></li>
</ul>
<p>âŒ Cannot SSH from laptop
âœ… This is <strong>secure by design</strong></p>
<hr>
<h3 id="-step-5-connect-to-bastion-host"><a class="header" href="#-step-5-connect-to-bastion-host">ğŸ”¹ STEP 5: CONNECT TO BASTION HOST</a></h3>
<p>From your laptop:</p>
<pre><code class="language-bash">ssh -i ec2-key-hands-on.pem ec2-user@BASTION_PUBLIC_IP
</code></pre>
<p>You are now <strong>inside the bastion host</strong></p>
<hr>
<h3 id="-step-6-copy-key-to-bastion-temporary"><a class="header" href="#-step-6-copy-key-to-bastion-temporary">ğŸ”¹ STEP 6: COPY KEY TO BASTION (TEMPORARY)</a></h3>
<p>âš ï¸ For learning only (not best practice)</p>
<p>On your laptop:</p>
<pre><code class="language-bash">scp -i ec2-key-hands-on.pem ec2-key-hands-on.pem ec2-user@BASTION_PUBLIC_IP:/home/ec2-user/
</code></pre>
<p>On bastion:</p>
<pre><code class="language-bash">chmod 400 ec2-key-hands-on.pem
</code></pre>
<hr>
<h3 id="-step-7-connect-to-private-ec2-from-bastion"><a class="header" href="#-step-7-connect-to-private-ec2-from-bastion">ğŸ”¹ STEP 7: CONNECT TO PRIVATE EC2 FROM BASTION</a></h3>
<p>From <strong>inside bastion</strong>:</p>
<pre><code class="language-bash">ssh -i ec2-key-hands-on.pem ec2-user@PRIVATE_EC2_PRIVATE_IP
</code></pre>
<p>ğŸ‰ You are now logged into <strong>PRIVATE EC2</strong></p>
<hr>
<h3 id="-very-important-security-rule"><a class="header" href="#-very-important-security-rule">ğŸ§  VERY IMPORTANT SECURITY RULE</a></h3>
<p>âŒ Never expose private EC2 to internet
âœ” Access only via bastion / Session Manager
âœ” Bastion SSH restricted to <strong>your IP</strong></p>
<hr>
<h3 id="-real-world-best-practice-interview-gold"><a class="header" href="#-real-world-best-practice-interview-gold">ğŸ§  REAL-WORLD BEST PRACTICE (INTERVIEW GOLD)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Practice</th><th>Status</th></tr>
</thead>
<tbody>
<tr><td>Bastion in public subnet</td><td>âœ…</td></tr>
<tr><td>Private EC2 no public IP</td><td>âœ…</td></tr>
<tr><td>SSH only via bastion</td><td>âœ…</td></tr>
<tr><td>IAM + Session Manager</td><td>â­ BEST</td></tr>
</tbody>
</table>
</div>
<p>ğŸ‘‰ <strong>Modern replacement</strong>:
Bastion âŒ â†’ Session Manager âœ…</p>
<hr>
<h3 id="-interview-ready-answer-18"><a class="header" href="#-interview-ready-answer-18">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>A Bastion Host is a publicly accessible EC2 instance used as a secure gateway to access private EC2 instances in a VPC. Private instances have no public IP and are protected from direct internet access, improving security.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-13"><a class="header" href="#-common-mistakes-13">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Giving public IP to private EC2
âŒ Opening SSH to 0.0.0.0/0
âŒ Storing keys on bastion permanently
âŒ Using bastion when Session Manager is available</p>
<hr>
<h3 id="-lab-26-task-checklist"><a class="header" href="#-lab-26-task-checklist">âœ… LAB 26 TASK CHECKLIST</a></h3>
<p>âœ” Understood public vs private EC2
âœ” Launched bastion host
âœ” Launched private EC2
âœ” Accessed private EC2 securely
âœ” Learned enterprise network design</p>
<hr>
<h2 id="-ec2-hands-on--lab-27"><a class="header" href="#-ec2-hands-on--lab-27">ğŸ§ª EC2 HANDS-ON â€“ LAB 27</a></h2>
<h3 id="-ec2-in-public-vs-private-subnet-traffic-flow--internet-access"><a class="header" href="#-ec2-in-public-vs-private-subnet-traffic-flow--internet-access">ğŸ‘‰ EC2 in Public vs Private Subnet (Traffic Flow &amp; Internet Access)</a></h3>
<p><img src="https://docs.aws.amazon.com/images/vpc/latest/userguide/images/vpc-example-private-subnets.png" alt="Image"></p>
<p><img src="https://miro.medium.com/1%2Agftv4LSqU_12kRqNwYISJw.png" alt="Image"></p>
<p><img src="https://docs.aws.amazon.com/images/vpc/latest/userguide/images/public-nat-gateway-diagram.png" alt="Image"></p>
<p><img src="https://i.sstatic.net/2ihm3.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-27"><a class="header" href="#-objective-of-lab-27">ğŸ¯ Objective of LAB 27</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Clearly understand <strong>Public vs Private Subnet</strong></li>
<li>Know <strong>why</strong> an EC2 has or doesnâ€™t have internet</li>
<li>Understand <strong>Internet Gateway (IGW)</strong> and <strong>NAT Gateway</strong></li>
<li>Be able to <strong>draw &amp; explain traffic flow</strong> (interview-ready)</li>
</ul>
<hr>
<h3 id="-first-what-is-a-subnet-simple"><a class="header" href="#-first-what-is-a-subnet-simple">ğŸ§  FIRST: What is a Subnet? (Simple)</a></h3>
<p>A <strong>Subnet</strong> is:</p>
<ul>
<li>A <strong>range of IP addresses</strong></li>
<li>Inside a <strong>VPC</strong></li>
<li>Placed in <strong>one Availability Zone</strong></li>
</ul>
<p>Think like:</p>
<blockquote>
<p>VPC = Building ğŸ¢
Subnet = Floor ğŸ§±</p>
</blockquote>
<hr>
<h3 id="-key-rule-memorize-this"><a class="header" href="#-key-rule-memorize-this">ğŸ§  KEY RULE (MEMORIZE THIS)</a></h3>
<p>â— <strong>Subnet is NOT public or private by itself</strong></p>
<p>A subnet becomes:</p>
<ul>
<li><strong>Public</strong> â†’ if its <strong>route table</strong> points to an <strong>Internet Gateway</strong></li>
<li><strong>Private</strong> â†’ if it <strong>does NOT</strong> point to an Internet Gateway</li>
</ul>
<hr>
<h3 id="-components-you-must-know"><a class="header" href="#-components-you-must-know">ğŸ”¹ COMPONENTS YOU MUST KNOW</a></h3>
<blockquote>
<p>ğŸŒ Internet Gateway (IGW)</p>
</blockquote>
<ul>
<li>Allows <strong>internet â†” VPC</strong></li>
<li>Required for public internet access</li>
</ul>
<blockquote>
<p>ğŸ” NAT Gateway</p>
</blockquote>
<ul>
<li>Allows <strong>private EC2 â†’ internet</strong></li>
<li>Blocks <strong>internet â†’ private EC2</strong></li>
</ul>
<hr>
<h3 id="-step-1-open-your-vpc-route-tables"><a class="header" href="#-step-1-open-your-vpc-route-tables">ğŸ”¹ STEP 1: Open Your VPC Route Tables</a></h3>
<ol>
<li>
<p>AWS Console â†’ <strong>VPC</strong></p>
</li>
<li>
<p>Left menu â†’ <strong>Route Tables</strong></p>
</li>
<li>
<p>Identify:</p>
<ul>
<li>Public route table</li>
<li>Private route table</li>
</ul>
</li>
</ol>
<hr>
<h3 id="-step-2-examine-public-subnet-route-table"><a class="header" href="#-step-2-examine-public-subnet-route-table">ğŸ”¹ STEP 2: Examine PUBLIC Subnet Route Table</a></h3>
<p>Select <strong>public route table</strong> â†’ Routes tab</p>
<p>You will see something like:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Destination</th><th>Target</th></tr>
</thead>
<tbody>
<tr><td>10.0.0.0/16</td><td>local</td></tr>
<tr><td>0.0.0.0/0</td><td>igw-xxxx</td></tr>
</tbody>
</table>
</div>
<p>ğŸ“Œ Meaning:</p>
<ul>
<li>Local VPC traffic â†’ allowed</li>
<li><strong>All internet traffic â†’ Internet Gateway</strong></li>
</ul>
<p>ğŸ‘‰ This makes the subnet <strong>PUBLIC</strong></p>
<hr>
<h3 id="-step-3-examine-private-subnet-route-table"><a class="header" href="#-step-3-examine-private-subnet-route-table">ğŸ”¹ STEP 3: Examine PRIVATE Subnet Route Table</a></h3>
<p>Select <strong>private route table</strong> â†’ Routes tab</p>
<p>Youâ€™ll see:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Destination</th><th>Target</th></tr>
</thead>
<tbody>
<tr><td>10.0.0.0/16</td><td>local</td></tr>
</tbody>
</table>
</div>
<p>ğŸ“Œ Meaning:</p>
<ul>
<li>Internal VPC traffic only</li>
<li>âŒ No internet access</li>
</ul>
<p>ğŸ‘‰ This makes the subnet <strong>PRIVATE</strong></p>
<hr>
<h3 id="-step-4-why-public-ec2-has-internet"><a class="header" href="#-step-4-why-public-ec2-has-internet">ğŸ”¹ STEP 4: WHY Public EC2 Has Internet</a></h3>
<p>Your <strong>Bastion Host</strong>:</p>
<ul>
<li>In <strong>public subnet</strong></li>
<li>Has <strong>public IP</strong></li>
<li>Route â†’ IGW</li>
</ul>
<p>Traffic flow:</p>
<pre><code>Laptop â†’ IGW â†’ Public EC2
Public EC2 â†’ IGW â†’ Internet
</code></pre>
<hr>
<h3 id="-step-5-why-private-ec2-has-no-internet"><a class="header" href="#-step-5-why-private-ec2-has-no-internet">ğŸ”¹ STEP 5: WHY Private EC2 Has NO Internet</a></h3>
<p>Your <strong>private EC2</strong>:</p>
<ul>
<li>In <strong>private subnet</strong></li>
<li>âŒ No public IP</li>
<li>âŒ No IGW route</li>
</ul>
<p>Traffic flow:</p>
<pre><code>Internet âŒâ†’ Private EC2
</code></pre>
<p>âœ” Secure by default</p>
<hr>
<h3 id="-step-6-give-internet-to-private-ec2-outbound-only"><a class="header" href="#-step-6-give-internet-to-private-ec2-outbound-only">ğŸ”¹ STEP 6: Give INTERNET to Private EC2 (OUTBOUND ONLY)</a></h3>
<p>This is where <strong>NAT Gateway</strong> is used.</p>
<blockquote>
<p>NAT Gateway flow:</p>
</blockquote>
<pre><code>Private EC2 â†’ NAT Gateway â†’ IGW â†’ Internet
Internet âŒâ†’ Private EC2
</code></pre>
<p>ğŸ“Œ Used for:</p>
<ul>
<li>OS updates</li>
<li>Package installs</li>
<li>API calls</li>
</ul>
<hr>
<h3 id="-step-7-real-world-architecture"><a class="header" href="#-step-7-real-world-architecture">ğŸ”¹ STEP 7: REAL-WORLD ARCHITECTURE</a></h3>
<pre><code>Users
 â†“
Internet Gateway
 â†“
Public Subnet (ALB, Bastion)
 â†“
Private Subnet (EC2, App, DB)
 â†“
NAT Gateway â†’ Internet (outbound only)
</code></pre>
<p>Used by <strong>Amazon Web Services best practices</strong></p>
<hr>
<h3 id="-interview-ready-comparison-table"><a class="header" href="#-interview-ready-comparison-table">ğŸ§  INTERVIEW-READY COMPARISON TABLE</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Feature</th><th>Public Subnet</th><th>Private Subnet</th></tr>
</thead>
<tbody>
<tr><td>IGW route</td><td>âœ… Yes</td><td>âŒ No</td></tr>
<tr><td>Public IP</td><td>âœ… Yes</td><td>âŒ No</td></tr>
<tr><td>Internet access</td><td>âœ… Yes</td><td>âŒ No</td></tr>
<tr><td>Inbound from internet</td><td>âœ… Possible</td><td>âŒ Blocked</td></tr>
<tr><td>Use case</td><td>ALB, Bastion</td><td>App, DB</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-interview-ready-answer-very-important"><a class="header" href="#-interview-ready-answer-very-important">ğŸ§  INTERVIEW-READY ANSWER (VERY IMPORTANT)</a></h3>
<blockquote>
<p>A public subnet has a route to an Internet Gateway, allowing internet access, while a private subnet does not. Private instances can still access the internet outbound using a NAT Gateway, without being exposed to inbound traffic.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-14"><a class="header" href="#-common-mistakes-14">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Thinking â€œpublic subnetâ€ = public IP
âŒ Attaching IGW to private subnet
âŒ Exposing databases publicly
âŒ Forgetting NAT for updates</p>
<hr>
<h3 id="-lab-27-task-checklist"><a class="header" href="#-lab-27-task-checklist">âœ… LAB 27 TASK CHECKLIST</a></h3>
<p>âœ” Inspected route tables
âœ” Understood IGW role
âœ” Understood NAT Gateway role
âœ” Explained traffic flow clearly
âœ” Interview-level clarity achieved</p>
<hr>
<h3 id="-ec2-hands-on--lab-28"><a class="header" href="#-ec2-hands-on--lab-28">ğŸ§ª EC2 HANDS-ON â€“ LAB 28</a></h3>
<h3 id="-patch-management-for-ec2-automatic-os-updates--secure--scalable"><a class="header" href="#-patch-management-for-ec2-automatic-os-updates--secure--scalable">ğŸ‘‰ Patch Management for EC2 (Automatic OS Updates â€“ Secure &amp; Scalable)</a></h3>
<p><img src="https://d2908q01vomqb2.cloudfront.net/972a67c48192728a34979d9a35164c1295401b71/2018/05/01/image1v2-1.png" alt="Image"></p>
<p><img src="https://docs.aws.amazon.com/images/systems-manager/latest/userguide/images/patch-groups-how-it-works.png" alt="Image"></p>
<p><img src="https://d2908q01vomqb2.cloudfront.net/972a67c48192728a34979d9a35164c1295401b71/2024/09/02/Visualize-AWS-Systems-Manager-Patch-Manager-information-using-Amazon-QuickSight-Figure-2-1024x706.jpg" alt="Image"></p>
<p><img src="https://d2908q01vomqb2.cloudfront.net/fc074d501302eb2b93e2554793fcaf50b3bf7291/2021/06/16/Figure4-2.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-28"><a class="header" href="#-objective-of-lab-28">ğŸ¯ Objective of LAB 28</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>why patching is critical</strong></li>
<li>Use <strong>AWS Patch Manager</strong></li>
<li>Patch EC2 <strong>without SSH</strong></li>
<li>View <strong>patch compliance</strong></li>
<li>Be <strong>production + interview ready</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-patch-management-simple"><a class="header" href="#-first-what-is-patch-management-simple">ğŸ§  FIRST: What is Patch Management? (Simple)</a></h3>
<p><strong>Patch Management</strong> means:</p>
<ul>
<li>Updating OS packages</li>
<li>Fixing security vulnerabilities</li>
<li>Applying bug fixes</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>Patching = Regular medical check-up for servers ğŸ©º</p>
</blockquote>
<p>âŒ Unpatched servers = security risk
âœ… Patched servers = safe &amp; compliant</p>
<hr>
<h3 id="-which-aws-service-does-patching"><a class="header" href="#-which-aws-service-does-patching">ğŸ§  WHICH AWS SERVICE DOES PATCHING?</a></h3>
<p>Patching is handled by
<strong>AWS Systems Manager</strong>
(specifically <strong>Patch Manager</strong>)</p>
<hr>
<h3 id="-why-use-patch-manager-not-manual-ssh"><a class="header" href="#-why-use-patch-manager-not-manual-ssh">ğŸ§  WHY USE PATCH MANAGER (NOT MANUAL SSH)?</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Manual SSH</th><th>Patch Manager</th></tr>
</thead>
<tbody>
<tr><td>Error-prone</td><td>Automated</td></tr>
<tr><td>No audit</td><td>Full audit</td></tr>
<tr><td>Not scalable</td><td>Scales to 1000s EC2</td></tr>
<tr><td>Needs SSH</td><td>âŒ No SSH</td></tr>
</tbody>
</table>
</div>
<p>ğŸ‘‰ <strong>Production always uses Patch Manager</strong></p>
<hr>
<h3 id="-prerequisites-you-already-have-them-"><a class="header" href="#-prerequisites-you-already-have-them-">ğŸ§  PREREQUISITES (YOU ALREADY HAVE THEM âœ…)</a></h3>
<p>Your EC2 already has:
âœ” SSM Agent
âœ” IAM Role with <code>AmazonSSMManagedInstanceCore</code>
âœ” Connectivity to SSM</p>
<p>So weâ€™re ready ğŸ‰</p>
<hr>
<h3 id="-step-1-open-patch-manager"><a class="header" href="#-step-1-open-patch-manager">ğŸ”¹ STEP 1: Open Patch Manager</a></h3>
<ol>
<li>AWS Console â†’ <strong>Systems Manager</strong></li>
<li>Left menu â†’ <strong>Patch Manager</strong></li>
</ol>
<hr>
<h3 id="-step-2-check-managed-instances"><a class="header" href="#-step-2-check-managed-instances">ğŸ”¹ STEP 2: Check Managed Instances</a></h3>
<ol>
<li>Systems Manager â†’ <strong>Fleet Manager</strong></li>
<li>Click <strong>Managed nodes</strong></li>
</ol>
<p>You should see your EC2:</p>
<pre><code>ec2-hands-on-1
</code></pre>
<p>ğŸ“Œ If EC2 is visible â†’ SSM is working</p>
<hr>
<h3 id="-step-3-patch-compliance-read-only-view"><a class="header" href="#-step-3-patch-compliance-read-only-view">ğŸ”¹ STEP 3: Patch Compliance (Read-Only View)</a></h3>
<ol>
<li>Systems Manager â†’ <strong>Patch Manager</strong></li>
<li>Click <strong>Compliance</strong></li>
</ol>
<p>Youâ€™ll see:</p>
<ul>
<li>Missing patches</li>
<li>Installed patches</li>
<li>Compliance status</li>
</ul>
<p>ğŸ“Œ This gives <strong>security visibility</strong></p>
<hr>
<h3 id="-step-4-create-patch-baseline-concept"><a class="header" href="#-step-4-create-patch-baseline-concept">ğŸ”¹ STEP 4: Create Patch Baseline (Concept)</a></h3>
<p>AWS provides <strong>default patch baselines</strong>:</p>
<ul>
<li>Amazon Linux</li>
<li>Ubuntu</li>
<li>Windows</li>
</ul>
<p>ğŸ“Œ Weâ€™ll use <strong>default baseline</strong> (best practice)</p>
<hr>
<h3 id="-step-5-run-patch-scan-safe--no-changes"><a class="header" href="#-step-5-run-patch-scan-safe--no-changes">ğŸ”¹ STEP 5: Run Patch Scan (SAFE â€“ NO CHANGES)</a></h3>
<p>Weâ€™ll first <strong>SCAN</strong>, not install.</p>
<ol>
<li>
<p>Patch Manager â†’ <strong>Patches</strong></p>
</li>
<li>
<p>Click <strong>Configure patching</strong></p>
</li>
<li>
<p>Choose:</p>
<ul>
<li>Patch operation â†’ <strong>Scan</strong></li>
<li>Instances â†’ select your EC2</li>
</ul>
</li>
<li>
<p>Run</p>
</li>
</ol>
<p>ğŸ“Œ Scan:</p>
<ul>
<li>Checks missing patches</li>
<li>Does NOT install anything</li>
</ul>
<hr>
<h3 id="-step-6-view-scan-results"><a class="header" href="#-step-6-view-scan-results">ğŸ”¹ STEP 6: View Scan Results</a></h3>
<p>After completion:</p>
<ul>
<li>Status â†’ <strong>Success</strong></li>
<li>Compliance â†’ <strong>Compliant / Non-compliant</strong></li>
</ul>
<p>ğŸ“Œ This is used by security teams</p>
<hr>
<h3 id="-step-7-install-patches-conceptual--important"><a class="header" href="#-step-7-install-patches-conceptual--important">ğŸ”¹ STEP 7: Install Patches (Conceptual â€“ IMPORTANT)</a></h3>
<p>In production:</p>
<ul>
<li>Patch operation â†’ <strong>Install</strong></li>
<li>Scheduled during <strong>maintenance window</strong></li>
<li>Automatic reboot (optional)</li>
</ul>
<p>âš ï¸ We <strong>wonâ€™t install now</strong> to avoid downtime
But concept is <strong>VERY important</strong></p>
<hr>
<h3 id="-step-8-maintenance-window-concept"><a class="header" href="#-step-8-maintenance-window-concept">ğŸ”¹ STEP 8: Maintenance Window (Concept)</a></h3>
<p>A <strong>Maintenance Window</strong>:</p>
<ul>
<li>
<p>Defines <strong>WHEN</strong> patching happens</p>
</li>
<li>
<p>Example:</p>
<ul>
<li>Sunday 2 AM â€“ 4 AM</li>
</ul>
</li>
</ul>
<p>Used for:</p>
<ul>
<li>Patching</li>
<li>Reboots</li>
<li>Updates</li>
</ul>
<p>ğŸ“Œ Zero impact on users</p>
<hr>
<h3 id="-real-world-patch-strategy"><a class="header" href="#-real-world-patch-strategy">ğŸ§  REAL-WORLD PATCH STRATEGY</a></h3>
<p>âœ” Scan daily
âœ” Patch weekly
âœ” Patch in maintenance window
âœ” Auto reboot if needed
âœ” Monitor compliance</p>
<hr>
<h3 id="-interview-ready-answer-19"><a class="header" href="#-interview-ready-answer-19">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>AWS Patch Manager, part of Systems Manager, automates the process of scanning and installing OS patches on EC2 instances. It ensures security compliance without requiring SSH access and supports scheduling through maintenance windows.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-15"><a class="header" href="#-common-mistakes-15">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Manual patching via SSH
âŒ No maintenance window
âŒ Patching production during peak hours
âŒ No compliance monitoring</p>
<hr>
<h3 id="-lab-28-task-checklist"><a class="header" href="#-lab-28-task-checklist">âœ… LAB 28 TASK CHECKLIST</a></h3>
<p>âœ” Opened Patch Manager
âœ” Verified managed EC2
âœ” Ran patch scan
âœ” Viewed compliance
âœ” Understood production patching strategy</p>
<hr>
<h2 id="-ec2-hands-on--lab-29"><a class="header" href="#-ec2-hands-on--lab-29">ğŸ§ª EC2 HANDS-ON â€“ LAB 29</a></h2>
<h3 id="-ec2-backup-strategy-snapshots-amis--automation"><a class="header" href="#-ec2-backup-strategy-snapshots-amis--automation">ğŸ‘‰ EC2 Backup Strategy (Snapshots, AMIs &amp; Automation)</a></h3>
<p><img src="https://miro.medium.com/1%2A9F0ZUiI5EPlDaT-7saD0cA.jpeg" alt="Image"></p>
<p><img src="https://d2908q01vomqb2.cloudfront.net/e1822db470e60d090affd0956d743cb0e7cdf113/2022/02/10/Figure-1.png" alt="Image"></p>
<p><img src="https://d2908q01vomqb2.cloudfront.net/fc074d501302eb2b93e2554793fcaf50b3bf7291/2022/07/05/Figure-1.-Oracle-Database-in-Amazon-EC2-using-AWS-Backup-and-EFS-for-backup-and-restore.jpeg" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-29"><a class="header" href="#-objective-of-lab-29">ğŸ¯ Objective of LAB 29</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Design a <strong>complete EC2 backup strategy</strong></li>
<li>Use <strong>EBS Snapshots</strong> correctly</li>
<li>Use <strong>AMIs</strong> for full server backup</li>
<li>Understand <strong>backup automation</strong></li>
<li>Be <strong>interview + production ready</strong></li>
</ul>
<hr>
<h3 id="-first-why-backup-is-critical"><a class="header" href="#-first-why-backup-is-critical">ğŸ§  FIRST: Why Backup is CRITICAL</a></h3>
<p>Failures happen:</p>
<ul>
<li>Human error âŒ</li>
<li>AZ outage âŒ</li>
<li>Accidental delete âŒ</li>
<li>Security incident âŒ</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>Backup = Insurance for your data ğŸ›¡ï¸</p>
</blockquote>
<hr>
<h3 id="-types-of-ec2-backups-very-important"><a class="header" href="#-types-of-ec2-backups-very-important">ğŸ§  TYPES OF EC2 BACKUPS (VERY IMPORTANT)</a></h3>
<blockquote>
<p>1ï¸âƒ£ EBS Snapshots</p>
</blockquote>
<ul>
<li>Backup of <strong>data disks</strong></li>
<li>Incremental</li>
<li>Fast restore</li>
</ul>
<blockquote>
<p>2ï¸âƒ£ AMIs</p>
</blockquote>
<ul>
<li>Backup of <strong>entire EC2</strong></li>
<li>OS + software + config</li>
<li>Used to recreate servers</li>
</ul>
<blockquote>
<p>3ï¸âƒ£ Automated Backups</p>
</blockquote>
<ul>
<li>Scheduled</li>
<li>No manual effort</li>
<li>Required in production</li>
</ul>
<hr>
<h3 id="-backup-strategy-real-world-standard"><a class="header" href="#-backup-strategy-real-world-standard">ğŸ”¹ BACKUP STRATEGY (REAL-WORLD STANDARD)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>What</th><th>Backup Method</th></tr>
</thead>
<tbody>
<tr><td>OS + App</td><td>AMI</td></tr>
<tr><td>App data</td><td>EBS Snapshot</td></tr>
<tr><td>Logs</td><td>CloudWatch / S3</td></tr>
<tr><td>DR</td><td>Cross-region copy</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-step-1-identify-what-to-back-up"><a class="header" href="#-step-1-identify-what-to-back-up">ğŸ”¹ STEP 1: Identify What to Back Up</a></h3>
<p>For <code>ec2-hands-on-1</code>:</p>
<p>âœ” Root volume â†’ OS
âœ” <code>/data</code> EBS â†’ App data
âœ” Config â†’ AMI</p>
<p>ğŸ“Œ <strong>Never rely on one backup type</strong></p>
<hr>
<h3 id="-step-2-on-demand-ebs-snapshot-recap"><a class="header" href="#-step-2-on-demand-ebs-snapshot-recap">ğŸ”¹ STEP 2: On-Demand EBS Snapshot (Recap)</a></h3>
<ol>
<li>EC2 â†’ <strong>Volumes</strong></li>
<li>Select data volume</li>
<li>Actions â†’ <strong>Create snapshot</strong></li>
<li>Name:</li>
</ol>
<pre><code>daily-data-backup
</code></pre>
<p>ğŸ“Œ Use before:</p>
<ul>
<li>App upgrade</li>
<li>OS patch</li>
<li>Major change</li>
</ul>
<hr>
<h3 id="-step-3-ami-as-full-server-backup"><a class="header" href="#-step-3-ami-as-full-server-backup">ğŸ”¹ STEP 3: AMI as Full Server Backup</a></h3>
<ol>
<li>EC2 â†’ <strong>Instances</strong></li>
<li>Select <code>ec2-hands-on-1</code></li>
<li>Actions â†’ <strong>Image and templates</strong></li>
<li>Create image</li>
</ol>
<p>Name:</p>
<pre><code>ec2-backup-ami-v2
</code></pre>
<p>ğŸ“Œ This captures:</p>
<ul>
<li>Root EBS</li>
<li>Config</li>
<li>Installed software</li>
</ul>
<hr>
<h3 id="-step-4-automated-backup-important-concept"><a class="header" href="#-step-4-automated-backup-important-concept">ğŸ”¹ STEP 4: AUTOMATED BACKUP (IMPORTANT CONCEPT)</a></h3>
<p>In production, backups are <strong>NOT manual</strong>.</p>
<p>AWS provides <strong>AWS Backup</strong> to:
âœ” Schedule backups
âœ” Retention rules
âœ” Cross-region copy
âœ” Compliance reports</p>
<hr>
<h3 id="-step-5-aws-backup--how-it-works-concept"><a class="header" href="#-step-5-aws-backup--how-it-works-concept">ğŸ”¹ STEP 5: AWS Backup â€“ How It Works (Concept)</a></h3>
<ol>
<li>
<p>Create <strong>Backup Plan</strong></p>
</li>
<li>
<p>Define:</p>
<ul>
<li>Schedule (daily / weekly)</li>
<li>Retention (7 days / 30 days)</li>
</ul>
</li>
<li>
<p>Assign:</p>
<ul>
<li>EC2</li>
<li>EBS volumes</li>
</ul>
</li>
<li>
<p>AWS runs backups automatically</p>
</li>
</ol>
<p>ğŸ“Œ Zero manual effort</p>
<hr>
<h3 id="-step-6-restore-strategy-most-important"><a class="header" href="#-step-6-restore-strategy-most-important">ğŸ”¹ STEP 6: Restore Strategy (MOST IMPORTANT)</a></h3>
<p>Backup is useless without <strong>restore testing</strong>.</p>
<blockquote>
<p>Restore Options:</p>
</blockquote>
<ul>
<li>Snapshot â†’ New EBS</li>
<li>AMI â†’ New EC2</li>
<li>Cross-region snapshot â†’ DR EC2</li>
</ul>
<p>ğŸ“Œ Always <strong>test restore</strong></p>
<hr>
<h3 id="-real-world-backup-policy-example"><a class="header" href="#-real-world-backup-policy-example">ğŸ§  REAL-WORLD BACKUP POLICY (EXAMPLE)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Backup</th><th>Frequency</th><th>Retention</th></tr>
</thead>
<tbody>
<tr><td>EBS Snapshot</td><td>Daily</td><td>7 days</td></tr>
<tr><td>AMI</td><td>Weekly</td><td>4 weeks</td></tr>
<tr><td>Cross-region</td><td>Weekly</td><td>4 weeks</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-interview-ready-answer-20"><a class="header" href="#-interview-ready-answer-20">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>A robust EC2 backup strategy uses EBS snapshots for data volumes and AMIs for full server recovery. Backups should be automated using AWS Backup with defined schedules, retention policies, and regular restore testing.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-16"><a class="header" href="#-common-mistakes-16">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Only AMI, no data snapshot
âŒ Manual backups
âŒ No retention policy
âŒ No restore testing
âŒ Same-region backups only</p>
<hr>
<h3 id="-lab-29-task-checklist"><a class="header" href="#-lab-29-task-checklist">âœ… LAB 29 TASK CHECKLIST</a></h3>
<p>âœ” Identified backup scope
âœ” Created snapshot
âœ” Created AMI
âœ” Understood AWS Backup
âœ” Designed restore strategy</p>
<hr>
<h2 id="-ec2-hands-on--lab-30"><a class="header" href="#-ec2-hands-on--lab-30">ğŸ§ª EC2 HANDS-ON â€“ LAB 30</a></h2>
<h3 id="-ec2-security-best-practices-hardening--real-threat-protection"><a class="header" href="#-ec2-security-best-practices-hardening--real-threat-protection">ğŸ‘‰ EC2 Security Best Practices (Hardening &amp; Real Threat Protection)</a></h3>
<p><img src="https://docs.aws.amazon.com/images/whitepapers/latest/security-best-practices-for-manufacturing-ot/images/ot-best-practices-ref-diag.png" alt="Image"></p>
<p><img src="https://docs.aws.amazon.com/images/whitepapers/latest/aws-risk-and-compliance/images/image2.png" alt="Image"></p>
<p><img src="https://docs.aws.amazon.com/images/whitepapers/latest/swift-customer-security-controls-framework-2021/images/shared-responsibility-2.jpeg" alt="Image"></p>
<p><img src="https://d2908q01vomqb2.cloudfront.net/7b52009b64fd0a2a49e6d8a939753077792b0554/2022/06/09/ReferenceArchitecture.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-30"><a class="header" href="#-objective-of-lab-30">ğŸ¯ Objective of LAB 30</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>real EC2 security threats</strong></li>
<li>Apply <strong>hardening best practices</strong></li>
<li>Reduce <strong>attack surface</strong></li>
<li>Know <strong>what AWS secures vs what YOU secure</strong></li>
<li>Be <strong>100% interview + production ready</strong></li>
</ul>
<hr>
<h3 id="-first-aws-shared-responsibility-model-critical"><a class="header" href="#-first-aws-shared-responsibility-model-critical">ğŸ§  FIRST: AWS Shared Responsibility Model (CRITICAL)</a></h3>
<p>Security in AWS is <strong>shared</strong>.</p>
<blockquote>
<p>AWS is responsible for:</p>
</blockquote>
<ul>
<li>Data center security</li>
<li>Hardware</li>
<li>Physical network</li>
<li>Hypervisor</li>
</ul>
<blockquote>
<p>YOU are responsible for:</p>
</blockquote>
<ul>
<li>EC2 OS security</li>
<li>Security Groups</li>
<li>IAM</li>
<li>Patching</li>
<li>Application security</li>
</ul>
<p>ğŸ“Œ This model applies to
<strong>Amazon Web Services</strong></p>
<hr>
<h3 id="-real-ec2-threats-must-know"><a class="header" href="#-real-ec2-threats-must-know">ğŸ§  REAL EC2 THREATS (MUST KNOW)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Threat</th><th>Example</th></tr>
</thead>
<tbody>
<tr><td>Open SSH</td><td>0.0.0.0/0 on port 22</td></tr>
<tr><td>Key leakage</td><td><code>.pem</code> in GitHub</td></tr>
<tr><td>Unpatched OS</td><td>Exploits</td></tr>
<tr><td>Public services</td><td>DB exposed</td></tr>
<tr><td>Over-permission</td><td>IAM * access</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-step-1-lock-down-ssh-hands-on-check"><a class="header" href="#-step-1-lock-down-ssh-hands-on-check">ğŸ”¹ STEP 1: LOCK DOWN SSH (HANDS-ON CHECK)</a></h3>
<p>Go to:
EC2 â†’ Security Groups â†’ Instance SG</p>
<p>Ensure:</p>
<pre><code>SSH (22) â†’ My IP only
</code></pre>
<p>âŒ Never:</p>
<pre><code>0.0.0.0/0
</code></pre>
<p>ğŸ“Œ This alone blocks <strong>90% attacks</strong></p>
<hr>
<h3 id="-step-2-remove-ssh-completely-best-practice"><a class="header" href="#-step-2-remove-ssh-completely-best-practice">ğŸ”¹ STEP 2: REMOVE SSH COMPLETELY (BEST PRACTICE)</a></h3>
<p>If using <strong>Session Manager</strong>:</p>
<ul>
<li>Remove SSH rule entirely</li>
<li>No port 22 open</li>
</ul>
<p>ğŸ“Œ Zero inbound access = zero attack surface</p>
<hr>
<h3 id="-step-3-use-iam-roles-no-keys"><a class="header" href="#-step-3-use-iam-roles-no-keys">ğŸ”¹ STEP 3: USE IAM ROLES (NO KEYS)</a></h3>
<p>âœ” IAM Role attached
âœ” No access keys stored
âœ” Temporary credentials</p>
<p>You already implemented this in <strong>LAB 24</strong> âœ…</p>
<hr>
<h3 id="-step-4-os-hardening-important"><a class="header" href="#-step-4-os-hardening-important">ğŸ”¹ STEP 4: OS HARDENING (IMPORTANT)</a></h3>
<p>On EC2:</p>
<pre><code class="language-bash">sudo dnf update -y
</code></pre>
<p>ğŸ“Œ Always:</p>
<ul>
<li>Patch OS</li>
<li>Use Patch Manager (LAB 28)</li>
</ul>
<hr>
<h3 id="-step-5-minimize-installed-software"><a class="header" href="#-step-5-minimize-installed-software">ğŸ”¹ STEP 5: MINIMIZE INSTALLED SOFTWARE</a></h3>
<p>âŒ Remove unused packages
âœ” Only required services running</p>
<p>Check running services:</p>
<pre><code class="language-bash">systemctl list-units --type=service
</code></pre>
<hr>
<h3 id="-step-6-security-group-best-practices"><a class="header" href="#-step-6-security-group-best-practices">ğŸ”¹ STEP 6: SECURITY GROUP BEST PRACTICES</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Rule</th><th>Best Practice</th></tr>
</thead>
<tbody>
<tr><td>Inbound</td><td>Minimal</td></tr>
<tr><td>Outbound</td><td>Restrict if possible</td></tr>
<tr><td>Ports</td><td>Only required</td></tr>
<tr><td>Source</td><td>Known IP / SG</td></tr>
</tbody>
</table>
</div>
<p>ğŸ“Œ SG = <strong>First firewall</strong></p>
<hr>
<h3 id="-step-7-network-security-layers-defense-in-depth"><a class="header" href="#-step-7-network-security-layers-defense-in-depth">ğŸ”¹ STEP 7: NETWORK SECURITY LAYERS (DEFENSE IN DEPTH)</a></h3>
<pre><code>Internet
 â†“
Security Group
 â†“
NACL
 â†“
OS Firewall
 â†“
Application Security
</code></pre>
<p>ğŸ“Œ Multiple layers = stronger security</p>
<hr>
<h3 id="-step-8-enable-logging--monitoring"><a class="header" href="#-step-8-enable-logging--monitoring">ğŸ”¹ STEP 8: ENABLE LOGGING &amp; MONITORING</a></h3>
<p>âœ” CloudWatch Metrics
âœ” CloudWatch Logs
âœ” Alarms</p>
<p>You already implemented this in:</p>
<ul>
<li>LAB 21</li>
<li>LAB 23</li>
</ul>
<hr>
<h3 id="-step-9-tagging-for-security--audit"><a class="header" href="#-step-9-tagging-for-security--audit">ğŸ”¹ STEP 9: TAGGING FOR SECURITY &amp; AUDIT</a></h3>
<p>Add tags:</p>
<pre><code>Environment = Prod
Owner = DevOps
Critical = Yes
</code></pre>
<p>ğŸ“Œ Helps:</p>
<ul>
<li>Audits</li>
<li>Cost tracking</li>
<li>Automation</li>
</ul>
<hr>
<h3 id="-step-10-backup--dr-security-too"><a class="header" href="#-step-10-backup--dr-security-too">ğŸ”¹ STEP 10: BACKUP + DR (SECURITY TOO)</a></h3>
<p>âœ” Snapshots
âœ” AMIs
âœ” Restore testing</p>
<p>Security is incomplete without <strong>recovery</strong></p>
<hr>
<h3 id="-real-world-security-checklist-save-this"><a class="header" href="#-real-world-security-checklist-save-this">ğŸ§  REAL-WORLD SECURITY CHECKLIST (SAVE THIS)</a></h3>
<p>âœ” No public DB
âœ” No SSH open
âœ” IAM roles only
âœ” Patch regularly
âœ” Monitor continuously
âœ” Backup tested</p>
<hr>
<h3 id="-interview-ready-answer-very-important-1"><a class="header" href="#-interview-ready-answer-very-important-1">ğŸ§  INTERVIEW-READY ANSWER (VERY IMPORTANT)</a></h3>
<blockquote>
<p>EC2 security is achieved through defense in depth, including restrictive security groups, IAM roles instead of access keys, regular patching via Systems Manager, centralized logging with CloudWatch, and secure access using Session Manager.</p>
</blockquote>
<hr>
<h3 id="-common-security-mistakes"><a class="header" href="#-common-security-mistakes">âš ï¸ COMMON SECURITY MISTAKES</a></h3>
<p>âŒ SSH open to world
âŒ Hardcoded credentials
âŒ No monitoring
âŒ No backups
âŒ Over-permissioned IAM</p>
<hr>
<h3 id="-lab-30-task-checklist"><a class="header" href="#-lab-30-task-checklist">âœ… LAB 30 TASK CHECKLIST</a></h3>
<p>âœ” Understood shared responsibility
âœ” Identified real threats
âœ” Applied hardening best practices
âœ” Reduced attack surface
âœ” Interview-ready security knowledge</p>
<hr>
<h3 id="-security-phase-completed-"><a class="header" href="#-security-phase-completed-">ğŸ SECURITY PHASE COMPLETED ğŸ‰</a></h3>
<p>You have mastered:
âœ… Access security
âœ… Network security
âœ… OS security
âœ… Monitoring
âœ… Backup &amp; recovery</p>
<hr>
<h2 id="-ec2-hands-on--lab-31"><a class="header" href="#-ec2-hands-on--lab-31">ğŸ§ª EC2 HANDS-ON â€“ LAB 31</a></h2>
<h3 id="-ec2-pricing--cost-optimization-save-money-like-a-pro-"><a class="header" href="#-ec2-pricing--cost-optimization-save-money-like-a-pro-">ğŸ‘‰ EC2 Pricing &amp; Cost Optimization (Save MONEY like a Pro ğŸ’°)</a></h3>
<p><img src="https://holori.com/wp-content/uploads/2022/09/aws-ec2-price-comparison-768x432.png" alt="Image"></p>
<p><img src="https://i0.wp.com/economizecloud.wpengine.com/wp-content/uploads/2024/02/EC2_ami.gif?resize=629%2C485&amp;ssl=1" alt="Image"></p>
<p><img src="https://docs.aws.amazon.com/images/AWSEC2/latest/UserGuide/images/ri-basics.png" alt="Image"></p>
<p><img src="https://www.nops.io/wp-content/uploads/2022/11/Understanding-AWS-savings-plan-VS-Reserved-Instances.webp" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-31"><a class="header" href="#-objective-of-lab-31">ğŸ¯ Objective of LAB 31</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>how EC2 pricing works</strong></li>
<li>Learn <strong>all EC2 pricing models</strong></li>
<li>Know <strong>when to use each model</strong></li>
<li>Apply <strong>real cost-optimization techniques</strong></li>
<li>Be <strong>interview + production ready</strong></li>
</ul>
<hr>
<h3 id="-first-how-aws-charges-for-ec2-simple"><a class="header" href="#-first-how-aws-charges-for-ec2-simple">ğŸ§  FIRST: How AWS Charges for EC2 (Simple)</a></h3>
<p>AWS charges EC2 based on:</p>
<ul>
<li>Instance type (CPU, RAM)</li>
<li>Time used (per second/minute)</li>
<li>Storage (EBS)</li>
<li>Data transfer</li>
<li>Extra services (ELB, NAT, snapshots)</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>EC2 = Rent for a virtual server ğŸ </p>
</blockquote>
<hr>
<h3 id="-ec2-pricing-models-must-know"><a class="header" href="#-ec2-pricing-models-must-know">ğŸ§  EC2 PRICING MODELS (MUST KNOW)</a></h3>
<blockquote>
<p>1ï¸âƒ£ On-Demand Instances</p>
</blockquote>
<p><strong>What it is</strong></p>
<ul>
<li>Pay as you go</li>
<li>No commitment</li>
</ul>
<p><strong>Use when</strong></p>
<ul>
<li>Learning</li>
<li>Testing</li>
<li>Short-term workloads</li>
</ul>
<p><strong>Pros</strong>
âœ” Flexible
âœ” No upfront cost</p>
<p><strong>Cons</strong>
âŒ Most expensive</p>
<hr>
<blockquote>
<p>2ï¸âƒ£ Reserved Instances (RI)</p>
</blockquote>
<p><strong>What it is</strong></p>
<ul>
<li>1-year or 3-year commitment</li>
<li>Big discount</li>
</ul>
<p><strong>Use when</strong></p>
<ul>
<li>Steady workloads</li>
<li>Production systems</li>
</ul>
<p><strong>Savings</strong>
ğŸ’° Up to <strong>72%</strong></p>
<p><strong>Types</strong></p>
<ul>
<li>Standard RI</li>
<li>Convertible RI</li>
</ul>
<hr>
<blockquote>
<p>3ï¸âƒ£ Savings Plans (MODERN &amp; IMPORTANT)</p>
</blockquote>
<p><strong>What it is</strong></p>
<ul>
<li>Commit to <strong>$ per hour</strong></li>
<li>Flexible across instance types</li>
</ul>
<p><strong>Use when</strong></p>
<ul>
<li>Long-running apps</li>
<li>Microservices</li>
</ul>
<p>ğŸ“Œ AWS recommends <strong>Savings Plans over RIs</strong></p>
<hr>
<blockquote>
<p>4ï¸âƒ£ Spot Instances (VERY IMPORTANT)</p>
</blockquote>
<p><strong>What it is</strong></p>
<ul>
<li>Use spare AWS capacity</li>
<li>Very cheap</li>
</ul>
<p><strong>Savings</strong>
ğŸ’° Up to <strong>90%</strong></p>
<p><strong>Risk</strong>
âŒ Can be terminated anytime</p>
<p><strong>Use when</strong></p>
<ul>
<li>Batch jobs</li>
<li>CI/CD</li>
<li>Big data processing</li>
</ul>
<hr>
<h3 id="-quick-interview-table"><a class="header" href="#-quick-interview-table">ğŸ§  QUICK INTERVIEW TABLE</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Model</th><th>Cost</th><th>Risk</th><th>Use Case</th></tr>
</thead>
<tbody>
<tr><td>On-Demand</td><td>High</td><td>None</td><td>Dev/Test</td></tr>
<tr><td>Reserved</td><td>Low</td><td>Low</td><td>Prod</td></tr>
<tr><td>Savings Plan</td><td>Low</td><td>Low</td><td>Prod</td></tr>
<tr><td>Spot</td><td>Very Low</td><td>High</td><td>Batch</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-step-1-view-ec2-pricing-in-console"><a class="header" href="#-step-1-view-ec2-pricing-in-console">ğŸ”¹ STEP 1: View EC2 Pricing in Console</a></h3>
<ol>
<li>AWS Console â†’ <strong>EC2</strong></li>
<li>Click <strong>Instance types</strong></li>
<li>Select <code>t2.micro</code></li>
<li>Click <strong>Pricing</strong></li>
</ol>
<p>ğŸ“Œ Pricing varies by:</p>
<ul>
<li>Region</li>
<li>OS</li>
</ul>
<hr>
<h3 id="-step-2-check-your-current-cost"><a class="header" href="#-step-2-check-your-current-cost">ğŸ”¹ STEP 2: Check Your CURRENT COST</a></h3>
<ol>
<li>
<p>AWS Console â†’ <strong>Billing</strong></p>
</li>
<li>
<p>Open <strong>Cost Explorer</strong></p>
</li>
<li>
<p>Filter:</p>
<ul>
<li>Service â†’ EC2</li>
<li>Time â†’ Last 7 days</li>
</ul>
</li>
</ol>
<p>ğŸ“Œ This shows <strong>real money usage</strong></p>
<hr>
<h3 id="-step-3-identify-cost-wastage-real-world"><a class="header" href="#-step-3-identify-cost-wastage-real-world">ğŸ”¹ STEP 3: IDENTIFY COST WASTAGE (REAL WORLD)</a></h3>
<p>Look for:
âŒ Stopped but attached EBS
âŒ Unused Elastic IPs
âŒ Oversized instances
âŒ Idle EC2s</p>
<hr>
<h3 id="-step-4-instance-right-sizing-important"><a class="header" href="#-step-4-instance-right-sizing-important">ğŸ”¹ STEP 4: INSTANCE RIGHT-SIZING (IMPORTANT)</a></h3>
<p>Use:</p>
<ul>
<li>CloudWatch CPU metrics</li>
</ul>
<p>Example:</p>
<ul>
<li>CPU &lt; 10% always âŒ
â†’ Instance is <strong>oversized</strong></li>
</ul>
<p>Solution:</p>
<ul>
<li>Move from <code>t3.large â†’ t3.micro</code></li>
</ul>
<p>ğŸ“Œ Saves money immediately</p>
<hr>
<h3 id="-step-5-auto-scaling--cost-saver"><a class="header" href="#-step-5-auto-scaling--cost-saver">ğŸ”¹ STEP 5: AUTO SCALING = COST SAVER</a></h3>
<p>âœ” Scale out only when needed
âœ” Scale in during low traffic</p>
<p>You already implemented this in <strong>LAB 19 &amp; 22</strong></p>
<hr>
<h3 id="-step-6-spot-instances-conceptual"><a class="header" href="#-step-6-spot-instances-conceptual">ğŸ”¹ STEP 6: SPOT INSTANCES (CONCEPTUAL)</a></h3>
<p>In ASG:</p>
<ul>
<li>
<p>Mix:</p>
<ul>
<li>On-Demand (base)</li>
<li>Spot (extra capacity)</li>
</ul>
</li>
</ul>
<p>ğŸ“Œ Production-grade cost optimization</p>
<hr>
<h3 id="-step-7-schedule-stopstart-huge-savings"><a class="header" href="#-step-7-schedule-stopstart-huge-savings">ğŸ”¹ STEP 7: SCHEDULE STOP/START (HUGE SAVINGS)</a></h3>
<p>For non-prod:</p>
<ul>
<li>Stop EC2 at night</li>
<li>Start in morning</li>
</ul>
<p>Can save:
ğŸ’° <strong>60â€“70% monthly</strong></p>
<p>Use:</p>
<ul>
<li>EventBridge</li>
<li>Lambda</li>
<li>SSM Automation</li>
</ul>
<hr>
<h3 id="-real-world-cost-optimization-checklist"><a class="header" href="#-real-world-cost-optimization-checklist">ğŸ§  REAL-WORLD COST OPTIMIZATION CHECKLIST</a></h3>
<p>âœ” Use right instance size
âœ” Use Savings Plans
âœ” Auto Scaling enabled
âœ” Use Spot for batch
âœ” Delete unused resources
âœ” Monitor monthly bill</p>
<hr>
<h3 id="-interview-ready-answer-21"><a class="header" href="#-interview-ready-answer-21">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>EC2 cost optimization involves selecting the appropriate pricing model such as On-Demand, Reserved Instances, Savings Plans, or Spot Instances, combined with right-sizing, Auto Scaling, and continuous monitoring using Cost Explorer and CloudWatch.</p>
</blockquote>
<hr>
<h3 id="-common-cost-mistakes"><a class="header" href="#-common-cost-mistakes">âš ï¸ COMMON COST MISTAKES</a></h3>
<p>âŒ Leaving EC2 running unused
âŒ Ignoring EBS &amp; snapshots
âŒ No Auto Scaling
âŒ No cost monitoring</p>
<hr>
<h3 id="-lab-31-task-checklist"><a class="header" href="#-lab-31-task-checklist">âœ… LAB 31 TASK CHECKLIST</a></h3>
<p>âœ” Understood pricing models
âœ” Checked EC2 pricing
âœ” Viewed Cost Explorer
âœ” Identified cost wastage
âœ” Learned optimization strategies</p>
<hr>
<h2 id="-ec2-hands-on--lab-32"><a class="header" href="#-ec2-hands-on--lab-32">ğŸ§ª EC2 HANDS-ON â€“ LAB 32</a></h2>
<h3 id="-spot-instances-ultra-low-cost-ec2--risk-handling"><a class="header" href="#-spot-instances-ultra-low-cost-ec2--risk-handling">ğŸ‘‰ Spot Instances (Ultra-Low Cost EC2 + Risk Handling)</a></h3>
<p><img src="https://docs.aws.amazon.com/images/AWSEC2/latest/UserGuide/images/spot-instance-pricing-history.png" alt="Image"></p>
<p><img src="https://d2908q01vomqb2.cloudfront.net/1b6453892473a467d07372d45eb05abc2031647a/2018/02/24/interruption_notices_arch_diagram.jpg" alt="Image"></p>
<p><img src="https://www.cloudzero.com/wp-content/uploads/2023/01/on-demand-vs-spot-instances.webp" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-32"><a class="header" href="#-objective-of-lab-32">ğŸ¯ Objective of LAB 32</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>what Spot Instances are</strong></li>
<li>Launch a <strong>Spot EC2</strong></li>
<li>Handle <strong>interruption safely</strong></li>
<li>Use Spot with <strong>Auto Scaling</strong></li>
<li>Be <strong>interview + production ready</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-a-spot-instance-simple-words"><a class="header" href="#-first-what-is-a-spot-instance-simple-words">ğŸ§  FIRST: What is a Spot Instance? (Simple Words)</a></h3>
<p>A <strong>Spot Instance</strong>:</p>
<ul>
<li>Uses <strong>unused EC2 capacity</strong></li>
<li>Is <strong>very cheap</strong></li>
<li>Can be <strong>stopped by AWS anytime</strong></li>
</ul>
<p>Think like:</p>
<blockquote>
<p>Spot = Traveling in empty train seats ğŸš†
Cheap, but seat may be taken back</p>
</blockquote>
<p>Spot is part of
<strong>Amazon Web Services EC2 pricing</strong></p>
<hr>
<h3 id="-why-spot-is-so-cheap"><a class="header" href="#-why-spot-is-so-cheap">ğŸ§  WHY Spot is SO CHEAP?</a></h3>
<p>AWS sells:</p>
<ul>
<li>Spare capacity</li>
<li>With <strong>no guarantee</strong></li>
</ul>
<p>ğŸ’° Savings:</p>
<ul>
<li>Up to <strong>90% cheaper</strong> than On-Demand</li>
</ul>
<hr>
<h3 id="-the-big-risk-must-know"><a class="header" href="#-the-big-risk-must-know">ğŸ§  THE BIG RISK (MUST KNOW)</a></h3>
<p>â— Spot instances can be:</p>
<ul>
<li>Interrupted with <strong>2-minute warning</strong></li>
<li>Terminated or stopped</li>
</ul>
<p>ğŸ‘‰ <strong>Never use Spot alone for critical apps</strong></p>
<hr>
<h3 id="-when-to-use-spot-real-use-cases"><a class="header" href="#-when-to-use-spot-real-use-cases">ğŸ”¹ WHEN TO USE SPOT (REAL USE CASES)</a></h3>
<p>âœ” Batch processing
âœ” CI/CD builds
âœ” Big data jobs
âœ” Auto Scaling extra capacity
âœ” Non-critical workloads</p>
<p>âŒ NOT for:</p>
<ul>
<li>Databases</li>
<li>Single EC2 prod apps</li>
<li>Stateful services</li>
</ul>
<hr>
<h3 id="-step-1-launch-a-spot-instance-hands-on"><a class="header" href="#-step-1-launch-a-spot-instance-hands-on">ğŸ”¹ STEP 1: Launch a Spot Instance (Hands-On)</a></h3>
<ol>
<li>EC2 â†’ <strong>Launch instance</strong></li>
<li>Name:</li>
</ol>
<pre><code>ec2-spot-demo
</code></pre>
<hr>
<blockquote>
<p>Instance Details</p>
</blockquote>
<ul>
<li>AMI â†’ Amazon Linux 2023</li>
<li>Instance type â†’ <code>t3.micro</code></li>
<li>Key pair â†’ existing</li>
</ul>
<hr>
<blockquote>
<p>Advanced Details (IMPORTANT)</p>
</blockquote>
<p>Scroll to <strong>Advanced details</strong></p>
<ul>
<li>Purchasing option â†’ <strong>Spot</strong></li>
<li>Spot instance type â†’ <strong>One-time</strong></li>
<li>Interruption behavior â†’ <strong>Terminate</strong></li>
<li>Max price â†’ Leave empty (recommended)</li>
</ul>
<p>ğŸ“Œ AWS will pick cheapest available Spot</p>
<hr>
<blockquote>
<p>Security Group</p>
</blockquote>
<ul>
<li>SSH (22) â†’ My IP</li>
<li>HTTP (80) â†’ Anywhere</li>
</ul>
<hr>
<blockquote>
<p>Launch Instance</p>
</blockquote>
<p>Click <strong>Launch instance</strong></p>
<hr>
<h3 id="-step-2-verify-spot-instance"><a class="header" href="#-step-2-verify-spot-instance">ğŸ”¹ STEP 2: Verify Spot Instance</a></h3>
<ol>
<li>EC2 â†’ Instances</li>
<li>Select instance</li>
<li>Check:</li>
</ol>
<pre><code>Instance lifecycle â†’ Spot
</code></pre>
<p>ğŸ‰ You are running a Spot EC2</p>
<hr>
<h3 id="-step-3-spot-interruption-notice-critical"><a class="header" href="#-step-3-spot-interruption-notice-critical">ğŸ”¹ STEP 3: Spot Interruption Notice (CRITICAL)</a></h3>
<p>AWS provides:</p>
<pre><code>2-minute warning
</code></pre>
<p>Available at:</p>
<pre><code class="language-bash">http://169.254.169.254/latest/meta-data/spot/instance-action
</code></pre>
<hr>
<h3 id="-step-4-check-interruption-hands-on"><a class="header" href="#-step-4-check-interruption-hands-on">ğŸ”¹ STEP 4: CHECK INTERRUPTION (Hands-On)</a></h3>
<p>SSH into Spot EC2:</p>
<pre><code class="language-bash">ssh -i ec2-key-hands-on.pem ec2-user@SPOT_PUBLIC_IP
</code></pre>
<p>Run:</p>
<pre><code class="language-bash">curl http://169.254.169.254/latest/meta-data/spot/instance-action
</code></pre>
<blockquote>
<p>Output:</p>
</blockquote>
<ul>
<li>Empty â†’ No interruption</li>
<li>JSON â†’ Interruption coming</li>
</ul>
<p>ğŸ“Œ This endpoint is <strong>very important for automation</strong></p>
<hr>
<h3 id="-step-5-handle-interruption-safely-concept"><a class="header" href="#-step-5-handle-interruption-safely-concept">ğŸ”¹ STEP 5: HANDLE INTERRUPTION SAFELY (CONCEPT)</a></h3>
<p>In real systems:</p>
<ul>
<li>Save work to S3</li>
<li>Send logs to CloudWatch</li>
<li>Gracefully stop job</li>
</ul>
<p>Example logic:</p>
<pre><code>If interruption notice:
 â†’ checkpoint work
 â†’ upload results
 â†’ exit cleanly
</code></pre>
<hr>
<h3 id="-step-6-spot-with-auto-scaling-best-practice"><a class="header" href="#-step-6-spot-with-auto-scaling-best-practice">ğŸ”¹ STEP 6: Spot with Auto Scaling (BEST PRACTICE)</a></h3>
<p>In production:</p>
<ul>
<li>
<p>Use <strong>Mixed Instance Policy</strong></p>
</li>
<li>
<p>Combine:</p>
<ul>
<li>On-Demand (base)</li>
<li>Spot (extra capacity)</li>
</ul>
</li>
</ul>
<p>ğŸ“Œ If Spot is interrupted:</p>
<ul>
<li>ASG replaces it automatically</li>
</ul>
<hr>
<h3 id="-interview-ready-comparison"><a class="header" href="#-interview-ready-comparison">ğŸ§  INTERVIEW-READY COMPARISON</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Feature</th><th>On-Demand</th><th>Spot</th></tr>
</thead>
<tbody>
<tr><td>Price</td><td>High</td><td>Very Low</td></tr>
<tr><td>Reliability</td><td>High</td><td>Medium</td></tr>
<tr><td>Interruption</td><td>âŒ No</td><td>âœ… Yes</td></tr>
<tr><td>Use case</td><td>Prod</td><td>Batch / ASG</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-interview-ready-answer-22"><a class="header" href="#-interview-ready-answer-22">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>Spot Instances allow customers to use spare EC2 capacity at significantly reduced prices, with the trade-off that instances can be interrupted with a two-minute warning. They are ideal for fault-tolerant and stateless workloads.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-17"><a class="header" href="#-common-mistakes-17">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Using Spot for databases
âŒ No checkpointing
âŒ No ASG fallback
âŒ Expecting 24/7 availability</p>
<hr>
<h3 id="-lab-32-task-checklist"><a class="header" href="#-lab-32-task-checklist">âœ… LAB 32 TASK CHECKLIST</a></h3>
<p>âœ” Launched Spot EC2
âœ” Verified Spot lifecycle
âœ” Checked interruption endpoint
âœ” Understood risk handling
âœ” Learned cost-saving strategy</p>
<hr>
<h2 id="-ec2-hands-on--lab-33"><a class="header" href="#-ec2-hands-on--lab-33">ğŸ§ª EC2 HANDS-ON â€“ LAB 33</a></h2>
<h3 id="-instance-right-sizing-performance--cost-balance"><a class="header" href="#-instance-right-sizing-performance--cost-balance">ğŸ‘‰ Instance Right-Sizing (Performance âš–ï¸ Cost Balance)</a></h3>
<p><img src="https://www.nops.io/wp-content/uploads/2024/01/Screenshot-of-CloudWatch-metrics-used-for-rightsizing-.png" alt="Image"></p>
<p><img src="https://d2908q01vomqb2.cloudfront.net/da4b9237bacccdf19c0760cab7aec4a8359010b0/2019/11/26/image001.png" alt="Image"></p>
<p><img src="https://softwareg.com.au/cdn/shop/articles/CPU_credit_usage.png?v=1707732517" alt="Image"></p>
<p><img src="https://i.sstatic.net/VvhR6.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-33"><a class="header" href="#-objective-of-lab-33">ğŸ¯ Objective of LAB 33</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>what right-sizing really means</strong></li>
<li>Use <strong>CloudWatch metrics</strong> to detect waste</li>
<li>Learn <strong>how to choose the correct instance type</strong></li>
<li>Know <strong>AWS Compute Optimizer</strong></li>
<li>Be <strong>interview + production ready</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-instance-right-sizing"><a class="header" href="#-first-what-is-instance-right-sizing">ğŸ§  FIRST: What is Instance Right-Sizing?</a></h3>
<p><strong>Right-sizing</strong> means:</p>
<ul>
<li>Choosing the <strong>smallest EC2 instance</strong></li>
<li>That still delivers <strong>required performance</strong></li>
</ul>
<p>Think like:</p>
<blockquote>
<p>Donâ€™t use a truck ğŸšš to carry a backpack ğŸ’</p>
</blockquote>
<hr>
<h3 id="-why-right-sizing-is-important"><a class="header" href="#-why-right-sizing-is-important">ğŸ§  WHY Right-Sizing is IMPORTANT?</a></h3>
<p>âŒ Oversized instance â†’ <strong>Money waste</strong>
âŒ Undersized instance â†’ <strong>Performance issues</strong></p>
<p>âœ” Right-sized â†’ <strong>Optimal cost + performance</strong></p>
<hr>
<h3 id="-step-1-identify-a-candidate-ec2"><a class="header" href="#-step-1-identify-a-candidate-ec2">ğŸ”¹ STEP 1: Identify a Candidate EC2</a></h3>
<p>Pick:</p>
<ul>
<li><code>ec2-hands-on-1</code>
or</li>
<li>Any EC2 from your Auto Scaling Group</li>
</ul>
<hr>
<h3 id="-step-2-analyze-cpu-utilization-most-important"><a class="header" href="#-step-2-analyze-cpu-utilization-most-important">ğŸ”¹ STEP 2: Analyze CPU Utilization (MOST IMPORTANT)</a></h3>
<ol>
<li>Open <strong>CloudWatch</strong></li>
<li>Go to <strong>Metrics â†’ EC2 â†’ Per-Instance Metrics</strong></li>
<li>Select <strong>CPUUtilization</strong></li>
</ol>
<blockquote>
<p>Look at:</p>
</blockquote>
<ul>
<li>Last <strong>7â€“14 days</strong></li>
<li>Average CPU %</li>
</ul>
<hr>
<blockquote>
<p>Decision Rule (SAVE THIS)</p>
</blockquote>
<div class="table-wrapper">
<table>
<thead>
<tr><th>CPU Usage</th><th>Meaning</th></tr>
</thead>
<tbody>
<tr><td>&lt; 10%</td><td>âŒ Over-provisioned</td></tr>
<tr><td>10â€“40%</td><td>âœ… Right-sized</td></tr>
<tr><td>&gt; 70%</td><td>âŒ Under-provisioned</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-step-3-analyze-memory-important-concept"><a class="header" href="#-step-3-analyze-memory-important-concept">ğŸ”¹ STEP 3: Analyze Memory (IMPORTANT CONCEPT)</a></h3>
<p>âš ï¸ EC2 does <strong>NOT</strong> send memory metrics by default.</p>
<p>To monitor memory:</p>
<ul>
<li>Install <strong>CloudWatch Agent</strong></li>
<li>Send memory metrics</li>
</ul>
<p>ğŸ“Œ In production, <strong>CPU alone is not enough</strong></p>
<hr>
<h3 id="-step-4-check-network--disk-metrics"><a class="header" href="#-step-4-check-network--disk-metrics">ğŸ”¹ STEP 4: Check Network &amp; Disk Metrics</a></h3>
<p>Also check:</p>
<ul>
<li>NetworkIn / NetworkOut</li>
<li>DiskReadOps / DiskWriteOps</li>
</ul>
<p>ğŸ“Œ If all metrics are low â†’ instance is oversized</p>
<hr>
<h3 id="-step-5-example-right-sizing-decision"><a class="header" href="#-step-5-example-right-sizing-decision">ğŸ”¹ STEP 5: Example Right-Sizing Decision</a></h3>
<blockquote>
<p>Current setup:</p>
</blockquote>
<pre><code>t3.large
CPU avg = 8%
</code></pre>
<blockquote>
<p>Better option:</p>
</blockquote>
<pre><code>t3.micro or t3.small
</code></pre>
<p>ğŸ’° Savings:</p>
<ul>
<li>Up to <strong>70% monthly</strong></li>
</ul>
<hr>
<h3 id="-step-6-use-aws-compute-optimizer-best-practice"><a class="header" href="#-step-6-use-aws-compute-optimizer-best-practice">ğŸ”¹ STEP 6: Use AWS Compute Optimizer (BEST PRACTICE)</a></h3>
<p>AWS provides <strong>AWS Compute Optimizer</strong></p>
<blockquote>
<p>What it does:</p>
</blockquote>
<p>âœ” Analyzes EC2 usage
âœ” Recommends better instance types
âœ” Uses machine learning</p>
<hr>
<blockquote>
<p>How to Check:</p>
</blockquote>
<ol>
<li>AWS Console â†’ <strong>Compute Optimizer</strong></li>
<li>Enable it (one-time)</li>
<li>Go to <strong>EC2 recommendations</strong></li>
</ol>
<p>ğŸ“Œ This is <strong>enterprise-grade optimization</strong></p>
<hr>
<h3 id="-step-7-right-sizing-with-auto-scaling-best"><a class="header" href="#-step-7-right-sizing-with-auto-scaling-best">ğŸ”¹ STEP 7: Right-Sizing with Auto Scaling (BEST)</a></h3>
<p>Instead of one big EC2:</p>
<ul>
<li>Use <strong>smaller instances</strong></li>
<li>Scale horizontally with ASG</li>
</ul>
<p>Example:</p>
<pre><code>1 Ã— t3.large âŒ
3 Ã— t3.micro âœ…
</code></pre>
<p>âœ” Cheaper
âœ” More resilient</p>
<hr>
<h3 id="-interview-ready-answer-23"><a class="header" href="#-interview-ready-answer-23">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>Instance right-sizing involves analyzing CloudWatch metrics such as CPU, memory, and network usage to select the most cost-effective EC2 instance type without compromising performance. AWS Compute Optimizer can automate recommendations using machine learning.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-18"><a class="header" href="#-common-mistakes-18">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Right-sizing based on CPU only
âŒ Ignoring peak usage
âŒ No monitoring after resizing
âŒ Manual guesses instead of data</p>
<hr>
<h3 id="-lab-33-task-checklist"><a class="header" href="#-lab-33-task-checklist">âœ… LAB 33 TASK CHECKLIST</a></h3>
<p>âœ” Analyzed CPU utilization
âœ” Understood over vs under sizing
âœ” Learned memory monitoring concept
âœ” Used Compute Optimizer (conceptually)
âœ” Learned cost-performance balance</p>
<hr>
<h2 id="-ec2-hands-on--lab-34"><a class="header" href="#-ec2-hands-on--lab-34">ğŸ§ª EC2 HANDS-ON â€“ LAB 34</a></h2>
<h3 id="-free-tier-safety--cleanup-avoid-billing-surprises"><a class="header" href="#-free-tier-safety--cleanup-avoid-billing-surprises">ğŸ‘‰ Free Tier Safety &amp; Cleanup (Avoid Billing Surprises)</a></h3>
<p><img src="https://media.amazonwebservices.com/blog/2015/con_free_tier_dashboard_2.png" alt="Image"></p>
<p><img src="https://k21academy.com/wp-content/uploads/2020/08/Amazon-AWS-Free-Tier-Storage-1.jpg" alt="Image"></p>
<p><img src="https://media.amazonwebservices.com/blog/2017/ce_billing_dash_1.png" alt="Image"></p>
<p><img src="https://d2908q01vomqb2.cloudfront.net/972a67c48192728a34979d9a35164c1295401b71/2019/06/02/aws-cost-explorer-amazon-ec2-instance-costs.0cc44d7944b0b240011917d5c8e83885c3ba5303-1124x630.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-34"><a class="header" href="#-objective-of-lab-34">ğŸ¯ Objective of LAB 34</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Know <strong>exact EC2 Free Tier limits</strong></li>
<li>Identify <strong>hidden cost traps</strong></li>
<li>Clean up unused resources <strong>safely</strong></li>
<li>Set <strong>billing alerts</strong></li>
<li>Be <strong>100% safe from surprise bills</strong></li>
</ul>
<hr>
<h3 id="-first-what-does-ec2-free-tier-really-give"><a class="header" href="#-first-what-does-ec2-free-tier-really-give">ğŸ§  FIRST: What Does EC2 Free Tier REALLY Give?</a></h3>
<p>Under **Amazon Web Services Free Tier (12 months):</p>
<blockquote>
<p>EC2 Compute</p>
</blockquote>
<p>âœ” <strong>750 hours / month</strong></p>
<ul>
<li><code>t2.micro</code> or <code>t3.micro</code></li>
<li>Linux or Windows</li>
</ul>
<p>ğŸ“Œ 1 instance Ã— 24 Ã— 30 â‰ˆ 720 hours
ğŸ‘‰ <strong>Only ONE instance should run continuously</strong></p>
<hr>
<blockquote>
<p>EBS Storage</p>
</blockquote>
<p>âœ” <strong>30 GB total</strong></p>
<ul>
<li>Root + additional volumes combined</li>
</ul>
<hr>
<blockquote>
<p>Snapshots</p>
</blockquote>
<p>âœ” <strong>1 GB free</strong>
âŒ Extra snapshots = charged</p>
<hr>
<blockquote>
<p>Data Transfer</p>
</blockquote>
<p>âœ” <strong>15 GB outbound / month</strong>
âŒ More = charged</p>
<hr>
<h3 id="-most-common-billing-traps-read-carefully"><a class="header" href="#-most-common-billing-traps-read-carefully">ğŸ§  MOST COMMON BILLING TRAPS (READ CAREFULLY)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Trap</th><th>Why Cost Happens</th></tr>
</thead>
<tbody>
<tr><td>Multiple EC2 running</td><td>Hours exceed 750</td></tr>
<tr><td>Unused EBS volumes</td><td>Charged even if EC2 stopped</td></tr>
<tr><td>Elastic IP not attached</td><td>Charged</td></tr>
<tr><td>NAT Gateway</td><td><strong>Always paid</strong> âŒ</td></tr>
<tr><td>Load Balancer</td><td>Charged hourly âŒ</td></tr>
<tr><td>Old snapshots</td><td>Storage cost</td></tr>
<tr><td>Stopped EC2</td><td>EBS still billed</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-step-1-check-what-is-currently-running"><a class="header" href="#-step-1-check-what-is-currently-running">ğŸ”¹ STEP 1: CHECK WHAT IS CURRENTLY RUNNING</a></h3>
<p>Go to:</p>
<ul>
<li>EC2 â†’ <strong>Instances</strong></li>
</ul>
<blockquote>
<p>Action:</p>
</blockquote>
<ul>
<li>Keep <strong>only 1 required EC2</strong></li>
<li>Stop or terminate others</li>
</ul>
<p>ğŸ“Œ Recommendation:</p>
<ul>
<li>Keep <code>ec2-hands-on-1</code></li>
<li>Stop learning/test EC2s</li>
</ul>
<hr>
<h3 id="-step-2-clean-up-load-balancer-important"><a class="header" href="#-step-2-clean-up-load-balancer-important">ğŸ”¹ STEP 2: CLEAN UP LOAD BALANCER (IMPORTANT)</a></h3>
<ol>
<li>EC2 â†’ <strong>Load Balancers</strong></li>
<li>Delete:</li>
</ol>
<pre><code>alb-ec2-hands-on
</code></pre>
<p>ğŸ“Œ ALB is <strong>NOT free tier</strong></p>
<hr>
<h3 id="-step-3-clean-up-auto-scaling"><a class="header" href="#-step-3-clean-up-auto-scaling">ğŸ”¹ STEP 3: CLEAN UP AUTO SCALING</a></h3>
<ol>
<li>EC2 â†’ <strong>Auto Scaling Groups</strong></li>
<li>Delete:</li>
</ol>
<pre><code>asg-ec2-hands-on
</code></pre>
<p>ğŸ“Œ This also terminates ASG EC2s</p>
<hr>
<h3 id="-step-4-delete-unused-ebs-volumes"><a class="header" href="#-step-4-delete-unused-ebs-volumes">ğŸ”¹ STEP 4: DELETE UNUSED EBS VOLUMES</a></h3>
<ol>
<li>EC2 â†’ <strong>Volumes</strong></li>
<li>Delete:</li>
</ol>
<ul>
<li>Volumes not attached to any EC2</li>
<li>Old test volumes</li>
</ul>
<p>ğŸ“Œ Look for:</p>
<pre><code>State: available
</code></pre>
<hr>
<h3 id="-step-5-delete-old-snapshots"><a class="header" href="#-step-5-delete-old-snapshots">ğŸ”¹ STEP 5: DELETE OLD SNAPSHOTS</a></h3>
<ol>
<li>EC2 â†’ <strong>Snapshots</strong></li>
<li>Delete:</li>
</ol>
<ul>
<li>Test snapshots</li>
<li>Old backups you donâ€™t need</li>
</ul>
<p>ğŸ“Œ Snapshots accumulate cost silently</p>
<hr>
<h3 id="-step-6-release-unused-elastic-ips"><a class="header" href="#-step-6-release-unused-elastic-ips">ğŸ”¹ STEP 6: RELEASE UNUSED ELASTIC IPs</a></h3>
<ol>
<li>EC2 â†’ <strong>Elastic IPs</strong></li>
<li>If any EIP is:</li>
</ol>
<pre><code>Not associated
</code></pre>
<p>â†’ <strong>Release it</strong></p>
<p>ğŸ“Œ Unattached EIP = charged</p>
<hr>
<h3 id="-step-7-check-nat-gateway-critical"><a class="header" href="#-step-7-check-nat-gateway-critical">ğŸ”¹ STEP 7: CHECK NAT GATEWAY (CRITICAL)</a></h3>
<ol>
<li>VPC â†’ <strong>NAT Gateways</strong></li>
<li>If exists â†’ <strong>DELETE</strong></li>
</ol>
<p>âš ï¸ NAT Gateway is <strong>expensive</strong>
(~â‚¹3â€“4 per hour)</p>
<hr>
<h3 id="-step-8-set-billing-alert-must-do"><a class="header" href="#-step-8-set-billing-alert-must-do">ğŸ”¹ STEP 8: SET BILLING ALERT (MUST DO)</a></h3>
<blockquote>
<p>Enable Billing Alerts</p>
</blockquote>
<ol>
<li>Billing â†’ <strong>Billing preferences</strong></li>
<li>Enable:</li>
</ol>
<pre><code>Receive Billing Alerts
</code></pre>
<hr>
<blockquote>
<p>Create Budget Alert</p>
</blockquote>
<ol>
<li>Billing â†’ <strong>Budgets</strong></li>
<li>Create budget:</li>
</ol>
<pre><code>Monthly cost budget = $5
</code></pre>
<ol start="3">
<li>Email notification â†’ Your email</li>
</ol>
<p>ğŸ“Œ Youâ€™ll get alert <strong>before bill increases</strong></p>
<hr>
<h3 id="-safe-free-tier-setup-recommended"><a class="header" href="#-safe-free-tier-setup-recommended">ğŸ§  SAFE FREE TIER SETUP (RECOMMENDED)</a></h3>
<p>âœ” 1 EC2 (t2/t3.micro)
âœ” No ALB
âœ” No NAT Gateway
âœ” Minimal EBS (â‰¤ 30 GB)
âœ” Stop EC2 when not needed</p>
<hr>
<h3 id="-interview-ready-answer-24"><a class="header" href="#-interview-ready-answer-24">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>To stay within the EC2 Free Tier, I monitor running hours, clean up unused EBS volumes, snapshots, Elastic IPs, and disable paid services like Load Balancers and NAT Gateways. I also configure AWS Budgets and billing alerts to avoid unexpected charges.</p>
</blockquote>
<hr>
<h3 id="-final-warning-important"><a class="header" href="#-final-warning-important">âš ï¸ FINAL WARNING (IMPORTANT)</a></h3>
<p>AWS <strong>will NOT stop services automatically</strong>
Responsibility is <strong>yours</strong></p>
<p>ğŸ‘‰ This lab saves real money ğŸ’°</p>
<hr>
<h3 id="-lab-34-task-checklist"><a class="header" href="#-lab-34-task-checklist">âœ… LAB 34 TASK CHECKLIST</a></h3>
<p>âœ” Checked EC2 running hours
âœ” Deleted ALB &amp; ASG
âœ” Cleaned EBS volumes
âœ” Removed snapshots
âœ” Released Elastic IPs
âœ” Set billing alert</p>
<hr>
<h2 id="-ec2-hands-on--lab-35"><a class="header" href="#-ec2-hands-on--lab-35">ğŸ§ª EC2 HANDS-ON â€“ LAB 35</a></h2>
<h3 id="-production-ec2-architecture-end-to-end-real-world-setup"><a class="header" href="#-production-ec2-architecture-end-to-end-real-world-setup">ğŸ‘‰ Production EC2 Architecture (End-to-End Real-World Setup)</a></h3>
<p><img src="https://d2908q01vomqb2.cloudfront.net/fc074d501302eb2b93e2554793fcaf50b3bf7291/2024/01/22/fig1-behavior-driven-1011x1024.png" alt="Image"></p>
<p><img src="https://miro.medium.com/1%2AifiYukOoHlwdBXx5TBjs3w.png" alt="Image"></p>
<p><img src="https://docs.aws.amazon.com/images/vpc/latest/userguide/images/vpc-example-private-subnets.png" alt="Image"></p>
<p><img src="https://miro.medium.com/v2/resize%3Afit%3A1400/1%2AyoIjlItsVh-8Erp5MJO5WA.png" alt="Image"></p>
<hr>
<h3 id="-project-goal"><a class="header" href="#-project-goal">ğŸ¯ Project Goal</a></h3>
<p>Design and understand a <strong>secure, scalable, highly available, and cost-optimized EC2 production architecture</strong> â€” exactly what companies use.</p>
<p>By the end, youâ€™ll be able to:</p>
<ul>
<li><strong>Design EC2 architecture from scratch</strong></li>
<li><strong>Explain every component confidently</strong></li>
<li><strong>Answer real interview system-design questions</strong></li>
<li><strong>Operate EC2 like a production engineer</strong></li>
</ul>
<hr>
<h3 id="-final-architecture-what-you-built"><a class="header" href="#-final-architecture-what-you-built">ğŸ—ï¸ FINAL ARCHITECTURE (WHAT YOU BUILT)</a></h3>
<pre><code>Users
  â†“
Route 53 (DNS)
  â†“
Application Load Balancer (Multi-AZ, Public Subnets)
  â†“
Auto Scaling Group (Multi-AZ)
  â†“
EC2 Instances (Private Subnets)
  â†“
EBS (Persistent Storage)

Security &amp; Ops:
- IAM Roles (no keys)
- Session Manager (no SSH)
- CloudWatch (metrics, logs, alarms)
- Patch Manager (automated updates)
- Backups (Snapshots + AMIs)
</code></pre>
<hr>
<h3 id="-component-breakdown-real-world-view"><a class="header" href="#-component-breakdown-real-world-view">ğŸ”¹ COMPONENT BREAKDOWN (REAL-WORLD VIEW)</a></h3>
<blockquote>
<p>1ï¸âƒ£ <strong>VPC &amp; Networking</strong></p>
</blockquote>
<ul>
<li>
<p><strong>Public Subnets</strong></p>
<ul>
<li>ALB</li>
<li>Bastion (optional / legacy)</li>
</ul>
</li>
<li>
<p><strong>Private Subnets</strong></p>
<ul>
<li>EC2 instances (no public IP)</li>
</ul>
</li>
<li>
<p><strong>Internet Gateway</strong> â†’ Internet access for ALB</p>
</li>
<li>
<p><strong>NAT Gateway</strong> â†’ Outbound internet for private EC2 (optional in prod)</p>
</li>
</ul>
<p>âœ… Result: <strong>No EC2 exposed to the internet</strong></p>
<hr>
<blockquote>
<p>2ï¸âƒ£ <strong>Compute Layer (EC2)</strong></p>
</blockquote>
<ul>
<li>EC2 launched via <strong>Auto Scaling Group</strong></li>
<li>Uses <strong>Golden AMI</strong></li>
<li>Stateless design</li>
<li>Automatically replaced if unhealthy</li>
</ul>
<p>âœ… Result: <strong>Self-healing compute layer</strong></p>
<hr>
<blockquote>
<p>3ï¸âƒ£ <strong>Load Balancing</strong></p>
</blockquote>
<ul>
<li><strong>Application Load Balancer</strong></li>
<li>Multi-AZ</li>
<li>Health checks</li>
<li>Routes traffic only to healthy EC2s</li>
</ul>
<p>âœ… Result: <strong>Zero-downtime traffic handling</strong></p>
<hr>
<blockquote>
<p>4ï¸âƒ£ <strong>Scaling</strong></p>
</blockquote>
<ul>
<li>Auto Scaling Group</li>
<li>CloudWatch CPU metrics</li>
<li>Scale out during load</li>
<li>Scale in during low traffic</li>
</ul>
<p>âœ… Result: <strong>Performance + cost efficiency</strong></p>
<hr>
<blockquote>
<p>5ï¸âƒ£ <strong>Security</strong></p>
</blockquote>
<ul>
<li><strong>IAM Roles</strong> (no access keys)</li>
<li><strong>Session Manager</strong> (no SSH, no port 22)</li>
<li>Security Groups (least privilege)</li>
<li>Private subnets for EC2</li>
</ul>
<p>âœ… Result: <strong>Enterprise-grade security</strong></p>
<hr>
<blockquote>
<p>6ï¸âƒ£ <strong>Monitoring &amp; Logs</strong></p>
</blockquote>
<ul>
<li>CloudWatch Metrics (CPU, Network)</li>
<li>CloudWatch Alarms (alerts, scaling)</li>
<li>CloudWatch Logs (Apache / app logs)</li>
</ul>
<p>âœ… Result: <strong>Fast troubleshooting &amp; observability</strong></p>
<hr>
<blockquote>
<p>7ï¸âƒ£ <strong>Patch Management</strong></p>
</blockquote>
<ul>
<li>AWS Systems Manager Patch Manager</li>
<li>Scan &amp; install patches</li>
<li>Maintenance windows</li>
</ul>
<p>âœ… Result: <strong>Always-patched, compliant servers</strong></p>
<hr>
<blockquote>
<p>8ï¸âƒ£ <strong>Backup &amp; Recovery</strong></p>
</blockquote>
<ul>
<li><strong>EBS Snapshots</strong> â†’ data backup</li>
<li><strong>AMIs</strong> â†’ full server backup</li>
<li>Restore testing strategy</li>
</ul>
<p>âœ… Result: <strong>Disaster-ready architecture</strong></p>
<hr>
<blockquote>
<p>9ï¸âƒ£ <strong>Cost Optimization</strong></p>
</blockquote>
<ul>
<li>Right-sized instances</li>
<li>Auto Scaling</li>
<li>Spot instances (for non-critical workloads)</li>
<li>Billing alerts</li>
<li>Free-tier safety cleanup</li>
</ul>
<p>âœ… Result: <strong>No surprise bills</strong></p>
<hr>
<h3 id="-interview-ready-system-design-answer--gold-"><a class="header" href="#-interview-ready-system-design-answer--gold-">ğŸ§  INTERVIEW-READY SYSTEM DESIGN ANSWER (â­ GOLD â­)</a></h3>
<blockquote>
<p>â€œI design EC2 architectures using a VPC with public and private subnets, place an Application Load Balancer in public subnets, and run EC2 instances in private subnets via Auto Scaling Groups across multiple Availability Zones. I use IAM roles instead of access keys, Session Manager instead of SSH, CloudWatch for monitoring, Systems Manager for patching, and EBS snapshots plus AMIs for backup. This ensures high availability, security, scalability, and cost efficiency.â€</p>
</blockquote>
<hr>
<h3 id="-what-you-have-mastered-big-list"><a class="header" href="#-what-you-have-mastered-big-list">ğŸ§  WHAT YOU HAVE MASTERED (BIG LIST)</a></h3>
<p>âœ… EC2 fundamentals
âœ… SSH, Key Pairs, Session Manager
âœ… Security Groups &amp; NACLs
âœ… EBS, Snapshots, AMIs
âœ… User Data automation
âœ… Multi-AZ architecture
âœ… Load Balancers
âœ… Auto Scaling
âœ… CloudWatch monitoring &amp; alarms
âœ… Logs &amp; troubleshooting
âœ… IAM roles &amp; security
âœ… Patch management
âœ… Backup &amp; DR
âœ… Cost optimization
âœ… Free tier safety
âœ… <strong>Production EC2 architecture</strong></p>
<hr>
<h2 id="-ec2-hands-on--lab-36"><a class="header" href="#-ec2-hands-on--lab-36">ğŸ§ª EC2 HANDS-ON â€“ LAB 36</a></h2>
<h3 id="-host-a-full-web-app-frontend--backend-on-ec2"><a class="header" href="#-host-a-full-web-app-frontend--backend-on-ec2">ğŸ‘‰ Host a Full Web App (Frontend + Backend) on EC2</a></h3>
<p><img src="https://d2908q01vomqb2.cloudfront.net/fc074d501302eb2b93e2554793fcaf50b3bf7291/2022/08/05/Figure-1.-Deployment-governance-with-central-pattern-library-.png" alt="Image"></p>
<p><img src="https://miro.medium.com/1%2Aki8le6nVL5v7nwmcoHaeCw.jpeg" alt="Image"></p>
<p><img src="https://miro.medium.com/v2/resize%3Afit%3A1400/1%2Aa_XgUsoWzOncjIyxZrl3EQ.png" alt="Image"></p>
<p><img src="https://miro.medium.com/v2/resize%3Afit%3A1200/1%2APiKju7IfaXVZc8e8DNwjJw.jpeg" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-36"><a class="header" href="#-objective-of-lab-36">ğŸ¯ Objective of LAB 36</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Deploy a <strong>real frontend + backend</strong></li>
<li>Run backend on a <strong>custom port</strong></li>
<li>Use <strong>Nginx as reverse proxy</strong></li>
<li>Access the app via <strong>single public URL</strong></li>
<li>Understand <strong>real-world EC2 app hosting</strong></li>
</ul>
<hr>
<h3 id="-architecture-what-we-are-building"><a class="header" href="#-architecture-what-we-are-building">ğŸ§  Architecture (What We Are Building)</a></h3>
<pre><code>Browser
  â†“
Nginx (Port 80)
  â†“
Backend API (Node.js â€“ Port 3000)
</code></pre>
<p>ğŸ“Œ Frontend served by <strong>Nginx</strong>
ğŸ“Œ Backend runs separately
ğŸ“Œ User never sees backend port</p>
<hr>
<h3 id="-tech-stack-simple--practical"><a class="header" href="#-tech-stack-simple--practical">ğŸ”¹ Tech Stack (Simple &amp; Practical)</a></h3>
<ul>
<li><strong>Frontend</strong>: Static HTML</li>
<li><strong>Backend</strong>: Node.js (Express)</li>
<li><strong>Web Server / Proxy</strong>: Nginx</li>
<li><strong>Server</strong>: EC2 (Amazon Linux)</li>
</ul>
<p>ğŸ‘‰ This setup is <strong>very common in real companies</strong></p>
<hr>
<h3 id="-step-1-use-a-clean-ec2-instance"><a class="header" href="#-step-1-use-a-clean-ec2-instance">ğŸ”¹ STEP 1: Use a CLEAN EC2 Instance</a></h3>
<p>Use:</p>
<pre><code>ec2-hands-on-1
</code></pre>
<p>Make sure:</p>
<ul>
<li>Instance is <strong>running</strong></li>
<li>Port <strong>80 allowed</strong> in Security Group</li>
<li>You can connect via <strong>Session Manager or SSH</strong></li>
</ul>
<hr>
<h3 id="-step-2-install-required-software"><a class="header" href="#-step-2-install-required-software">ğŸ”¹ STEP 2: Install Required Software</a></h3>
<blockquote>
<p>Connect to EC2</p>
</blockquote>
<pre><code class="language-bash">ssh -i ec2-key-hands-on.pem ec2-user@PUBLIC_IP
</code></pre>
<blockquote>
<p>Update OS</p>
</blockquote>
<pre><code class="language-bash">sudo dnf update -y
</code></pre>
<blockquote>
<p>Install Node.js</p>
</blockquote>
<pre><code class="language-bash">sudo dnf install nodejs -y
</code></pre>
<p>ğŸ“Œ <code>nodejs</code> â†’ runtime for backend
ğŸ“Œ Comes with <code>npm</code></p>
<p>Verify:</p>
<pre><code class="language-bash">node -v
npm -v
</code></pre>
<hr>
<h3 id="-step-3-create-backend-application"><a class="header" href="#-step-3-create-backend-application">ğŸ”¹ STEP 3: Create Backend Application</a></h3>
<blockquote>
<p>Create app folder</p>
</blockquote>
<pre><code class="language-bash">mkdir backend
cd backend
</code></pre>
<blockquote>
<p>Initialize Node project</p>
</blockquote>
<pre><code class="language-bash">npm init -y
</code></pre>
<p>ğŸ“Œ Creates <code>package.json</code></p>
<hr>
<blockquote>
<p>Install Express</p>
</blockquote>
<pre><code class="language-bash">npm install express
</code></pre>
<hr>
<blockquote>
<p>Create Backend File</p>
</blockquote>
<pre><code class="language-bash">nano index.js
</code></pre>
<p>Paste this:</p>
<pre><code class="language-js">const express = require('express');
const app = express();

app.get('/api/hello', (req, res) =&gt; {
  res.json({ message: 'Hello from Backend API ğŸš€' });
});

app.listen(3000, () =&gt; {
  console.log('Backend running on port 3000');
});
</code></pre>
<p>Save â†’ <strong>CTRL + X â†’ Y â†’ Enter</strong></p>
<hr>
<blockquote>
<p>Run Backend</p>
</blockquote>
<pre><code class="language-bash">node index.js
</code></pre>
<p>You should see:</p>
<pre><code>Backend running on port 3000
</code></pre>
<hr>
<h3 id="-step-4-test-backend-directly-important"><a class="header" href="#-step-4-test-backend-directly-important">ğŸ”¹ STEP 4: Test Backend Directly (Important)</a></h3>
<p>Open browser:</p>
<pre><code>http://PUBLIC_IP:3000/api/hello
</code></pre>
<p>Expected output:</p>
<pre><code class="language-json">{"message":"Hello from Backend API ğŸš€"}
</code></pre>
<p>âœ… Backend works</p>
<hr>
<h3 id="-step-5-install--configure-nginx-frontend--proxy"><a class="header" href="#-step-5-install--configure-nginx-frontend--proxy">ğŸ”¹ STEP 5: Install &amp; Configure Nginx (Frontend + Proxy)</a></h3>
<blockquote>
<p>Install Nginx</p>
</blockquote>
<pre><code class="language-bash">sudo dnf install nginx -y
</code></pre>
<p>Start &amp; enable:</p>
<pre><code class="language-bash">sudo systemctl start nginx
sudo systemctl enable nginx
</code></pre>
<hr>
<h3 id="-step-6-create-frontend-page"><a class="header" href="#-step-6-create-frontend-page">ğŸ”¹ STEP 6: Create Frontend Page</a></h3>
<pre><code class="language-bash">sudo nano /usr/share/nginx/html/index.html
</code></pre>
<p>Paste:</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;EC2 Full Stack App&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Frontend on EC2 ğŸ‰&lt;/h1&gt;
  &lt;button onclick="callApi()"&gt;Call Backend&lt;/button&gt;
  &lt;p id="result"&gt;&lt;/p&gt;

  &lt;script&gt;
    function callApi() {
      fetch('/api/hello')
        .then(res =&gt; res.json())
        .then(data =&gt; {
          document.getElementById('result').innerText = data.message;
        });
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Save &amp; exit</p>
<hr>
<h3 id="-step-7-configure-nginx-as-reverse-proxy-most-important"><a class="header" href="#-step-7-configure-nginx-as-reverse-proxy-most-important">ğŸ”¹ STEP 7: Configure Nginx as Reverse Proxy (MOST IMPORTANT)</a></h3>
<p>Edit config:</p>
<pre><code class="language-bash">sudo nano /etc/nginx/conf.d/app.conf
</code></pre>
<p>Paste:</p>
<pre><code class="language-nginx">server {
    listen 80;

    location / {
        root /usr/share/nginx/html;
        index index.html;
    }

    location /api/ {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
</code></pre>
<p>Save &amp; exit</p>
<hr>
<blockquote>
<p>Restart Nginx</p>
</blockquote>
<pre><code class="language-bash">sudo nginx -t
sudo systemctl restart nginx
</code></pre>
<p>ğŸ“Œ <code>nginx -t</code> â†’ checks config (VERY IMPORTANT)</p>
<hr>
<h3 id="-step-8-final-test-big-moment-"><a class="header" href="#-step-8-final-test-big-moment-">ğŸ”¹ STEP 8: FINAL TEST (BIG MOMENT ğŸ‰)</a></h3>
<p>Open browser:</p>
<pre><code>http://PUBLIC_IP
</code></pre>
<p>1ï¸âƒ£ Frontend loads
2ï¸âƒ£ Click <strong>Call Backend</strong>
3ï¸âƒ£ You see:</p>
<pre><code>Hello from Backend API ğŸš€
</code></pre>
<p>ğŸ‰ <strong>FULL STACK APP IS LIVE ON EC2</strong></p>
<hr>
<h3 id="-real-world-learning-important"><a class="header" href="#-real-world-learning-important">ğŸ§  REAL-WORLD LEARNING (IMPORTANT)</a></h3>
<p>âœ” Backend runs independently
âœ” Nginx hides backend port
âœ” One clean public URL
âœ” Same pattern used with React / Spring Boot</p>
<hr>
<h3 id="-interview-ready-answer-25"><a class="header" href="#-interview-ready-answer-25">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>I deployed a full-stack application on EC2 using Nginx as a reverse proxy. The frontend is served on port 80, while the backend API runs on a separate port and is securely accessed through Nginx.</p>
</blockquote>
<hr>
<h3 id="-lab-36-task-checklist"><a class="header" href="#-lab-36-task-checklist">âœ… LAB 36 TASK CHECKLIST</a></h3>
<p>âœ” Backend API running
âœ” Frontend served via Nginx
âœ” Reverse proxy working
âœ” Single public endpoint
âœ” Real-world deployment experience</p>
<hr>
<h2 id="-ec2-hands-on--lab-37"><a class="header" href="#-ec2-hands-on--lab-37">ğŸ§ª EC2 HANDS-ON â€“ LAB 37</a></h2>
<h3 id="-ec2--rds-architecture-production-style-app--database"><a class="header" href="#-ec2--rds-architecture-production-style-app--database">ğŸ‘‰ EC2 + RDS Architecture (Production-Style App + Database)</a></h3>
<p><img src="https://dbseer.com/wp-content/uploads/2018/06/aws_RDS_Blueprint3-1024x719.png" alt="Image"></p>
<p><img src="https://www.beabetterdev.com/wp-content/uploads/2022/12/image-13-1024x538.png" alt="Image"></p>
<p><img src="https://docs.aws.amazon.com/images/AWSEC2/latest/UserGuide/images/ec2-rds-tutorial-architecture.png" alt="Image"></p>
<p><img src="https://awstut.com/s3/wp-content/uploads/2022/03/11210816/soa-05-001-diagram.webp" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-37"><a class="header" href="#-objective-of-lab-37">ğŸ¯ Objective of LAB 37</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>why databases should NOT run on EC2</strong></li>
<li>Deploy <strong>Amazon RDS</strong> in a <strong>private subnet</strong></li>
<li>Connect <strong>EC2 â†’ RDS securely</strong></li>
<li>Use <strong>Security Group chaining</strong></li>
<li>Be able to explain <strong>real production architecture</strong></li>
</ul>
<hr>
<h3 id="-first-why-ec2--rds-very-important"><a class="header" href="#-first-why-ec2--rds-very-important">ğŸ§  FIRST: Why EC2 + RDS? (Very Important)</a></h3>
<p>âŒ Database on EC2:</p>
<ul>
<li>Manual backup</li>
<li>Manual patching</li>
<li>Manual scaling</li>
<li>High risk</li>
</ul>
<p>âœ… <strong>Amazon RDS</strong>:</p>
<ul>
<li>Managed backups</li>
<li>Automatic patching</li>
<li>High availability</li>
<li>Secure by default</li>
</ul>
<p>Think like:</p>
<blockquote>
<p>EC2 = App server ğŸ§ 
RDS = Managed database ğŸ—„ï¸</p>
</blockquote>
<hr>
<h3 id="-architecture-what-we-are-building-1"><a class="header" href="#-architecture-what-we-are-building-1">ğŸ§  ARCHITECTURE (WHAT WE ARE BUILDING)</a></h3>
<pre><code>User
 â†“
ALB (Public Subnet)
 â†“
EC2 (Private Subnet)
 â†“
RDS (Private Subnet, NO public access)
</code></pre>
<p>ğŸ“Œ Database is <strong>never public</strong></p>
<hr>
<h3 id="-step-1-decide-rds-engine-simple-choice"><a class="header" href="#-step-1-decide-rds-engine-simple-choice">ğŸ”¹ STEP 1: Decide RDS Engine (Simple Choice)</a></h3>
<p>For learning:</p>
<ul>
<li>
<p>Engine â†’ <strong>MySQL</strong></p>
</li>
<li>
<p>Reason:</p>
<ul>
<li>Popular</li>
<li>Simple</li>
<li>Widely used in interviews</li>
</ul>
</li>
</ul>
<hr>
<h3 id="-step-2-create-rds-database"><a class="header" href="#-step-2-create-rds-database">ğŸ”¹ STEP 2: Create RDS Database</a></h3>
<ol>
<li>AWS Console â†’ Search <strong>RDS</strong></li>
<li>Click <strong>Create database</strong></li>
</ol>
<blockquote>
<p>Database creation method</p>
</blockquote>
<ul>
<li>Select â†’ <strong>Standard create</strong></li>
</ul>
<hr>
<blockquote>
<p>Engine options</p>
</blockquote>
<ul>
<li>Engine â†’ <strong>MySQL</strong></li>
</ul>
<hr>
<blockquote>
<p>Templates</p>
</blockquote>
<ul>
<li>Select â†’ <strong>Free tier</strong></li>
</ul>
<p>ğŸ“Œ This avoids billing issues</p>
<hr>
<blockquote>
<p>Settings</p>
</blockquote>
<ul>
<li>DB instance identifier:</li>
</ul>
<pre><code>ec2-app-db
</code></pre>
<ul>
<li>Master username:</li>
</ul>
<pre><code>admin
</code></pre>
<ul>
<li>Password â†’ set &amp; remember</li>
</ul>
<hr>
<blockquote>
<p>Instance configuration</p>
</blockquote>
<ul>
<li>DB instance class â†’ <code>db.t3.micro</code></li>
<li>Storage â†’ <strong>20 GB (default)</strong></li>
</ul>
<hr>
<h3 id="-step-3-network-settings-most-important"><a class="header" href="#-step-3-network-settings-most-important">ğŸ”¹ STEP 3: Network Settings (MOST IMPORTANT)</a></h3>
<blockquote>
<p>Connectivity</p>
</blockquote>
<ul>
<li>VPC â†’ your VPC</li>
<li>Subnet group â†’ <strong>default</strong></li>
<li>Public access â†’ âŒ <strong>No</strong></li>
</ul>
<p>ğŸ“Œ This ensures RDS is <strong>PRIVATE</strong></p>
<hr>
<blockquote>
<p>Security Group</p>
</blockquote>
<p>Create new SG:</p>
<pre><code>rds-sg
</code></pre>
<p>Inbound rule:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Type</th><th>Port</th><th>Source</th></tr>
</thead>
<tbody>
<tr><td>MySQL</td><td>3306</td><td><strong>EC2 Security Group</strong></td></tr>
</tbody>
</table>
</div>
<p>ğŸ“Œ <strong>SG â†’ SG reference</strong> (VERY IMPORTANT)</p>
<hr>
<h3 id="-step-4-create-database"><a class="header" href="#-step-4-create-database">ğŸ”¹ STEP 4: Create Database</a></h3>
<p>Click <strong>Create database</strong></p>
<p>â³ Wait 5â€“10 minutes
Status â†’ <strong>Available</strong></p>
<hr>
<h3 id="-step-5-get-rds-endpoint"><a class="header" href="#-step-5-get-rds-endpoint">ğŸ”¹ STEP 5: Get RDS Endpoint</a></h3>
<p>After creation:</p>
<ul>
<li>Copy <strong>Endpoint</strong>
Example:</li>
</ul>
<pre><code>ec2-app-db.xxxxx.ap-south-1.rds.amazonaws.com
</code></pre>
<p>ğŸ“Œ This replaces IP address</p>
<hr>
<h3 id="-step-6-connect-from-ec2-to-rds-hands-on"><a class="header" href="#-step-6-connect-from-ec2-to-rds-hands-on">ğŸ”¹ STEP 6: Connect from EC2 to RDS (Hands-On)</a></h3>
<p>SSH into EC2:</p>
<pre><code class="language-bash">ssh -i ec2-key-hands-on.pem ec2-user@EC2_PRIVATE_OR_PUBLIC_IP
</code></pre>
<p>Install MySQL client:</p>
<pre><code class="language-bash">sudo dnf install mysql -y
</code></pre>
<p>Connect to RDS:</p>
<pre><code class="language-bash">mysql -h RDS_ENDPOINT -u admin -p
</code></pre>
<p>Enter password</p>
<hr>
<blockquote>
<p>If login succeeds ğŸ‰</p>
</blockquote>
<p>Youâ€™ll see:</p>
<pre><code>mysql&gt;
</code></pre>
<p>âœ… EC2 â†’ RDS connectivity works
âŒ RDS still NOT accessible from internet</p>
<hr>
<h3 id="-step-7-create-test-database-optional"><a class="header" href="#-step-7-create-test-database-optional">ğŸ”¹ STEP 7: Create Test Database (Optional)</a></h3>
<p>Inside MySQL:</p>
<pre><code class="language-sql">CREATE DATABASE appdb;
USE appdb;
CREATE TABLE users (id INT, name VARCHAR(50));
</code></pre>
<p>Exit:</p>
<pre><code class="language-sql">exit
</code></pre>
<hr>
<h3 id="-security-proof-interview-gold"><a class="header" href="#-security-proof-interview-gold">ğŸ§  SECURITY PROOF (INTERVIEW GOLD)</a></h3>
<p>âœ” RDS has <strong>no public IP</strong>
âœ” Only EC2 SG can access RDS
âœ” Internet traffic blocked
âœ” Least privilege networking</p>
<hr>
<h3 id="-interview-ready-answer-26"><a class="header" href="#-interview-ready-answer-26">ğŸ§  INTERVIEW-READY ANSWER</a></h3>
<blockquote>
<p>In production, I deploy EC2 instances in private subnets and use Amazon RDS for the database. RDS is not publicly accessible and is secured using security group references so only the application EC2 instances can connect to it.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-19"><a class="header" href="#-common-mistakes-19">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Making RDS public
âŒ Using IP instead of SG reference
âŒ Running DB on EC2
âŒ Hardcoding DB credentials</p>
<hr>
<h3 id="-lab-37-task-checklist"><a class="header" href="#-lab-37-task-checklist">âœ… LAB 37 TASK CHECKLIST</a></h3>
<p>âœ” Created RDS MySQL instance
âœ” Disabled public access
âœ” Used SG-to-SG rule
âœ” Connected EC2 â†’ RDS
âœ” Understood production DB design</p>
<hr>
<h2 id="-ec2-hands-on--lab-38"><a class="header" href="#-ec2-hands-on--lab-38">ğŸ§ª EC2 HANDS-ON â€“ LAB 38</a></h2>
<h3 id="-ec2-zero-downtime-deployment-bluegreen-deployment"><a class="header" href="#-ec2-zero-downtime-deployment-bluegreen-deployment">ğŸ‘‰ EC2 Zero-Downtime Deployment (Blueâ€“Green Deployment)</a></h3>
<p><img src="https://docs.aws.amazon.com/images/whitepapers/latest/blue-green-deployments/images/blue-green-example.png" alt="Image"></p>
<p><img src="https://d2908q01vomqb2.cloudfront.net/7719a1c782a1ba91c031a682a0a2f8658209adbf/2020/10/27/Img1-1-876x630.png" alt="Image"></p>
<p><img src="https://blogs.perficient.com/files/Vijay-Blog.png" alt="Image"></p>
<p><img src="https://miro.medium.com/v2/resize%3Afit%3A1400/1%2AEHJ04DgG31R6prL3J5PGXA.jpeg" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-38"><a class="header" href="#-objective-of-lab-38">ğŸ¯ Objective of LAB 38</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Understand <strong>zero-downtime deployment</strong></li>
<li>Implement <strong>Blueâ€“Green deployment</strong> using ALB</li>
<li>Deploy a <strong>new app version without downtime</strong></li>
<li>Perform <strong>instant rollback</strong></li>
<li>Be <strong>senior-level interview ready</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-zero-downtime-deployment"><a class="header" href="#-first-what-is-zero-downtime-deployment">ğŸ§  FIRST: What is Zero-Downtime Deployment?</a></h3>
<p><strong>Zero-downtime deployment</strong> means:</p>
<ul>
<li>Users <strong>never see downtime</strong></li>
<li>App is updated <strong>while traffic is live</strong></li>
</ul>
<p>âŒ Old way:</p>
<pre><code>Stop app â†’ Deploy â†’ Start app â†’ Downtime
</code></pre>
<p>âœ… Modern way:</p>
<pre><code>Deploy new version â†’ Switch traffic â†’ Done
</code></pre>
<hr>
<h3 id="-what-is-bluegreen-deployment"><a class="header" href="#-what-is-bluegreen-deployment">ğŸ§  What is Blueâ€“Green Deployment?</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Environment</th><th>Meaning</th></tr>
</thead>
<tbody>
<tr><td><strong>Blue</strong></td><td>Current production version</td></tr>
<tr><td><strong>Green</strong></td><td>New version</td></tr>
</tbody>
</table>
</div>
<p>Traffic is switched using <strong>Load Balancer</strong>, not DNS.</p>
<p>Think like:</p>
<blockquote>
<p>Two roads ğŸ›£ï¸
Traffic signal switches instantly ğŸš¦</p>
</blockquote>
<hr>
<h3 id="-architecture-what-we-build"><a class="header" href="#-architecture-what-we-build">ğŸ§  ARCHITECTURE (WHAT WE BUILD)</a></h3>
<pre><code>Users
 â†“
Application Load Balancer
 â†“
Target Group â€“ BLUE (v1)
 â†“
Target Group â€“ GREEN (v2)
</code></pre>
<p>Only <strong>one target group receives traffic at a time</strong>.</p>
<hr>
<h3 id="-prerequisites-you-already-have-these-"><a class="header" href="#-prerequisites-you-already-have-these-">ğŸ”¹ PREREQUISITES (You already have these âœ…)</a></h3>
<p>âœ” Application Load Balancer
âœ” EC2 instances
âœ” Target Groups
âœ” App deployed (from LAB 36)</p>
<hr>
<h3 id="-step-1-identify-blue-current-version"><a class="header" href="#-step-1-identify-blue-current-version">ğŸ”¹ STEP 1: Identify BLUE (Current Version)</a></h3>
<p>Your current app:</p>
<pre><code>Hello from Backend API ğŸš€
</code></pre>
<p>This is <strong>BLUE (v1)</strong>.</p>
<p>Target Group:</p>
<pre><code>tg-ec2-hands-on
</code></pre>
<hr>
<h3 id="-step-2-create-green-target-group"><a class="header" href="#-step-2-create-green-target-group">ğŸ”¹ STEP 2: Create GREEN Target Group</a></h3>
<ol>
<li>EC2 â†’ <strong>Target Groups</strong></li>
<li>Click <strong>Create target group</strong></li>
</ol>
<blockquote>
<p>Settings</p>
</blockquote>
<ul>
<li>Target type â†’ Instances</li>
<li>Name:</li>
</ul>
<pre><code>tg-green-v2
</code></pre>
<ul>
<li>Protocol â†’ HTTP</li>
<li>Port â†’ 80</li>
<li>Health check path:</li>
</ul>
<pre><code>/api/hello
</code></pre>
<p>Click <strong>Create</strong></p>
<hr>
<h3 id="-step-3-launch-green-ec2-new-version"><a class="header" href="#-step-3-launch-green-ec2-new-version">ğŸ”¹ STEP 3: Launch GREEN EC2 (New Version)</a></h3>
<p>Launch <strong>new EC2 instance</strong>:</p>
<ul>
<li>Name:</li>
</ul>
<pre><code>ec2-green-v2
</code></pre>
<ul>
<li>AMI â†’ Amazon Linux</li>
<li>Instance type â†’ t2/t3.micro</li>
<li>Security Group â†’ same as BLUE EC2</li>
<li>User data (IMPORTANT):</li>
</ul>
<pre><code class="language-bash">#!/bin/bash
dnf install nodejs nginx -y
mkdir /backend
cd /backend
npm init -y
npm install express
cat &lt;&lt;EOF &gt; index.js
const express = require('express');
const app = express();
app.get('/api/hello', (req, res) =&gt; {
  res.json({ message: 'Hello from GREEN v2 ğŸš€' });
});
app.listen(3000);
EOF
node index.js &amp;
</code></pre>
<p>ğŸ“Œ This EC2 runs <strong>NEW VERSION</strong></p>
<hr>
<h3 id="-step-4-register-green-ec2-to-green-target-group"><a class="header" href="#-step-4-register-green-ec2-to-green-target-group">ğŸ”¹ STEP 4: Register GREEN EC2 to GREEN Target Group</a></h3>
<ol>
<li>Target Groups â†’ <code>tg-green-v2</code></li>
<li>Register targets</li>
<li>Select:</li>
</ol>
<pre><code>ec2-green-v2
</code></pre>
<ol start="4">
<li>Include â†’ Register</li>
</ol>
<p>Wait until status:</p>
<pre><code>Healthy
</code></pre>
<hr>
<h3 id="-step-5-test-green-without-users"><a class="header" href="#-step-5-test-green-without-users">ğŸ”¹ STEP 5: Test GREEN WITHOUT USERS</a></h3>
<p>Open GREEN EC2 public IP:</p>
<pre><code>http://GREEN_EC2_IP:3000/api/hello
</code></pre>
<p>Output:</p>
<pre><code>Hello from GREEN v2 ğŸš€
</code></pre>
<p>âœ” New version works
âœ” Users are still on BLUE</p>
<hr>
<h3 id="-step-6-switch-traffic-zero-downtime"><a class="header" href="#-step-6-switch-traffic-zero-downtime">ğŸ”¹ STEP 6: SWITCH TRAFFIC (ZERO DOWNTIME)</a></h3>
<ol>
<li>EC2 â†’ <strong>Load Balancers</strong></li>
<li>Select your ALB</li>
<li>Go to <strong>Listeners</strong></li>
<li>Edit HTTP : 80 rule</li>
</ol>
<p>Change:</p>
<pre><code>Forward to tg-ec2-hands-on (BLUE)
</code></pre>
<p>â¡ï¸ to:</p>
<pre><code>Forward to tg-green-v2 (GREEN)
</code></pre>
<p>Save</p>
<p>ğŸ‰ <strong>Traffic switched instantly</strong></p>
<hr>
<h3 id="-step-7-verify-zero-downtime"><a class="header" href="#-step-7-verify-zero-downtime">ğŸ”¹ STEP 7: VERIFY ZERO DOWNTIME</a></h3>
<p>Open ALB DNS:</p>
<pre><code>http://ALB_DNS_NAME
</code></pre>
<p>Now response:</p>
<pre><code>Hello from GREEN v2 ğŸš€
</code></pre>
<p>âœ” No downtime
âœ” No restart
âœ” No user impact</p>
<hr>
<h3 id="-step-8-rollback-critical-skill"><a class="header" href="#-step-8-rollback-critical-skill">ğŸ”¹ STEP 8: ROLLBACK (CRITICAL SKILL)</a></h3>
<p>If GREEN fails:</p>
<ul>
<li>Switch ALB listener back to BLUE target group</li>
</ul>
<p>â±ï¸ Rollback time:</p>
<pre><code>&lt; 10 seconds
</code></pre>
<hr>
<h3 id="-real-world-usage"><a class="header" href="#-real-world-usage">ğŸ§  REAL-WORLD USAGE</a></h3>
<p>âœ” Feature releases
âœ” Bug fixes
âœ” Config changes
âœ” Emergency rollback</p>
<p>Used daily in:</p>
<ul>
<li>FinTech</li>
<li>E-commerce</li>
<li>SaaS platforms</li>
</ul>
<hr>
<h3 id="-interview-ready-answer--gold"><a class="header" href="#-interview-ready-answer--gold">ğŸ§  INTERVIEW-READY ANSWER (â­ GOLD)</a></h3>
<blockquote>
<p>Blueâ€“Green deployment is a zero-downtime strategy where two identical environments are maintained. Traffic is switched between them using a load balancer, allowing instant deployment and rollback without impacting users.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-20"><a class="header" href="#-common-mistakes-20">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ Deploying directly on prod EC2
âŒ No rollback plan
âŒ DNS-based switching (slow)
âŒ No health checks</p>
<hr>
<h3 id="-lab-38-task-checklist"><a class="header" href="#-lab-38-task-checklist">âœ… LAB 38 TASK CHECKLIST</a></h3>
<p>âœ” Created GREEN environment
âœ” Deployed new version
âœ” Switched traffic via ALB
âœ” Verified zero downtime
âœ” Learned rollback strategy</p>
<hr>
<h2 id="-ec2-hands-on--lab-39"><a class="header" href="#-ec2-hands-on--lab-39">ğŸ§ª EC2 HANDS-ON â€“ LAB 39</a></h2>
<h3 id="-ec2-failure-recovery-simulation-crash--auto-recovery"><a class="header" href="#-ec2-failure-recovery-simulation-crash--auto-recovery">ğŸ‘‰ EC2 Failure Recovery Simulation (Crash â†’ Auto Recovery)</a></h3>
<p><img src="https://d2908q01vomqb2.cloudfront.net/fc074d501302eb2b93e2554793fcaf50b3bf7291/2021/05/13/Figure-2.-Pilot-light-DR-strategy.png" alt="Image"></p>
<p><img src="https://miro.medium.com/1%2AQqNjFvomy1ZcVnJ_y8yPrQ.png" alt="Image"></p>
<p><img src="https://d2908q01vomqb2.cloudfront.net/972a67c48192728a34979d9a35164c1295401b71/2017/10/03/step2.png" alt="Image"></p>
<p><img src="https://cloudonaut.io/images/2015/11/fig_ec2_recovery_failover.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-39"><a class="header" href="#-objective-of-lab-39">ğŸ¯ Objective of LAB 39</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Simulate <strong>real EC2 failure</strong></li>
<li>Observe <strong>Auto Scaling self-healing</strong></li>
<li>Recover using <strong>AMI / Snapshot</strong></li>
<li>Think like an <strong>on-call production engineer</strong></li>
<li>Confidently answer <strong>â€œWhat if EC2 goes down?â€</strong></li>
</ul>
<hr>
<h3 id="-first-what-is-ec2-failure"><a class="header" href="#-first-what-is-ec2-failure">ğŸ§  FIRST: What is EC2 Failure?</a></h3>
<p>EC2 failure can happen due to:</p>
<ul>
<li>OS crash</li>
<li>Application crash</li>
<li>Instance termination</li>
<li>AZ issue</li>
<li>Human error âŒ</li>
</ul>
<p>â— <strong>Failures WILL happen</strong>
âœ” Good architecture = fast recovery</p>
<hr>
<h3 id="-recovery-strategies-must-know"><a class="header" href="#-recovery-strategies-must-know">ğŸ§  RECOVERY STRATEGIES (MUST KNOW)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Failure Type</th><th>Recovery</th></tr>
</thead>
<tbody>
<tr><td>App crash</td><td>Restart / ALB health check</td></tr>
<tr><td>EC2 crash</td><td>Auto Scaling replace</td></tr>
<tr><td>Disk issue</td><td>Snapshot restore</td></tr>
<tr><td>AZ failure</td><td>Multi-AZ + ASG</td></tr>
<tr><td>Full loss</td><td>AMI â†’ new EC2</td></tr>
</tbody>
</table>
</div>
<hr>
<h3 id="-scenario-1-application-failure-no-ec2-stop"><a class="header" href="#-scenario-1-application-failure-no-ec2-stop">ğŸ”¹ SCENARIO 1: Application Failure (No EC2 Stop)</a></h3>
<blockquote>
<p>STEP 1: Break the App (Safe Test)</p>
</blockquote>
<p>SSH / Session Manager into EC2:</p>
<pre><code class="language-bash">sudo pkill node
</code></pre>
<p>ğŸ“Œ Backend app is now <strong>DOWN</strong></p>
<hr>
<blockquote>
<p>STEP 2: Observe ALB Behavior</p>
</blockquote>
<ul>
<li>Open ALB URL</li>
<li>Target Group â†’ Targets</li>
</ul>
<p>Result:</p>
<pre><code>Instance â†’ Unhealthy
</code></pre>
<p>âœ” ALB <strong>stops routing traffic</strong>
âœ” No user error (if multiple EC2s)</p>
<hr>
<blockquote>
<p>STEP 3: Fix App</p>
</blockquote>
<pre><code class="language-bash">node /backend/index.js &amp;
</code></pre>
<p>After 1â€“2 minutes:</p>
<pre><code>Healthy
</code></pre>
<p>ğŸ‰ App recovered <strong>without EC2 restart</strong></p>
<hr>
<h3 id="-scenario-2-ec2-failure-realistic"><a class="header" href="#-scenario-2-ec2-failure-realistic">ğŸ”¹ SCENARIO 2: EC2 FAILURE (REALISTIC)</a></h3>
<blockquote>
<p>STEP 4: TERMINATE an EC2 (âš ï¸ Real Failure)</p>
</blockquote>
<ol>
<li>EC2 â†’ Instances</li>
<li>Select one EC2 from ASG</li>
<li><strong>Terminate instance</strong></li>
</ol>
<hr>
<blockquote>
<p>STEP 5: Observe Auto Scaling (IMPORTANT)</p>
</blockquote>
<p>Go to:</p>
<ul>
<li>Auto Scaling Group â†’ <strong>Activity</strong></li>
</ul>
<p>You will see:</p>
<pre><code>Terminating EC2
Launching new EC2
</code></pre>
<p>ğŸ“Œ ASG <strong>automatically replaces</strong> the instance</p>
<hr>
<blockquote>
<p>STEP 6: Verify Recovery</p>
</blockquote>
<ul>
<li>New EC2 appears</li>
<li>Target Group â†’ <strong>Healthy</strong></li>
<li>App accessible via ALB</li>
</ul>
<p>ğŸ‰ <strong>Self-healing successful</strong></p>
<hr>
<h3 id="-scenario-3-data-recovery-critical-thinking"><a class="header" href="#-scenario-3-data-recovery-critical-thinking">ğŸ”¹ SCENARIO 3: DATA RECOVERY (CRITICAL THINKING)</a></h3>
<blockquote>
<p>What if data disk is lost?</p>
</blockquote>
<p>Recovery steps:</p>
<ol>
<li>Create volume from snapshot</li>
<li>Attach to new EC2</li>
<li>Mount volume</li>
<li>Resume service</li>
</ol>
<p>ğŸ“Œ This is why:
âœ” Snapshots
âœ” AMIs
âœ” Backups
are mandatory</p>
<hr>
<h3 id="-scenario-4-full-ec2-loss"><a class="header" href="#-scenario-4-full-ec2-loss">ğŸ”¹ SCENARIO 4: FULL EC2 LOSS</a></h3>
<p>If <strong>entire EC2 is gone</strong>:</p>
<p>Recovery:</p>
<pre><code>AMI â†’ Launch new EC2 â†’ Attach EBS â†’ Register with ALB
</code></pre>
<p>Recovery time:</p>
<pre><code>5â€“10 minutes
</code></pre>
<p>âœ” Business continues</p>
<hr>
<h3 id="-real-world-on-call-thinking"><a class="header" href="#-real-world-on-call-thinking">ğŸ§  REAL-WORLD ON-CALL THINKING</a></h3>
<p>When failure happens, ask:</p>
<ol>
<li>Is it app-level or infra-level?</li>
<li>Are health checks failing?</li>
<li>Is Auto Scaling reacting?</li>
<li>Is data safe?</li>
<li>Do we need rollback?</li>
</ol>
<hr>
<h3 id="-interview-ready-answer-very-important-2"><a class="header" href="#-interview-ready-answer-very-important-2">ğŸ§  INTERVIEW-READY ANSWER (VERY IMPORTANT)</a></h3>
<blockquote>
<p>If an EC2 instance fails, Auto Scaling Groups automatically replace it and the Application Load Balancer routes traffic only to healthy instances. Data is restored using EBS snapshots or AMIs, ensuring minimal downtime.</p>
</blockquote>
<hr>
<h3 id="-common-mistakes-21"><a class="header" href="#-common-mistakes-21">âš ï¸ COMMON MISTAKES</a></h3>
<p>âŒ No Auto Scaling
âŒ Single EC2 production
âŒ No snapshots
âŒ Panic instead of diagnosis</p>
<hr>
<h3 id="-lab-39-task-checklist"><a class="header" href="#-lab-39-task-checklist">âœ… LAB 39 TASK CHECKLIST</a></h3>
<p>âœ” Simulated app failure
âœ” Observed ALB health checks
âœ” Terminated EC2 manually
âœ” Observed ASG self-healing
âœ” Understood recovery paths</p>
<hr>
<h2 id="-ec2-hands-on--lab-40"><a class="header" href="#-ec2-hands-on--lab-40">ğŸ§ª EC2 HANDS-ON â€“ LAB 40</a></h2>
<h3 id="-ec2-interview-scenario-questions-real-world--system-design"><a class="header" href="#-ec2-interview-scenario-questions-real-world--system-design">ğŸ‘‰ EC2 Interview Scenario Questions (Real-World + System Design)</a></h3>
<p><img src="https://miro.medium.com/v2/resize%3Afit%3A1400/1%2AFNmbb4NsEvYZGyL0vuIKFg.png" alt="Image"></p>
<p><img src="https://media.geeksforgeeks.org/wp-content/uploads/20240828125156/GoogleSearchAutocomplete-3.jpg" alt="Image"></p>
<p><img src="https://d1tcczg8b21j1t.cloudfront.net/strapi-assets/Ec2_region_architecture_8e906eede7.png" alt="Image"></p>
<p><img src="https://www.netapp.com/media/qwertyuiuiopop_tcm19-127801.png" alt="Image"></p>
<hr>
<h3 id="-objective-of-lab-40"><a class="header" href="#-objective-of-lab-40">ğŸ¯ Objective of LAB 40</a></h3>
<p>By the end of this lab, you will:</p>
<ul>
<li>Answer <strong>real EC2 interview questions</strong></li>
<li>Explain <strong>WHY</strong>, not just <strong>WHAT</strong></li>
<li>Handle <strong>failure, scaling, security, cost</strong></li>
<li>Sound like someone with <strong>production experience</strong></li>
</ul>
<p>This is how interviews are actually conducted.</p>
<hr>
<h3 id="-how-to-use-this-lab-important"><a class="header" href="#-how-to-use-this-lab-important">ğŸ§  HOW TO USE THIS LAB (IMPORTANT)</a></h3>
<ul>
<li>Read the <strong>question</strong></li>
<li>Read the <strong>expected thinking</strong></li>
<li>Compare with your own understanding
If you can explain this <strong>out loud</strong>, you are ready.</li>
</ul>
<hr>
<h3 id="-scenario-1-your-ec2-application-is-down-what-do-you-check-first"><a class="header" href="#-scenario-1-your-ec2-application-is-down-what-do-you-check-first">ğŸ”¹ SCENARIO 1: â€œYour EC2 application is down. What do you check first?â€</a></h3>
<blockquote>
<p>âœ… Best Answer (Structured)</p>
</blockquote>
<ol>
<li><strong>Load Balancer health checks</strong></li>
<li><strong>Target Group status</strong></li>
<li><strong>CloudWatch alarms</strong></li>
<li><strong>Application logs</strong></li>
<li><strong>EC2 status checks</strong></li>
</ol>
<blockquote>
<p>âŒ Bad Answer</p>
</blockquote>
<blockquote>
<p>â€œI restart the EC2â€</p>
</blockquote>
<p>ğŸ“Œ <strong>Interview tip</strong>:
Always show <strong>diagnosis before action</strong></p>
<hr>
<h3 id="-scenario-2-how-do-you-design-ec2-for-high-availability"><a class="header" href="#-scenario-2-how-do-you-design-ec2-for-high-availability">ğŸ”¹ SCENARIO 2: â€œHow do you design EC2 for high availability?â€</a></h3>
<blockquote>
<p>âœ… Expected Answer</p>
</blockquote>
<ul>
<li>Multiple <strong>Availability Zones</strong></li>
<li><strong>Application Load Balancer</strong></li>
<li><strong>Auto Scaling Group</strong></li>
<li>Health checks</li>
<li>Stateless EC2</li>
</ul>
<blockquote>
<p>ğŸ¯ One-line interview answer</p>
</blockquote>
<blockquote>
<p>â€œI deploy EC2 instances across multiple AZs behind an ALB using Auto Scaling Groups to eliminate single points of failure.â€</p>
</blockquote>
<hr>
<h3 id="-scenario-3-one-ec2-instance-was-terminated-accidentally-what-happens"><a class="header" href="#-scenario-3-one-ec2-instance-was-terminated-accidentally-what-happens">ğŸ”¹ SCENARIO 3: â€œOne EC2 instance was terminated accidentally. What happens?â€</a></h3>
<blockquote>
<p>âœ… Correct Explanation</p>
</blockquote>
<ul>
<li>ASG detects capacity drop</li>
<li>Launches <strong>new EC2</strong></li>
<li>Registers with Target Group</li>
<li>ALB routes traffic</li>
</ul>
<p>ğŸ“Œ <strong>Key word interviewers want</strong>:
ğŸ‘‰ <strong>Self-healing</strong></p>
<hr>
<h3 id="-scenario-4-how-do-you-deploy-a-new-version-with-zero-downtime"><a class="header" href="#-scenario-4-how-do-you-deploy-a-new-version-with-zero-downtime">ğŸ”¹ SCENARIO 4: â€œHow do you deploy a new version with zero downtime?â€</a></h3>
<blockquote>
<p>âœ… Correct Answer</p>
</blockquote>
<ul>
<li>Blueâ€“Green deployment</li>
<li>Two target groups</li>
<li>Switch ALB listener</li>
<li>Rollback possible in seconds</li>
</ul>
<p>âŒ Wrong</p>
<blockquote>
<p>â€œI stop the server and deployâ€</p>
</blockquote>
<hr>
<h3 id="-scenario-5-how-do-you-secure-ec2-access"><a class="header" href="#-scenario-5-how-do-you-secure-ec2-access">ğŸ”¹ SCENARIO 5: â€œHow do you secure EC2 access?â€</a></h3>
<blockquote>
<p>âœ… Production-grade Answer</p>
</blockquote>
<ul>
<li>IAM Roles (no access keys)</li>
<li>Session Manager (no SSH)</li>
<li>Security Groups (least privilege)</li>
<li>Private subnets</li>
</ul>
<p>ğŸ¯ <strong>Golden line</strong></p>
<blockquote>
<p>â€œWe donâ€™t open port 22 in production.â€</p>
</blockquote>
<hr>
<h3 id="-scenario-6-where-do-you-store-data-in-ec2"><a class="header" href="#-scenario-6-where-do-you-store-data-in-ec2">ğŸ”¹ SCENARIO 6: â€œWhere do you store data in EC2?â€</a></h3>
<blockquote>
<p>âœ… Correct Design</p>
</blockquote>
<ul>
<li>OS â†’ Root volume</li>
<li>App data â†’ Separate EBS</li>
<li>DB â†’ RDS (not EC2)</li>
<li>Backups â†’ Snapshots + AMIs</li>
</ul>
<p>âŒ Wrong</p>
<blockquote>
<p>â€œEverything on root volumeâ€</p>
</blockquote>
<hr>
<h3 id="-scenario-7-how-do-you-monitor-ec2"><a class="header" href="#-scenario-7-how-do-you-monitor-ec2">ğŸ”¹ SCENARIO 7: â€œHow do you monitor EC2?â€</a></h3>
<blockquote>
<p>âœ… Expected Answer</p>
</blockquote>
<ul>
<li>CloudWatch metrics</li>
<li>CloudWatch logs</li>
<li>Alarms</li>
<li>Auto Scaling actions</li>
</ul>
<p>ğŸ“Œ Mention <strong>CPU is not enough</strong> â†’ memory via agent</p>
<hr>
<h3 id="-scenario-8-how-do-you-reduce-ec2-cost"><a class="header" href="#-scenario-8-how-do-you-reduce-ec2-cost">ğŸ”¹ SCENARIO 8: â€œHow do you reduce EC2 cost?â€</a></h3>
<blockquote>
<p>âœ… Strong Answer</p>
</blockquote>
<ul>
<li>Right-size using metrics</li>
<li>Auto Scaling</li>
<li>Spot instances for non-critical workloads</li>
<li>Savings Plans</li>
<li>Stop non-prod EC2</li>
</ul>
<p>ğŸ¯ Keyword: <strong>cost optimization</strong></p>
<hr>
<h3 id="-scenario-9-how-do-you-recover-from-data-loss"><a class="header" href="#-scenario-9-how-do-you-recover-from-data-loss">ğŸ”¹ SCENARIO 9: â€œHow do you recover from data loss?â€</a></h3>
<blockquote>
<p>âœ… Correct Recovery Path</p>
</blockquote>
<ul>
<li>Restore from snapshot</li>
<li>Attach volume</li>
<li>Launch EC2 from AMI if needed</li>
<li>Resume service</li>
</ul>
<p>ğŸ“Œ Backup without restore testing = âŒ</p>
<hr>
<h3 id="-scenario-10-system-design-question--most-important"><a class="header" href="#-scenario-10-system-design-question--most-important">ğŸ”¹ SCENARIO 10: SYSTEM DESIGN QUESTION (â­ MOST IMPORTANT)</a></h3>
<blockquote>
<p>â“ â€œDesign a production EC2 architectureâ€</p>
</blockquote>
<blockquote>
<p>âœ… Expected Whiteboard Flow</p>
</blockquote>
<pre><code>User
 â†“
Route 53
 â†“
Application Load Balancer
 â†“
Auto Scaling Group (Multi-AZ)
 â†“
EC2 (Private Subnets)
 â†“
RDS
</code></pre>
<blockquote>
<p>ğŸ¯ PERFECT INTERVIEW ANSWER</p>
</blockquote>
<blockquote>
<p>â€œI design EC2 using ALB and Auto Scaling across multiple AZs, keep instances in private subnets, use IAM roles and Session Manager for security, CloudWatch for monitoring, RDS for data, and snapshots/AMIs for backup.â€</p>
</blockquote>
<hr>
<h3 id="-final-self-check-honest"><a class="header" href="#-final-self-check-honest">ğŸ§  FINAL SELF-CHECK (HONEST)</a></h3>
<p>If you can:</p>
<ul>
<li>Explain <strong>why</strong> ALB is needed</li>
<li>Explain <strong>why</strong> private subnets are used</li>
<li>Explain <strong>how</strong> EC2 recovers automatically</li>
<li>Explain <strong>how</strong> to deploy without downtime</li>
</ul>
<p>ğŸ‘‰ <strong>You are EC2-ready.</strong></p>
<hr>
<h3 id="-final-verdict-no-hype-pure-fact"><a class="header" href="#-final-verdict-no-hype-pure-fact">ğŸ† FINAL VERDICT (NO HYPE, PURE FACT)</a></h3>
<blockquote>
<p>With LAB 1â€“40, you are ready for:</p>
</blockquote>
<p>âœ… EC2 interviews
âœ… AWS Cloud Practitioner
âœ… AWS Solutions Architect (EC2 part)
âœ… Real EC2 production work</p>
<p>You are <strong>far above beginner level</strong>.</p>
<hr>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="aws-hands-on_index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="aws-hands-on_index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
